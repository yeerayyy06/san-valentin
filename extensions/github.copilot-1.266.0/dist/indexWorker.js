"use strict";var eI=Object.create;var li=Object.defineProperty;var tI=Object.getOwnPropertyDescriptor;var nI=Object.getOwnPropertyNames;var rI=Object.getPrototypeOf,oI=Object.prototype.hasOwnProperty;var iI=(e,t,n)=>t in e?li(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var r=(e,t)=>li(e,"name",{value:t,configurable:!0});var X=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Su=(e,t)=>{for(var n in t)li(e,n,{get:t[n],enumerable:!0})},sI=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of nI(t))!oI.call(e,i)&&i!==n&&li(e,i,{get:()=>t[i],enumerable:!(o=tI(t,i))||o.enumerable});return e};var Wn=(e,t,n)=>(n=e!=null?eI(rI(e)):{},sI(t||!e||!e.__esModule?li(n,"default",{value:e,enumerable:!0}):n,e));var nr=(e,t,n)=>iI(e,typeof t!="symbol"?t+"":t,n);var Tp=X(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.bytePairEncode=kn.BinaryMap=kn.binaryMapKey=void 0;var II=r((e,t,n)=>{let o=n-t,i=16777215>>>Math.max(0,(3-o)*8),u=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&i,s=16777215>>>Math.min(31,Math.max(0,(6-o)*8)),a=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&s;return u+16777216*a},"binaryMapKey");kn.binaryMapKey=II;var hi=class hi{constructor(){this.nested=new Map,this.final=new Map}get(t,n=0,o=t.length){var s;let i=o<6+n,u=(0,kn.binaryMapKey)(t,n,o);return i?this.final.get(u):(s=this.nested.get(u))==null?void 0:s.get(t,6+n,o)}set(t,n){let o=(0,kn.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(o,n);return}let u=this.nested.get(o);if(u instanceof hi)u.set(t.subarray(6),n);else{let s=new hi;s.set(t.subarray(6),n),this.nested.set(o,s)}}};r(hi,"BinaryMap");var Hu=hi;kn.BinaryMap=Hu;var Pn=new Int32Array(128),Mt=new Int32Array(128);function xI(e,t,n){var c;if(n===1)return[t.get(e)];let o=2147483647,i=-1;for(;Pn.length<n*2;)Mt=new Int32Array(Mt.length*2),Pn=new Int32Array(Pn.length*2);for(let l=0;l<n-1;l++){let m=(c=t.get(e,l,l+2))!=null?c:2147483647;m<o&&(o=m,i=l),Mt[l]=l,Pn[l]=m}Mt[n-1]=n-1,Pn[n-1]=2147483647,Mt[n]=n,Pn[n]=2147483647;let u=n+1;function s(l,m=0){if(l+m+2<u){let g=t.get(e,Mt[l],Mt[l+m+2]);if(g!==void 0)return g}return 2147483647}for(r(s,"getRank");o!==2147483647;){Pn[Mt[i]]=s(i,1),i>0&&(Pn[Mt[i-1]]=s(i-1,1));for(let l=i+1;l<u-1;l++)Mt[l]=Mt[l+1];u--,i=-1,o=2147483647;for(let l=0;l<u-1;l++){let m=Pn[Mt[l]];Pn[Mt[l]]<o&&(o=m,i=l)}}let a=[];for(let l=0;l<u-1;l++)a.push(t.get(e,Mt[l],Mt[l+1]));return a}r(xI,"bytePairEncode");kn.bytePairEncode=xI});var Ep=X(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.makeTextEncoder=void 0;var Ju=class Ju{constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let n=this.encoder.encode(t);return this.length=n.length,n}};r(Ju,"UniversalTextEncoder");var Zu=Ju,Xu=class Xu{constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}};r(Xu,"NodeTextEncoder");var Qu=Xu,SI=r(()=>typeof Buffer<"u"?new Qu:new Zu,"makeTextEncoder");Ts.makeTextEncoder=SI});var Rp=X(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.LRUCache=void 0;var tc=class tc{constructor(t){this.size=t,this.nodes=new Map}get(t){let n=this.nodes.get(t);if(n)return this.moveToHead(n),n.value}set(t,n){let o=this.nodes.get(t);if(o)o.value=n,this.moveToHead(o);else{let i=new ec(t,n);this.nodes.set(t,i),this.addNode(i),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};r(tc,"LRUCache");var Yu=tc;Es.LRUCache=Yu;var nc=class nc{constructor(t,n){this.key=t,this.value=n}};r(nc,"Node");var ec=nc});var ic=X(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.TikTokenizer=void 0;var TI=require("fs"),EI=require("util"),Rs=Tp(),RI=Ep(),PI=Rp();function kI(e){let t=new Map;try{let o=TI.readFileSync(e,"utf-8");return n(o),t}catch(o){throw new Error(`Failed to load from BPE encoder file stream: ${o}`)}function n(o){for(let i of o.split(/[\r\n]+/)){if(i.trim()==="")continue;let u=i.split(" ");if(u.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let s=new Uint8Array(Buffer.from(u[0],"base64")),a=parseInt(u[1]);if(!isNaN(a))t.set(s,a);else throw new Error(`Can't parse ${u[1]} to integer`)}}r(n,"processBpeRanks")}r(kI,"loadTikTokenBpe");function MI(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}r(MI,"escapeRegExp");var oc=class oc{constructor(t,n,o,i=8192){this.textEncoder=(0,RI.makeTextEncoder)(),this.textDecoder=new EI.TextDecoder("utf-8"),this.cache=new PI.LRUCache(i);let u=typeof t=="string"?kI(t):t;this.init(u,n,o)}init(t,n,o){this.encoder=new Rs.BinaryMap;for(let[i,u]of t)this.encoder.set(i,u);this.regex=new RegExp(o,"gu"),this.specialTokensRegex=new RegExp(Array.from(n.keys()).map(i=>MI(i)).join("|")),this.specialTokensEncoder=n,this.decoder=new Map;for(let[i,u]of t)this.decoder.set(u,i);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[i,u]of n)this.specialTokensDecoder.set(u,i)}findNextSpecialToken(t,n,o){let i=n,u=null;if(o&&this.specialTokensRegex)for(;u=t.slice(i).match(this.specialTokensRegex),!(!u||o&&o.includes(u[0]));)i+=u.index+1;let s=u?i+u.index:t.length;return[u,s]}encode(t,n){let o=[],i=0;for(;;){let u,s;if([u,s]=this.findNextSpecialToken(t,i,n),s>i&&this.encodeByIndex(t,o,i,s),u){if(i=i+this.encodeSpecialToken(o,u),i>=t.length)break}else break}return o}encodeSpecialToken(t,n){var i;let o=(i=this.specialTokensEncoder)==null?void 0:i.get(n[0]);return t.push(o),n.index+n[0].length}encodeByIndex(t,n,o,i){let u,s=t.substring(o,i);for(this.regex.lastIndex=0;u=this.regex.exec(s);){let a=this.cache.get(u[0]);if(a)for(let c of a)n.push(c);else{let c=this.textEncoder.encode(u[0]),l=this.encoder.get(c,0,this.textEncoder.length);if(l!==void 0)n.push(l),this.cache.set(u[0],[l]);else{let m=(0,Rs.bytePairEncode)(c,this.encoder,this.textEncoder.length);for(let g of m)n.push(g);this.cache.set(u[0],m)}}}}encodeTrimSuffixByIndex(t,n,o,i,u,s,a){let c,l=t.substring(o,i);for(this.regex.lastIndex=0;c=this.regex.exec(l);){let m=c[0],g=this.cache.get(m);if(g)if(s+g.length<=u)s+=g.length,a+=m.length,n.push(...g);else{let _=u-s;s+=_,a+=m.length,n.push(...g.slice(0,_));break}else{let _=this.textEncoder.encode(m),v=this.encoder.get(_,0,_.length);if(v!==void 0)if(this.cache.set(m,[v]),s+1<=u)s++,a+=m.length,n.push(v);else break;else{let T=(0,Rs.bytePairEncode)(_,this.encoder,this.textEncoder.length);if(this.cache.set(m,T),s+T.length<=u){s+=T.length,a+=m.length;for(let P of T)n.push(P)}else{let P=u-s;s+=P,a+=m.length;for(let j=0;j<P;j++)n.push(T[j]);break}}}if(s>=u)break}return{tokenCount:s,encodeLength:a}}encodeTrimSuffix(t,n,o){let i=[],u=0,s=0,a=0;for(;;){let l,m;if([l,m]=this.findNextSpecialToken(t,u,o),m>u){let{tokenCount:g,encodeLength:_}=this.encodeTrimSuffixByIndex(t,i,u,m,n,s,a);if(s=g,a=_,s>=n)break}if(l!==null){if(s++,s<=n&&(u=u+this.encodeSpecialToken(i,l),a+=l[0].length,u>=t.length)||s>=n)break}else break}let c=a===t.length?t:t.slice(0,a);return{tokenIds:i,text:c}}encodeTrimPrefix(t,n,o){let i=[],u=0,s=0,a=0,c=new Map;for(c.set(s,a);;){let _,v;if([_,v]=this.findNextSpecialToken(t,u,o),v>u){let T,P=t.substring(u,v);for(this.regex.lastIndex=0;T=this.regex.exec(P);){let j=T[0],L=this.cache.get(j);if(L)s+=L.length,a+=j.length,i.push(...L),c.set(s,a);else{let Q=this.textEncoder.encode(j),$=this.encoder.get(Q);if($!==void 0)this.cache.set(j,[$]),s++,a+=j.length,i.push($),c.set(s,a);else{let Y=(0,Rs.bytePairEncode)(Q,this.encoder,this.textEncoder.length);this.cache.set(j,Y),s+=Y.length,a+=j.length;for(let z of Y)i.push(z);c.set(s,a)}}}}if(_!==null){if(u=u+this.encodeSpecialToken(i,_),s++,a+=_[0].length,c.set(s,a),u>=t.length)break}else break}if(s<=n)return{tokenIds:i,text:t};let l=s-n,m=0,g=0;for(let[_,v]of c)if(_>=l){m=_,g=v;break}if(m>n){let _=this.encode(t,o),v=_.slice(_.length-n);return{tokenIds:v,text:this.decode(v)}}return{tokenIds:i.slice(m),text:t.slice(g)}}decode(t){var o,i;let n=[];for(let u of t){let s=[],a=(o=this.decoder)==null?void 0:o.get(u);if(a!==void 0)s=Array.from(a);else{let c=(i=this.specialTokensDecoder)==null?void 0:i.get(u);if(c!==void 0){let l=this.textEncoder.encode(c);s=Array.from(l.subarray(0,this.textEncoder.length))}}n.push(...s)}return this.textDecoder.decode(new Uint8Array(n))}};r(oc,"TikTokenizer");var rc=oc;Ps.TikTokenizer=rc});var Dp=X(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.createTokenizer=rt.createByEncoderName=rt.createByModelName=rt.getRegexByModel=rt.getRegexByEncoder=rt.getSpecialTokensByModel=rt.getSpecialTokensByEncoder=rt.MODEL_TO_ENCODING=void 0;var Ms=require("fs"),sc=require("path"),NI=ic(),CI=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);rt.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var ks="<|endoftext|>",Pp="<|fim_prefix|>",kp="<|fim_middle|>",Mp="<|fim_suffix|>",Np="<|endofprompt|>",_i="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",Cp="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",LI=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],Lp=LI.join("|");function ac(e){let t="";if(rt.MODEL_TO_ENCODING.has(e))t=rt.MODEL_TO_ENCODING.get(e);else for(let[n,o]of CI)if(e.startsWith(n)){t=o;break}return t}r(ac,"getEncoderFromModelName");async function OI(e,t){let n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${n.status}`);let o=await n.text();Ms.writeFileSync(t,o)}r(OI,"fetchAndSaveFile");function uc(e){let t=new Map([[ks,50256]]);switch(e){case"o200k_base":t=new Map([[ks,199999],[Np,200018]]);break;case"cl100k_base":t=new Map([[ks,100257],[Pp,100258],[kp,100259],[Mp,100260],[Np,100276]]);break;case"p50k_edit":t=new Map([[ks,50256],[Pp,50281],[kp,50282],[Mp,50283]]);break;default:break}return t}r(uc,"getSpecialTokensByEncoder");rt.getSpecialTokensByEncoder=uc;function FI(e){let t=ac(e);return uc(t)}r(FI,"getSpecialTokensByModel");rt.getSpecialTokensByModel=FI;function Op(e){switch(e){case"o200k_base":return Lp;case"cl100k_base":return Cp;default:break}return _i}r(Op,"getRegexByEncoder");rt.getRegexByEncoder=Op;function AI(e){let t=ac(e);return Op(t)}r(AI,"getRegexByModel");rt.getRegexByModel=AI;async function DI(e,t=null){return Fp(ac(e),t)}r(DI,"createByModelName");rt.createByModelName=DI;async function Fp(e,t=null){let n,o,i=uc(e);switch(e){case"o200k_base":n=Lp,o="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":n=Cp,o="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":n=_i,o="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":n=_i,o="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":n=_i,o="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":n=_i,o="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(i=new Map([...i,...t]));let u=sc.basename(o),s=sc.resolve(__dirname,"..","model");Ms.existsSync(s)||Ms.mkdirSync(s,{recursive:!0});let a=sc.resolve(s,u);return Ms.existsSync(a)||(console.log(`Downloading file from ${o}`),await OI(o,a),console.log(`Saved file to ${a}`)),Ap(a,i,n)}r(Fp,"createByEncoderName");rt.createByEncoderName=Fp;function Ap(e,t,n,o=8192){return new NI.TikTokenizer(e,t,n,o)}r(Ap,"createTokenizer");rt.createTokenizer=Ap});var jp=X(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.createTokenizer=ot.createByEncoderName=ot.createByModelName=ot.getSpecialTokensByModel=ot.getSpecialTokensByEncoder=ot.getRegexByModel=ot.getRegexByEncoder=ot.MODEL_TO_ENCODING=ot.TikTokenizer=void 0;var jI=ic();Object.defineProperty(ot,"TikTokenizer",{enumerable:!0,get:r(function(){return jI.TikTokenizer},"get")});var or=Dp();Object.defineProperty(ot,"MODEL_TO_ENCODING",{enumerable:!0,get:r(function(){return or.MODEL_TO_ENCODING},"get")});Object.defineProperty(ot,"getRegexByEncoder",{enumerable:!0,get:r(function(){return or.getRegexByEncoder},"get")});Object.defineProperty(ot,"getRegexByModel",{enumerable:!0,get:r(function(){return or.getRegexByModel},"get")});Object.defineProperty(ot,"getSpecialTokensByEncoder",{enumerable:!0,get:r(function(){return or.getSpecialTokensByEncoder},"get")});Object.defineProperty(ot,"getSpecialTokensByModel",{enumerable:!0,get:r(function(){return or.getSpecialTokensByModel},"get")});Object.defineProperty(ot,"createByModelName",{enumerable:!0,get:r(function(){return or.createByModelName},"get")});Object.defineProperty(ot,"createByEncoderName",{enumerable:!0,get:r(function(){return or.createByEncoderName},"get")});Object.defineProperty(ot,"createTokenizer",{enumerable:!0,get:r(function(){return or.createTokenizer},"get")})});var Hp=X((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;let _Parser=class _Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=r((s,a)=>{throw a},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(s){return Module.locateFile?Module.locateFile(s,scriptDirectory):scriptDirectory+s}r(locateFile,"locateFile");function logExceptionOnExit(s){s instanceof ExitStatus||err("exiting due to exception: "+s)}if(r(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=r((s,a)=>(s=isFileURI(s)?new URL(s):nodePath.normalize(s),fs.readFileSync(s,a?void 0:"utf8")),"read_"),readBinary=r(s=>{var a=read_(s,!0);return a.buffer||(a=new Uint8Array(a)),a},"readBinary"),readAsync=r((s,a,c)=>{s=isFileURI(s)?new URL(s):nodePath.normalize(s),fs.readFile(s,function(l,m){l?c(l):a(m.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=r((s,a)=>{if(keepRuntimeAlive())throw process.exitCode=s,a;logExceptionOnExit(a),process.exit(s)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=r(s=>{var a=new XMLHttpRequest;return a.open("GET",s,!1),a.send(null),a.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=r(s=>{var a=new XMLHttpRequest;return a.open("GET",s,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)},"readBinary")),readAsync=r((s,a,c)=>{var l=new XMLHttpRequest;l.open("GET",s,!0),l.responseType="arraybuffer",l.onload=()=>{l.status==200||l.status==0&&l.response?a(l.response):c()},l.onerror=c,l.send(null)},"readAsync"),setWindowTitle=r(s=>document.title=s,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(s,a,c){for(var l=a+c,m=a;s[m]&&!(m>=l);)++m;if(m-a>16&&s.buffer&&UTF8Decoder)return UTF8Decoder.decode(s.subarray(a,m));for(var g="";a<m;){var _=s[a++];if(128&_){var v=63&s[a++];if((224&_)!=192){var T=63&s[a++];if((_=(240&_)==224?(15&_)<<12|v<<6|T:(7&_)<<18|v<<12|T<<6|63&s[a++])<65536)g+=String.fromCharCode(_);else{var P=_-65536;g+=String.fromCharCode(55296|P>>10,56320|1023&P)}}else g+=String.fromCharCode((31&_)<<6|v)}else g+=String.fromCharCode(_)}return g}r(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(s,a){return s?UTF8ArrayToString(HEAPU8,s,a):""}r(UTF8ToString,"UTF8ToString");function stringToUTF8Array(s,a,c,l){if(!(l>0))return 0;for(var m=c,g=c+l-1,_=0;_<s.length;++_){var v=s.charCodeAt(_);if(v>=55296&&v<=57343&&(v=65536+((1023&v)<<10)|1023&s.charCodeAt(++_)),v<=127){if(c>=g)break;a[c++]=v}else if(v<=2047){if(c+1>=g)break;a[c++]=192|v>>6,a[c++]=128|63&v}else if(v<=65535){if(c+2>=g)break;a[c++]=224|v>>12,a[c++]=128|v>>6&63,a[c++]=128|63&v}else{if(c+3>=g)break;a[c++]=240|v>>18,a[c++]=128|v>>12&63,a[c++]=128|v>>6&63,a[c++]=128|63&v}}return a[c]=0,c-m}r(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(s,a,c){return stringToUTF8Array(s,HEAPU8,a,c)}r(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(s){for(var a=0,c=0;c<s.length;++c){var l=s.charCodeAt(c);l<=127?a++:l<=2047?a+=2:l>=55296&&l<=57343?(a+=4,++c):a+=3}return a}r(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(s){buffer=s,Module.HEAP8=HEAP8=new Int8Array(s),Module.HEAP16=HEAP16=new Int16Array(s),Module.HEAP32=HEAP32=new Int32Array(s),Module.HEAPU8=HEAPU8=new Uint8Array(s),Module.HEAPU16=HEAPU16=new Uint16Array(s),Module.HEAPU32=HEAPU32=new Uint32Array(s),Module.HEAPF32=HEAPF32=new Float32Array(s),Module.HEAPF64=HEAPF64=new Float64Array(s)}r(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}r(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}r(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}r(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}r(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}r(postRun,"postRun");function addOnPreRun(s){__ATPRERUN__.unshift(s)}r(addOnPreRun,"addOnPreRun");function addOnInit(s){__ATINIT__.unshift(s)}r(addOnInit,"addOnInit");function addOnPostRun(s){__ATPOSTRUN__.unshift(s)}r(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(s){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}r(addRunDependency,"addRunDependency");function removeRunDependency(s){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var a=dependenciesFulfilled;dependenciesFulfilled=null,a()}}r(removeRunDependency,"removeRunDependency");function abort(s){throw Module.onAbort&&Module.onAbort(s),err(s="Aborted("+s+")"),ABORT=!0,EXITSTATUS=1,s+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(s)}r(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(s){return s.startsWith(dataURIPrefix)}r(isDataURI,"isDataURI");function isFileURI(s){return s.startsWith("file://")}r(isFileURI,"isFileURI");function getBinary(s){try{if(s==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(s);throw"both async and sync fetching of the wasm failed"}catch(a){abort(a)}}r(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(s){if(!s.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return s.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(s,a){readAsync(wasmBinaryFile,function(c){s(new Uint8Array(c))},a)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}r(getBinaryPromise,"getBinaryPromise");function createWasm(){var s={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function a(m,g){var _=m.exports;_=relocateExports(_,1024);var v=getDylinkMetadata(g);v.neededDynlibs&&(dynamicLibraries=v.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(_,"main"),Module.asm=_,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}r(a,"t");function c(m){a(m.instance,m.module)}r(c,"r");function l(m){return getBinaryPromise().then(function(g){return WebAssembly.instantiate(g,s)}).then(function(g){return g}).then(m,function(g){err("failed to asynchronously prepare wasm: "+g),abort(g)})}if(r(l,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(s,a)}catch(m){return err("Module.instantiateWasm callback failed with error: "+m),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?l(c):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(m){return WebAssembly.instantiateStreaming(m,s).then(c,function(g){return err("wasm streaming compile failed: "+g),err("falling back to ArrayBuffer instantiation"),l(c)})}),{}}r(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(s){this.name="ExitStatus",this.message="Program terminated with exit("+s+")",this.status=s}r(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:r(function(s,a){var c=GOT[a];return c||(c=GOT[a]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(a)||(c.required=!0),c},"get")};function callRuntimeCallbacks(s){for(;s.length>0;)s.shift()(Module)}r(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(s){var a=0,c=0;function l(){for(var ne=0,U=1;;){var ie=s[a++];if(ne+=(127&ie)*U,U*=128,!(128&ie))break}return ne}r(l,"_");function m(){var ne=l();return UTF8ArrayToString(s,(a+=ne)-ne,ne)}r(m,"n");function g(ne,U){if(ne)throw new Error(U)}r(g,"s");var _="dylink.0";if(s instanceof WebAssembly.Module){var v=WebAssembly.Module.customSections(s,_);v.length===0&&(_="dylink",v=WebAssembly.Module.customSections(s,_)),g(v.length===0,"need dylink section"),c=(s=new Uint8Array(v[0])).length}else{g(new Uint32Array(new Uint8Array(s.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),g(s[8]!==0,"need the dylink section to be first"),a=9;var T=l();c=a+T,_=m()}var P={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(_=="dylink"){P.memorySize=l(),P.memoryAlign=l(),P.tableSize=l(),P.tableAlign=l();for(var j=l(),L=0;L<j;++L){var Q=m();P.neededDynlibs.push(Q)}}else for(g(_!=="dylink.0");a<c;){var $=s[a++],Y=l();if($===1)P.memorySize=l(),P.memoryAlign=l(),P.tableSize=l(),P.tableAlign=l();else if($===2)for(j=l(),L=0;L<j;++L)Q=m(),P.neededDynlibs.push(Q);else if($===3)for(var z=l();z--;){var re=m();256&l()&&P.tlsExports.add(re)}else if($===4)for(z=l();z--;)m(),re=m(),(3&l())==1&&P.weakImports.add(re);else a+=Y}return P}r(getDylinkMetadata,"getDylinkMetadata");function getValue(s,a="i8"){switch(a.endsWith("*")&&(a="*"),a){case"i1":case"i8":return HEAP8[s>>0];case"i16":return HEAP16[s>>1];case"i32":case"i64":return HEAP32[s>>2];case"float":return HEAPF32[s>>2];case"double":return HEAPF64[s>>3];case"*":return HEAPU32[s>>2];default:abort("invalid type for getValue: "+a)}return null}r(getValue,"getValue");function asmjsMangle(s){return s.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(s)?s:"_"+s}r(asmjsMangle,"asmjsMangle");function mergeLibSymbols(s,a){for(var c in s)if(s.hasOwnProperty(c)){asmLibraryArg.hasOwnProperty(c)||(asmLibraryArg[c]=s[c]);var l=asmjsMangle(c);Module.hasOwnProperty(l)||(Module[l]=s[c]),c=="__main_argc_argv"&&(Module._main=s[c])}}r(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(s,a,c){var l=Module["dynCall_"+s];return c&&c.length?l.apply(null,[a].concat(c)):l.call(null,a)}r(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(s){var a=wasmTableMirror[s];return a||(s>=wasmTableMirror.length&&(wasmTableMirror.length=s+1),wasmTableMirror[s]=a=wasmTable.get(s)),a}r(getWasmTableEntry,"getWasmTableEntry");function dynCall(s,a,c){return s.includes("j")?dynCallLegacy(s,a,c):getWasmTableEntry(a).apply(null,c)}r(dynCall,"dynCall");function createInvokeFunction(s){return function(){var a=stackSave();try{return dynCall(s,arguments[0],Array.prototype.slice.call(arguments,1))}catch(c){if(stackRestore(a),c!==c+0)throw c;_setThrew(1,0)}}}r(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(s,a){return HEAPU8.fill(0,s,s+a),s}r(zeroMemory,"zeroMemory");function getMemory(s){if(runtimeInitialized)return zeroMemory(_malloc(s),s);var a=___heap_base,c=a+s+15&-16;return ___heap_base=c,GOT.__heap_base.value=c,a}r(getMemory,"getMemory");function isInternalSym(s){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(s)}r(isInternalSym,"isInternalSym");function uleb128Encode(s,a){s<128?a.push(s):a.push(s%128|128,s>>7)}r(uleb128Encode,"uleb128Encode");function sigToWasmTypes(s){for(var a={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},c={parameters:[],results:s[0]=="v"?[]:[a[s[0]]]},l=1;l<s.length;++l)c.parameters.push(a[s[l]]),s[l]==="j"&&c.parameters.push("i32");return c}r(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(s,a){var c=s.slice(0,1),l=s.slice(1),m={i:127,p:127,j:126,f:125,d:124};a.push(96),uleb128Encode(l.length,a);for(var g=0;g<l.length;++g)a.push(m[l[g]]);c=="v"?a.push(0):a.push(1,m[c])}r(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(s,a){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(a),s);var c=[1];generateFuncType(a,c);var l=[0,97,115,109,1,0,0,0,1];uleb128Encode(c.length,l),l.push.apply(l,c),l.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var m=new WebAssembly.Module(new Uint8Array(l));return new WebAssembly.Instance(m,{e:{f:s}}).exports.f}r(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(s,a){if(functionsInTableMap)for(var c=s;c<s+a;c++){var l=getWasmTableEntry(c);l&&functionsInTableMap.set(l,c)}}r(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(s){throw s instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":s}return wasmTable.length-1}r(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(s,a){wasmTable.set(s,a),wasmTableMirror[s]=wasmTable.get(s)}r(setWasmTableEntry,"setWasmTableEntry");function addFunction(s,a){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(s))return functionsInTableMap.get(s);var c=getEmptyTableSlot();try{setWasmTableEntry(c,s)}catch(l){if(!(l instanceof TypeError))throw l;setWasmTableEntry(c,convertJsFunctionToWasm(s,a))}return functionsInTableMap.set(s,c),c}r(addFunction,"addFunction");function updateGOT(s,a){for(var c in s)if(!isInternalSym(c)){var l=s[c];c.startsWith("orig$")&&(c=c.split("$")[1],a=!0),GOT[c]||(GOT[c]=new WebAssembly.Global({value:"i32",mutable:!0})),(a||GOT[c].value==0)&&(typeof l=="function"?GOT[c].value=addFunction(l):typeof l=="number"?GOT[c].value=l:err("unhandled export type for `"+c+"`: "+typeof l))}}r(updateGOT,"updateGOT");function relocateExports(s,a,c){var l={};for(var m in s){var g=s[m];typeof g=="object"&&(g=g.value),typeof g=="number"&&(g+=a),l[m]=g}return updateGOT(l,c),l}r(relocateExports,"relocateExports");function resolveGlobalSymbol(s,a){var c;return a&&(c=asmLibraryArg["orig$"+s]),c||(c=asmLibraryArg[s])&&c.stub&&(c=void 0),c||(c=Module[asmjsMangle(s)]),!c&&s.startsWith("invoke_")&&(c=createInvokeFunction(s.split("_")[1])),c}r(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(s,a){return Math.ceil(s/a)*a}r(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(s){var a=resolveGlobalSymbol(s,!1);return a||(a=moduleExports[s]),a}r(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:r(function(s,a){switch(a){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(a in asmLibraryArg)return asmLibraryArg[a];var c;return a in s||(s[a]=function(){return c||(c=resolveSymbol(a)),c.apply(null,arguments)}),s[a]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(r(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(r(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(s){return postInstantiation(s.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return r(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(s,a){return s.then(function(){return loadDynamicLibrary(a,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(s){loadDynamicLibrary(s,flags)}),loadModule())}r(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(s,a,c){a=a||{global:!0,nodelete:!0};var l=LDSO.loadedLibsByName[s];if(l)return a.global&&!l.global&&(l.global=!0,l.module!=="loading"&&mergeLibSymbols(l.module,s)),a.nodelete&&l.refcount!==1/0&&(l.refcount=1/0),l.refcount++,c&&(LDSO.loadedLibsByHandle[c]=l),!a.loadAsync||Promise.resolve(!0);function m(v){if(a.fs&&a.fs.findObject(v)){var T=a.fs.readFile(v,{encoding:"binary"});return T instanceof Uint8Array||(T=new Uint8Array(T)),a.loadAsync?Promise.resolve(T):T}if(v=locateFile(v),a.loadAsync)return new Promise(function(P,j){readAsync(v,L=>P(new Uint8Array(L)),j)});if(!readBinary)throw new Error(v+": file not found, and synchronous loading of external files is not available");return readBinary(v)}r(m,"n");function g(){if(typeof preloadedWasm<"u"&&preloadedWasm[s]){var v=preloadedWasm[s];return a.loadAsync?Promise.resolve(v):v}return a.loadAsync?m(s).then(function(T){return loadWebAssemblyModule(T,a,c)}):loadWebAssemblyModule(m(s),a,c)}r(g,"s");function _(v){l.global&&mergeLibSymbols(v,s),l.module=v}return r(_,"a"),l={refcount:a.nodelete?1/0:1,name:s,module:"loading",global:a.global},LDSO.loadedLibsByName[s]=l,c&&(LDSO.loadedLibsByHandle[c]=l),a.loadAsync?g().then(function(v){return _(v),!0}):(_(g()),!0)}r(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var s in GOT)if(GOT[s].value==0){var a=resolveGlobalSymbol(s,!0);if(!a&&!GOT[s].required)continue;if(typeof a=="function")GOT[s].value=addFunction(a,a.sig);else{if(typeof a!="number")throw new Error("bad export type for `"+s+"`: "+typeof a);GOT[s].value=a}}}r(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(s,a){return s.then(function(){return loadDynamicLibrary(a,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}r(preloadDylibs,"preloadDylibs");function setValue(s,a,c="i8"){switch(c.endsWith("*")&&(c="*"),c){case"i1":case"i8":HEAP8[s>>0]=a;break;case"i16":HEAP16[s>>1]=a;break;case"i32":HEAP32[s>>2]=a;break;case"i64":tempI64=[a>>>0,(tempDouble=a,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[s>>2]=tempI64[0],HEAP32[s+4>>2]=tempI64[1];break;case"float":HEAPF32[s>>2]=a;break;case"double":HEAPF64[s>>3]=a;break;case"*":HEAPU32[s>>2]=a;break;default:abort("invalid type for setValue: "+c)}}r(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}r(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}r(_abort,"_abort");function _emscripten_date_now(){return Date.now()}r(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(s,a,c){HEAPU8.copyWithin(s,a,a+c)}r(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}r(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(s){try{return wasmMemory.grow(s-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}r(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(s){var a=HEAPU8.length;s>>>=0;var c=getHeapMax();if(s>c)return!1;for(var l=1;l<=4;l*=2){var m=a*(1+.2/l);if(m=Math.min(m,s+100663296),emscripten_realloc_buffer(Math.min(c,(g=Math.max(s,m))+((_=65536)-g%_)%_)))return!0}var g,_;return!1}r(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var s=process.hrtime();return 1e3*s[0]+s[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:r(function(s,a,c){if(PATH.isAbs(a))return a;var l;if(s===-100?l=FS.cwd():l=SYSCALLS.getStreamFromFD(s).path,a.length==0){if(!c)throw new FS.ErrnoError(44);return l}return PATH.join2(l,a)},"calculateAt"),doStat:r(function(s,a,c){try{var l=s(a)}catch(v){if(v&&v.node&&PATH.normalize(a)!==PATH.normalize(FS.getPath(v.node)))return-54;throw v}HEAP32[c>>2]=l.dev,HEAP32[c+8>>2]=l.ino,HEAP32[c+12>>2]=l.mode,HEAPU32[c+16>>2]=l.nlink,HEAP32[c+20>>2]=l.uid,HEAP32[c+24>>2]=l.gid,HEAP32[c+28>>2]=l.rdev,tempI64=[l.size>>>0,(tempDouble=l.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+40>>2]=tempI64[0],HEAP32[c+44>>2]=tempI64[1],HEAP32[c+48>>2]=4096,HEAP32[c+52>>2]=l.blocks;var m=l.atime.getTime(),g=l.mtime.getTime(),_=l.ctime.getTime();return tempI64=[Math.floor(m/1e3)>>>0,(tempDouble=Math.floor(m/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+56>>2]=tempI64[0],HEAP32[c+60>>2]=tempI64[1],HEAPU32[c+64>>2]=m%1e3*1e3,tempI64=[Math.floor(g/1e3)>>>0,(tempDouble=Math.floor(g/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+72>>2]=tempI64[0],HEAP32[c+76>>2]=tempI64[1],HEAPU32[c+80>>2]=g%1e3*1e3,tempI64=[Math.floor(_/1e3)>>>0,(tempDouble=Math.floor(_/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+88>>2]=tempI64[0],HEAP32[c+92>>2]=tempI64[1],HEAPU32[c+96>>2]=_%1e3*1e3,tempI64=[l.ino>>>0,(tempDouble=l.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+104>>2]=tempI64[0],HEAP32[c+108>>2]=tempI64[1],0},"doStat"),doMsync:r(function(s,a,c,l,m){if(!FS.isFile(a.node.mode))throw new FS.ErrnoError(43);if(2&l)return 0;var g=HEAPU8.slice(s,s+c);FS.msync(a,g,m,c,l)},"doMsync"),varargs:void 0,get:r(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:r(function(s){return UTF8ToString(s)},"getStr"),getStreamFromFD:r(function(s){var a=FS.getStream(s);if(!a)throw new FS.ErrnoError(8);return a},"getStreamFromFD")};function _proc_exit(s){EXITSTATUS=s,keepRuntimeAlive()||(Module.onExit&&Module.onExit(s),ABORT=!0),quit_(s,new ExitStatus(s))}r(_proc_exit,"_proc_exit");function exitJS(s,a){EXITSTATUS=s,_proc_exit(s)}r(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(s){try{var a=SYSCALLS.getStreamFromFD(s);return FS.close(a),0}catch(c){if(typeof FS>"u"||!(c instanceof FS.ErrnoError))throw c;return c.errno}}r(_fd_close,"_fd_close");function convertI32PairToI53Checked(s,a){return a+2097152>>>0<4194305-!!s?(s>>>0)+4294967296*a:NaN}r(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(s,a,c,l,m){try{var g=convertI32PairToI53Checked(a,c);if(isNaN(g))return 61;var _=SYSCALLS.getStreamFromFD(s);return FS.llseek(_,g,l),tempI64=[_.position>>>0,(tempDouble=_.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[m>>2]=tempI64[0],HEAP32[m+4>>2]=tempI64[1],_.getdents&&g===0&&l===0&&(_.getdents=null),0}catch(v){if(typeof FS>"u"||!(v instanceof FS.ErrnoError))throw v;return v.errno}}r(_fd_seek,"_fd_seek");function doWritev(s,a,c,l){for(var m=0,g=0;g<c;g++){var _=HEAPU32[a>>2],v=HEAPU32[a+4>>2];a+=8;var T=FS.write(s,HEAP8,_,v,l);if(T<0)return-1;m+=T,l!==void 0&&(l+=T)}return m}r(doWritev,"doWritev");function _fd_write(s,a,c,l){try{var m=doWritev(SYSCALLS.getStreamFromFD(s),a,c);return HEAPU32[l>>2]=m,0}catch(g){if(typeof FS>"u"||!(g instanceof FS.ErrnoError))throw g;return g.errno}}r(_fd_write,"_fd_write");function _tree_sitter_log_callback(s,a){if(currentLogCallback){let c=UTF8ToString(a);currentLogCallback(c,s!==0)}}r(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(s,a,c,l,m){var g=currentParseCallback(a,{row:c,column:l});typeof g=="string"?(setValue(m,g.length,"i32"),stringToUTF16(g,s,10240)):setValue(m,0,"i32")}r(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(s){if(s instanceof ExitStatus||s=="unwind")return EXITSTATUS;quit_(1,s)}r(handleException,"handleException");function allocateUTF8OnStack(s){var a=lengthBytesUTF8(s)+1,c=stackAlloc(a);return stringToUTF8Array(s,HEAP8,c,a),c}r(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(s,a,c){if(c===void 0&&(c=2147483647),c<2)return 0;for(var l=a,m=(c-=2)<2*s.length?c/2:s.length,g=0;g<m;++g){var _=s.charCodeAt(g);HEAP16[a>>1]=_,a+=2}return HEAP16[a>>1]=0,a-l}r(stringToUTF16,"stringToUTF16");function AsciiToString(s){for(var a="";;){var c=HEAPU8[s++>>0];if(!c)return a;a+=String.fromCharCode(c)}}r(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(s){var a=Module._main;if(a){(s=s||[]).unshift(thisProgram);var c=s.length,l=stackAlloc(4*(c+1)),m=l>>2;s.forEach(_=>{HEAP32[m++]=allocateUTF8OnStack(_)}),HEAP32[m]=0;try{var g=a(c,l);return exitJS(g,!0),g}catch(_){return handleException(_)}}}r(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=r(function s(){calledRun||run(),calledRun||(dependenciesFulfilled=s)},"e");var dylibsLoaded=!1;function run(s){function a(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(s),postRun()))}r(a,"t"),s=s||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),a()},1)):a()))}if(r(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;let e=class e{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(a){let c;if(a){if(a.constructor!==Language)throw new Error("Argument must be a Language");{c=a[0];let l=C._ts_language_version(c);if(l<MIN_COMPATIBLE_VERSION||VERSION<l)throw new Error(`Incompatible language version ${l}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else c=0,a=null;return this.language=a,C._ts_parser_set_language(this[0],c),this}getLanguage(){return this.language}parse(a,c,l){if(typeof a=="string")currentParseCallback=r((T,P,j)=>a.slice(T,j),"currentParseCallback");else{if(typeof a!="function")throw new Error("Argument must be a string or a function");currentParseCallback=a}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let m=0,g=0;if(l&&l.includedRanges){m=l.includedRanges.length,g=C._calloc(m,SIZE_OF_RANGE);let T=g;for(let P=0;P<m;P++)marshalRange(T,l.includedRanges[P]),T+=SIZE_OF_RANGE}let _=C._ts_parser_parse_wasm(this[0],this[1],c?c[0]:0,g,m);if(!_)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let v=new Tree(INTERNAL,_,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,v}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(a){C._ts_parser_set_timeout_micros(this[0],a)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(a){if(a){if(typeof a!="function")throw new Error("Logger callback must be a function")}else a=null;return this.logCallback=a,this}getLogger(){return this.logCallback}};r(e,"ParserImpl");let ParserImpl=e,t=class t{constructor(a,c,l,m){assertInternal(a),this[0]=c,this.language=l,this.textCallback=m}copy(){let a=C._ts_tree_copy(this[0]);return new t(INTERNAL,a,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(a){marshalEdit(a),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(a){if(a.constructor!==t)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],a[0]);let c=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),m=new Array(c);if(c>0){let g=l;for(let _=0;_<c;_++)m[_]=unmarshalRange(g),g+=SIZE_OF_RANGE;C._free(l)}return m}};r(t,"Tree");let Tree=t,n=class n{constructor(a,c){assertInternal(a),this.tree=c}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(a){return this.id===a.id}child(a){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],a),unmarshalNode(this.tree)}namedChild(a){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],a),unmarshalNode(this.tree)}childForFieldId(a){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],a),unmarshalNode(this.tree)}childForFieldName(a){let c=this.tree.language.fields.indexOf(a);if(c!==-1)return this.childForFieldId(c)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let a=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(a),a>0){let l=c;for(let m=0;m<a;m++)this._children[m]=unmarshalNode(this.tree,l),l+=SIZE_OF_NODE;C._free(c)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let a=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(a),a>0){let l=c;for(let m=0;m<a;m++)this._namedChildren[m]=unmarshalNode(this.tree,l),l+=SIZE_OF_NODE;C._free(c)}}return this._namedChildren}descendantsOfType(a,c,l){Array.isArray(a)||(a=[a]),c||(c=ZERO_POINT),l||(l=ZERO_POINT);let m=[],g=this.tree.language.types;for(let j=0,L=g.length;j<L;j++)a.includes(g[j])&&m.push(j);let _=C._malloc(SIZE_OF_INT*m.length);for(let j=0,L=m.length;j<L;j++)setValue(_+j*SIZE_OF_INT,m[j],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],_,m.length,c.row,c.column,l.row,l.column);let v=getValue(TRANSFER_BUFFER,"i32"),T=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),P=new Array(v);if(v>0){let j=T;for(let L=0;L<v;L++)P[L]=unmarshalNode(this.tree,j),j+=SIZE_OF_NODE}return C._free(T),C._free(_),P}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(a,c=a){if(typeof a!="number"||typeof c!="number")throw new Error("Arguments must be numbers");marshalNode(this);let l=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(l,a,"i32"),setValue(l+SIZE_OF_INT,c,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(a,c=a){if(typeof a!="number"||typeof c!="number")throw new Error("Arguments must be numbers");marshalNode(this);let l=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(l,a,"i32"),setValue(l+SIZE_OF_INT,c,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(a,c=a){if(!isPoint(a)||!isPoint(c))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let l=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(l,a),marshalPoint(l+SIZE_OF_POINT,c),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(a,c=a){if(!isPoint(a)||!isPoint(c))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let l=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(l,a),marshalPoint(l+SIZE_OF_POINT,c),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let a=C._ts_node_to_string_wasm(this.tree[0]),c=AsciiToString(a);return C._free(a),c}};r(n,"Node");let Node=n,o=class o{constructor(a,c){assertInternal(a),this.tree=c,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(a){marshalNode(a),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let a=C._ts_tree_cursor_start_index_wasm(this.tree[0]),c=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,a,c)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let a=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),a===1}gotoNextSibling(){marshalTreeCursor(this);let a=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),a===1}gotoParent(){marshalTreeCursor(this);let a=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),a===1}};r(o,"TreeCursor");let TreeCursor=o,i=class i{constructor(a,c){assertInternal(a),this[0]=c,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let l=0,m=this.types.length;l<m;l++)C._ts_language_symbol_type(this[0],l)<2&&(this.types[l]=UTF8ToString(C._ts_language_symbol_name(this[0],l)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let l=0,m=this.fields.length;l<m;l++){let g=C._ts_language_field_name_for_id(this[0],l);this.fields[l]=g!==0?UTF8ToString(g):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(a){let c=this.fields.indexOf(a);return c!==-1?c:null}fieldNameForId(a){return this.fields[a]||null}idForNodeType(a,c){let l=lengthBytesUTF8(a),m=C._malloc(l+1);stringToUTF8(a,m,l+1);let g=C._ts_language_symbol_for_name(this[0],m,l,c);return C._free(m),g||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(a){let c=C._ts_language_symbol_name(this[0],a);return c?UTF8ToString(c):null}nodeTypeIsNamed(a){return!!C._ts_language_type_is_named_wasm(this[0],a)}nodeTypeIsVisible(a){return!!C._ts_language_type_is_visible_wasm(this[0],a)}query(a){let c=lengthBytesUTF8(a),l=C._malloc(c+1);stringToUTF8(a,l,c+1);let m=C._ts_query_new(this[0],l,c,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!m){let z=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),re=UTF8ToString(l,getValue(TRANSFER_BUFFER,"i32")).length,ne=a.substr(re,100).split(`
`)[0],U,ie=ne.match(QUERY_WORD_REGEX)[0];switch(z){case 2:U=new RangeError(`Bad node name '${ie}'`);break;case 3:U=new RangeError(`Bad field name '${ie}'`);break;case 4:U=new RangeError(`Bad capture name @${ie}`);break;case 5:U=new TypeError(`Bad pattern structure at offset ${re}: '${ne}'...`),ie="";break;default:U=new SyntaxError(`Bad syntax at offset ${re}: '${ne}'...`),ie=""}throw U.index=re,U.length=ie.length,C._free(l),U}let g=C._ts_query_string_count(m),_=C._ts_query_capture_count(m),v=C._ts_query_pattern_count(m),T=new Array(_),P=new Array(g);for(let z=0;z<_;z++){let re=C._ts_query_capture_name_for_id(m,z,TRANSFER_BUFFER),ne=getValue(TRANSFER_BUFFER,"i32");T[z]=UTF8ToString(re,ne)}for(let z=0;z<g;z++){let re=C._ts_query_string_value_for_id(m,z,TRANSFER_BUFFER),ne=getValue(TRANSFER_BUFFER,"i32");P[z]=UTF8ToString(re,ne)}let j=new Array(v),L=new Array(v),Q=new Array(v),$=new Array(v),Y=new Array(v);for(let z=0;z<v;z++){let re=C._ts_query_predicates_for_pattern(m,z,TRANSFER_BUFFER),ne=getValue(TRANSFER_BUFFER,"i32");$[z]=[],Y[z]=[];let U=[],ie=re;for(let nt=0;nt<ne;nt++){let lt=getValue(ie,"i32");ie+=SIZE_OF_INT;let Be=getValue(ie,"i32");if(ie+=SIZE_OF_INT,lt===PREDICATE_STEP_TYPE_CAPTURE)U.push({type:"capture",name:T[Be]});else if(lt===PREDICATE_STEP_TYPE_STRING)U.push({type:"string",value:P[Be]});else if(U.length>0){if(U[0].type!=="string")throw new Error("Predicates must begin with a literal value");let W=U[0].value,M=!0;switch(W){case"not-eq?":M=!1;case"eq?":if(U.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(U.length-1));if(U[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${U[1].value}"`);if(U[2].type==="capture"){let O=U[1].name,D=U[2].name;Y[z].push(function(G){let J,H;for(let se of G)se.name===O&&(J=se.node),se.name===D&&(H=se.node);return J===void 0||H===void 0||J.text===H.text===M})}else{let O=U[1].name,D=U[2].value;Y[z].push(function(G){for(let J of G)if(J.name===O)return J.node.text===D===M;return!0})}break;case"not-match?":M=!1;case"match?":if(U.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${U.length-1}.`);if(U[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${U[1].value}".`);if(U[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${U[2].value}.`);let q=U[1].name,Z=new RegExp(U[2].value);Y[z].push(function(O){for(let D of O)if(D.name===q)return Z.test(D.node.text)===M;return!0});break;case"set!":if(U.length<2||U.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${U.length-1}.`);if(U.some(O=>O.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');j[z]||(j[z]={}),j[z][U[1].value]=U[2]?U[2].value:null;break;case"is?":case"is-not?":if(U.length<2||U.length>3)throw new Error(`Wrong number of arguments to \`#${W}\` predicate. Expected 1 or 2. Got ${U.length-1}.`);if(U.some(O=>O.type!=="string"))throw new Error(`Arguments to \`#${W}\` predicate must be a strings.".`);let k=W==="is?"?L:Q;k[z]||(k[z]={}),k[z][U[1].value]=U[2]?U[2].value:null;break;default:$[z].push({operator:W,operands:U.slice(1)})}U.length=0}}Object.freeze(j[z]),Object.freeze(L[z]),Object.freeze(Q[z])}return C._free(l),new Query(INTERNAL,m,T,Y,$,Object.freeze(j),Object.freeze(L),Object.freeze(Q))}static load(a){let c;if(a instanceof Uint8Array)c=Promise.resolve(a);else{let m=a;if(typeof process<"u"&&process.versions&&process.versions.node){let g=require("fs");c=Promise.resolve(g.readFileSync(m))}else c=fetch(m).then(g=>g.arrayBuffer().then(_=>{if(g.ok)return new Uint8Array(_);{let v=new TextDecoder("utf-8").decode(_);throw new Error(`Language.load failed with status ${g.status}.

${v}`)}}))}let l=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return c.then(m=>l(m,{loadAsync:!0})).then(m=>{let g=Object.keys(m),_=g.find(T=>LANGUAGE_FUNCTION_REGEX.test(T)&&!T.includes("external_scanner_"));_||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(g,null,2)}`);let v=m[_]();return new i(INTERNAL,v)})}};r(i,"Language");let Language=i,u=class u{constructor(a,c,l,m,g,_,v,T){assertInternal(a),this[0]=c,this.captureNames=l,this.textPredicates=m,this.predicates=g,this.setProperties=_,this.assertedProperties=v,this.refutedProperties=T,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(a,c,l,m){c||(c=ZERO_POINT),l||(l=ZERO_POINT),m||(m={});let g=m.matchLimit;if(g===void 0)g=0;else if(typeof g!="number")throw new Error("Arguments must be numbers");marshalNode(a),C._ts_query_matches_wasm(this[0],a.tree[0],c.row,c.column,l.row,l.column,g);let _=getValue(TRANSFER_BUFFER,"i32"),v=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),T=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),P=new Array(_);this.exceededMatchLimit=!!T;let j=0,L=v;for(let Q=0;Q<_;Q++){let $=getValue(L,"i32");L+=SIZE_OF_INT;let Y=getValue(L,"i32");L+=SIZE_OF_INT;let z=new Array(Y);if(L=unmarshalCaptures(this,a.tree,L,z),this.textPredicates[$].every(re=>re(z))){P[j++]={pattern:$,captures:z};let re=this.setProperties[$];re&&(P[Q].setProperties=re);let ne=this.assertedProperties[$];ne&&(P[Q].assertedProperties=ne);let U=this.refutedProperties[$];U&&(P[Q].refutedProperties=U)}}return P.length=j,C._free(v),P}captures(a,c,l,m){c||(c=ZERO_POINT),l||(l=ZERO_POINT),m||(m={});let g=m.matchLimit;if(g===void 0)g=0;else if(typeof g!="number")throw new Error("Arguments must be numbers");marshalNode(a),C._ts_query_captures_wasm(this[0],a.tree[0],c.row,c.column,l.row,l.column,g);let _=getValue(TRANSFER_BUFFER,"i32"),v=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),T=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),P=[];this.exceededMatchLimit=!!T;let j=[],L=v;for(let Q=0;Q<_;Q++){let $=getValue(L,"i32");L+=SIZE_OF_INT;let Y=getValue(L,"i32");L+=SIZE_OF_INT;let z=getValue(L,"i32");if(L+=SIZE_OF_INT,j.length=Y,L=unmarshalCaptures(this,a.tree,L,j),this.textPredicates[$].every(re=>re(j))){let re=j[z],ne=this.setProperties[$];ne&&(re.setProperties=ne);let U=this.assertedProperties[$];U&&(re.assertedProperties=U);let ie=this.refutedProperties[$];ie&&(re.refutedProperties=ie),P.push(re)}}return C._free(v),P}predicatesForPattern(a){return this.predicates[a]}didExceedMatchLimit(){return this.exceededMatchLimit}};r(u,"Query");let Query=u;function getText(s,a,c){let l=c-a,m=s.textCallback(a,null,c);for(a+=m.length;a<c;){let g=s.textCallback(a,null,c);if(!(g&&g.length>0))break;a+=g.length,m+=g}return a>c&&(m=m.slice(0,l)),m}r(getText,"getText");function unmarshalCaptures(s,a,c,l){for(let m=0,g=l.length;m<g;m++){let _=getValue(c,"i32"),v=unmarshalNode(a,c+=SIZE_OF_INT);c+=SIZE_OF_NODE,l[m]={name:s.captureNames[_],node:v}}return c}r(unmarshalCaptures,"unmarshalCaptures");function assertInternal(s){if(s!==INTERNAL)throw new Error("Illegal constructor")}r(assertInternal,"assertInternal");function isPoint(s){return s&&typeof s.row=="number"&&typeof s.column=="number"}r(isPoint,"isPoint");function marshalNode(s){let a=TRANSFER_BUFFER;setValue(a,s.id,"i32"),a+=SIZE_OF_INT,setValue(a,s.startIndex,"i32"),a+=SIZE_OF_INT,setValue(a,s.startPosition.row,"i32"),a+=SIZE_OF_INT,setValue(a,s.startPosition.column,"i32"),a+=SIZE_OF_INT,setValue(a,s[0],"i32")}r(marshalNode,"marshalNode");function unmarshalNode(s,a=TRANSFER_BUFFER){let c=getValue(a,"i32");if(c===0)return null;let l=getValue(a+=SIZE_OF_INT,"i32"),m=getValue(a+=SIZE_OF_INT,"i32"),g=getValue(a+=SIZE_OF_INT,"i32"),_=getValue(a+=SIZE_OF_INT,"i32"),v=new Node(INTERNAL,s);return v.id=c,v.startIndex=l,v.startPosition={row:m,column:g},v[0]=_,v}r(unmarshalNode,"unmarshalNode");function marshalTreeCursor(s,a=TRANSFER_BUFFER){setValue(a+0*SIZE_OF_INT,s[0],"i32"),setValue(a+1*SIZE_OF_INT,s[1],"i32"),setValue(a+2*SIZE_OF_INT,s[2],"i32")}r(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(s){s[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),s[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),s[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}r(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(s,a){setValue(s,a.row,"i32"),setValue(s+SIZE_OF_INT,a.column,"i32")}r(marshalPoint,"marshalPoint");function unmarshalPoint(s){return{row:getValue(s,"i32"),column:getValue(s+SIZE_OF_INT,"i32")}}r(unmarshalPoint,"unmarshalPoint");function marshalRange(s,a){marshalPoint(s,a.startPosition),marshalPoint(s+=SIZE_OF_POINT,a.endPosition),setValue(s+=SIZE_OF_POINT,a.startIndex,"i32"),setValue(s+=SIZE_OF_INT,a.endIndex,"i32"),s+=SIZE_OF_INT}r(marshalRange,"marshalRange");function unmarshalRange(s){let a={};return a.startPosition=unmarshalPoint(s),s+=SIZE_OF_POINT,a.endPosition=unmarshalPoint(s),s+=SIZE_OF_POINT,a.startIndex=getValue(s,"i32"),s+=SIZE_OF_INT,a.endIndex=getValue(s,"i32"),a}r(unmarshalRange,"unmarshalRange");function marshalEdit(s){let a=TRANSFER_BUFFER;marshalPoint(a,s.startPosition),a+=SIZE_OF_POINT,marshalPoint(a,s.oldEndPosition),a+=SIZE_OF_POINT,marshalPoint(a,s.newEndPosition),a+=SIZE_OF_POINT,setValue(a,s.startIndex,"i32"),a+=SIZE_OF_INT,setValue(a,s.oldEndIndex,"i32"),a+=SIZE_OF_INT,setValue(a,s.newEndIndex,"i32"),a+=SIZE_OF_INT}r(marshalEdit,"marshalEdit");for(let s of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(_Parser.prototype,s,{value:ParserImpl.prototype[s],enumerable:!1,writable:!1});_Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}};r(_Parser,"Parser");let Parser=_Parser;return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var h_=X(Il=>{var g_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Il.encode=function(e){if(0<=e&&e<g_.length)return g_[e];throw new TypeError("Must be between 0 and 63: "+e)};Il.decode=function(e){var t=65,n=90,o=97,i=122,u=48,s=57,a=43,c=47,l=26,m=52;return t<=e&&e<=n?e-t:o<=e&&e<=i?e-o+l:u<=e&&e<=s?e-u+m:e==a?62:e==c?63:-1}});var Tl=X(Sl=>{var __=h_(),xl=5,y_=1<<xl,b_=y_-1,w_=y_;function NR(e){return e<0?(-e<<1)+1:(e<<1)+0}r(NR,"toVLQSigned");function CR(e){var t=(e&1)===1,n=e>>1;return t?-n:n}r(CR,"fromVLQSigned");Sl.encode=r(function(t){var n="",o,i=NR(t);do o=i&b_,i>>>=xl,i>0&&(o|=w_),n+=__.encode(o);while(i>0);return n},"base64VLQ_encode");Sl.decode=r(function(t,n,o){var i=t.length,u=0,s=0,a,c;do{if(n>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(c=__.decode(t.charCodeAt(n++)),c===-1)throw new Error("Invalid base64 digit: "+t.charAt(n-1));a=!!(c&w_),c&=b_,u=u+(c<<s),s+=xl}while(a);o.value=CR(u),o.rest=n},"base64VLQ_decode")});var Mo=X(Et=>{function LR(e,t,n){if(t in e)return e[t];if(arguments.length===3)return n;throw new Error('"'+t+'" is a required argument.')}r(LR,"getArg");Et.getArg=LR;var v_=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,OR=/^data:.+\,.+$/;function Wi(e){var t=e.match(v_);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}r(Wi,"urlParse");Et.urlParse=Wi;function Po(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}r(Po,"urlGenerate");Et.urlGenerate=Po;function El(e){var t=e,n=Wi(e);if(n){if(!n.path)return e;t=n.path}for(var o=Et.isAbsolute(t),i=t.split(/\/+/),u,s=0,a=i.length-1;a>=0;a--)u=i[a],u==="."?i.splice(a,1):u===".."?s++:s>0&&(u===""?(i.splice(a+1,s),s=0):(i.splice(a,2),s--));return t=i.join("/"),t===""&&(t=o?"/":"."),n?(n.path=t,Po(n)):t}r(El,"normalize");Et.normalize=El;function I_(e,t){e===""&&(e="."),t===""&&(t=".");var n=Wi(t),o=Wi(e);if(o&&(e=o.path||"/"),n&&!n.scheme)return o&&(n.scheme=o.scheme),Po(n);if(n||t.match(OR))return t;if(o&&!o.host&&!o.path)return o.host=t,Po(o);var i=t.charAt(0)==="/"?t:El(e.replace(/\/+$/,"")+"/"+t);return o?(o.path=i,Po(o)):i}r(I_,"join");Et.join=I_;Et.isAbsolute=function(e){return e.charAt(0)==="/"||v_.test(e)};function FR(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var n=0;t.indexOf(e+"/")!==0;){var o=e.lastIndexOf("/");if(o<0||(e=e.slice(0,o),e.match(/^([^\/]+:\/)?\/*$/)))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)}r(FR,"relative");Et.relative=FR;var x_=function(){var e=Object.create(null);return!("__proto__"in e)}();function S_(e){return e}r(S_,"identity");function AR(e){return T_(e)?"$"+e:e}r(AR,"toSetString");Et.toSetString=x_?S_:AR;function DR(e){return T_(e)?e.slice(1):e}r(DR,"fromSetString");Et.fromSetString=x_?S_:DR;function T_(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var n=t-10;n>=0;n--)if(e.charCodeAt(n)!==36)return!1;return!0}r(T_,"isProtoString");function jR(e,t,n){var o=ko(e.source,t.source);return o!==0||(o=e.originalLine-t.originalLine,o!==0)||(o=e.originalColumn-t.originalColumn,o!==0||n)||(o=e.generatedColumn-t.generatedColumn,o!==0)||(o=e.generatedLine-t.generatedLine,o!==0)?o:ko(e.name,t.name)}r(jR,"compareByOriginalPositions");Et.compareByOriginalPositions=jR;function UR(e,t,n){var o=e.generatedLine-t.generatedLine;return o!==0||(o=e.generatedColumn-t.generatedColumn,o!==0||n)||(o=ko(e.source,t.source),o!==0)||(o=e.originalLine-t.originalLine,o!==0)||(o=e.originalColumn-t.originalColumn,o!==0)?o:ko(e.name,t.name)}r(UR,"compareByGeneratedPositionsDeflated");Et.compareByGeneratedPositionsDeflated=UR;function ko(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}r(ko,"strcmp");function qR(e,t){var n=e.generatedLine-t.generatedLine;return n!==0||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=ko(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:ko(e.name,t.name)}r(qR,"compareByGeneratedPositionsInflated");Et.compareByGeneratedPositionsInflated=qR;function BR(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}r(BR,"parseSourceMapInput");Et.parseSourceMapInput=BR;function WR(e,t,n){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),n){var o=Wi(n);if(!o)throw new Error("sourceMapURL could not be parsed");if(o.path){var i=o.path.lastIndexOf("/");i>=0&&(o.path=o.path.substring(0,i+1))}t=I_(Po(o),t)}return El(t)}r(WR,"computeSourceURL");Et.computeSourceURL=WR});var kl=X(E_=>{var Rl=Mo(),Pl=Object.prototype.hasOwnProperty,Wr=typeof Map<"u";function Qn(){this._array=[],this._set=Wr?new Map:Object.create(null)}r(Qn,"ArraySet");Qn.fromArray=r(function(t,n){for(var o=new Qn,i=0,u=t.length;i<u;i++)o.add(t[i],n);return o},"ArraySet_fromArray");Qn.prototype.size=r(function(){return Wr?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");Qn.prototype.add=r(function(t,n){var o=Wr?t:Rl.toSetString(t),i=Wr?this.has(t):Pl.call(this._set,o),u=this._array.length;(!i||n)&&this._array.push(t),i||(Wr?this._set.set(t,u):this._set[o]=u)},"ArraySet_add");Qn.prototype.has=r(function(t){if(Wr)return this._set.has(t);var n=Rl.toSetString(t);return Pl.call(this._set,n)},"ArraySet_has");Qn.prototype.indexOf=r(function(t){if(Wr){var n=this._set.get(t);if(n>=0)return n}else{var o=Rl.toSetString(t);if(Pl.call(this._set,o))return this._set[o]}throw new Error('"'+t+'" is not in the set.')},"ArraySet_indexOf");Qn.prototype.at=r(function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},"ArraySet_at");Qn.prototype.toArray=r(function(){return this._array.slice()},"ArraySet_toArray");E_.ArraySet=Qn});var k_=X(P_=>{var R_=Mo();function $R(e,t){var n=e.generatedLine,o=t.generatedLine,i=e.generatedColumn,u=t.generatedColumn;return o>n||o==n&&u>=i||R_.compareByGeneratedPositionsInflated(e,t)<=0}r($R,"generatedPositionAfter");function ca(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}r(ca,"MappingList");ca.prototype.unsortedForEach=r(function(t,n){this._array.forEach(t,n)},"MappingList_forEach");ca.prototype.add=r(function(t){$R(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},"MappingList_add");ca.prototype.toArray=r(function(){return this._sorted||(this._array.sort(R_.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");P_.MappingList=ca});var Ml=X(M_=>{var $i=Tl(),at=Mo(),la=kl().ArraySet,VR=k_().MappingList;function sn(e){e||(e={}),this._file=at.getArg(e,"file",null),this._sourceRoot=at.getArg(e,"sourceRoot",null),this._skipValidation=at.getArg(e,"skipValidation",!1),this._sources=new la,this._names=new la,this._mappings=new VR,this._sourcesContents=null}r(sn,"SourceMapGenerator");sn.prototype._version=3;sn.fromSourceMap=r(function(t){var n=t.sourceRoot,o=new sn({file:t.file,sourceRoot:n});return t.eachMapping(function(i){var u={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(u.source=i.source,n!=null&&(u.source=at.relative(n,u.source)),u.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(u.name=i.name)),o.addMapping(u)}),t.sources.forEach(function(i){var u=i;n!==null&&(u=at.relative(n,i)),o._sources.has(u)||o._sources.add(u);var s=t.sourceContentFor(i);s!=null&&o.setSourceContent(i,s)}),o},"SourceMapGenerator_fromSourceMap");sn.prototype.addMapping=r(function(t){var n=at.getArg(t,"generated"),o=at.getArg(t,"original",null),i=at.getArg(t,"source",null),u=at.getArg(t,"name",null);this._skipValidation||this._validateMapping(n,o,i,u),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),u!=null&&(u=String(u),this._names.has(u)||this._names.add(u)),this._mappings.add({generatedLine:n.line,generatedColumn:n.column,originalLine:o!=null&&o.line,originalColumn:o!=null&&o.column,source:i,name:u})},"SourceMapGenerator_addMapping");sn.prototype.setSourceContent=r(function(t,n){var o=t;this._sourceRoot!=null&&(o=at.relative(this._sourceRoot,o)),n!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[at.toSetString(o)]=n):this._sourcesContents&&(delete this._sourcesContents[at.toSetString(o)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");sn.prototype.applySourceMap=r(function(t,n,o){var i=n;if(n==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=t.file}var u=this._sourceRoot;u!=null&&(i=at.relative(u,i));var s=new la,a=new la;this._mappings.unsortedForEach(function(c){if(c.source===i&&c.originalLine!=null){var l=t.originalPositionFor({line:c.originalLine,column:c.originalColumn});l.source!=null&&(c.source=l.source,o!=null&&(c.source=at.join(o,c.source)),u!=null&&(c.source=at.relative(u,c.source)),c.originalLine=l.line,c.originalColumn=l.column,l.name!=null&&(c.name=l.name))}var m=c.source;m!=null&&!s.has(m)&&s.add(m);var g=c.name;g!=null&&!a.has(g)&&a.add(g)},this),this._sources=s,this._names=a,t.sources.forEach(function(c){var l=t.sourceContentFor(c);l!=null&&(o!=null&&(c=at.join(o,c)),u!=null&&(c=at.relative(u,c)),this.setSourceContent(c,l))},this)},"SourceMapGenerator_applySourceMap");sn.prototype._validateMapping=r(function(t,n,o,i){if(n&&typeof n.line!="number"&&typeof n.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!n&&!o&&!i)){if(t&&"line"in t&&"column"in t&&n&&"line"in n&&"column"in n&&t.line>0&&t.column>=0&&n.line>0&&n.column>=0&&o)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:o,original:n,name:i}))}},"SourceMapGenerator_validateMapping");sn.prototype._serializeMappings=r(function(){for(var t=0,n=1,o=0,i=0,u=0,s=0,a="",c,l,m,g,_=this._mappings.toArray(),v=0,T=_.length;v<T;v++){if(l=_[v],c="",l.generatedLine!==n)for(t=0;l.generatedLine!==n;)c+=";",n++;else if(v>0){if(!at.compareByGeneratedPositionsInflated(l,_[v-1]))continue;c+=","}c+=$i.encode(l.generatedColumn-t),t=l.generatedColumn,l.source!=null&&(g=this._sources.indexOf(l.source),c+=$i.encode(g-s),s=g,c+=$i.encode(l.originalLine-1-i),i=l.originalLine-1,c+=$i.encode(l.originalColumn-o),o=l.originalColumn,l.name!=null&&(m=this._names.indexOf(l.name),c+=$i.encode(m-u),u=m)),a+=c}return a},"SourceMapGenerator_serializeMappings");sn.prototype._generateSourcesContent=r(function(t,n){return t.map(function(o){if(!this._sourcesContents)return null;n!=null&&(o=at.relative(n,o));var i=at.toSetString(o);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)},"SourceMapGenerator_generateSourcesContent");sn.prototype.toJSON=r(function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},"SourceMapGenerator_toJSON");sn.prototype.toString=r(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");M_.SourceMapGenerator=sn});var N_=X($r=>{$r.GREATEST_LOWER_BOUND=1;$r.LEAST_UPPER_BOUND=2;function Nl(e,t,n,o,i,u){var s=Math.floor((t-e)/2)+e,a=i(n,o[s],!0);return a===0?s:a>0?t-s>1?Nl(s,t,n,o,i,u):u==$r.LEAST_UPPER_BOUND?t<o.length?t:-1:s:s-e>1?Nl(e,s,n,o,i,u):u==$r.LEAST_UPPER_BOUND?s:e<0?-1:e}r(Nl,"recursiveSearch");$r.search=r(function(t,n,o,i){if(n.length===0)return-1;var u=Nl(-1,n.length,t,n,o,i||$r.GREATEST_LOWER_BOUND);if(u<0)return-1;for(;u-1>=0&&o(n[u],n[u-1],!0)===0;)--u;return u},"search")});var L_=X(C_=>{function Cl(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}r(Cl,"swap");function zR(e,t){return Math.round(e+Math.random()*(t-e))}r(zR,"randomIntInRange");function Ll(e,t,n,o){if(n<o){var i=zR(n,o),u=n-1;Cl(e,i,o);for(var s=e[o],a=n;a<o;a++)t(e[a],s)<=0&&(u+=1,Cl(e,u,a));Cl(e,u+1,a);var c=u+1;Ll(e,t,n,c-1),Ll(e,t,c+1,o)}}r(Ll,"doQuickSort");C_.quickSort=function(e,t){Ll(e,t,0,e.length-1)}});var F_=X(da=>{var te=Mo(),Ol=N_(),No=kl().ArraySet,GR=Tl(),Vi=L_().quickSort;function Ue(e,t){var n=e;return typeof e=="string"&&(n=te.parseSourceMapInput(e)),n.sections!=null?new In(n,t):new bt(n,t)}r(Ue,"SourceMapConsumer");Ue.fromSourceMap=function(e,t){return bt.fromSourceMap(e,t)};Ue.prototype._version=3;Ue.prototype.__generatedMappings=null;Object.defineProperty(Ue.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:r(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")});Ue.prototype.__originalMappings=null;Object.defineProperty(Ue.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:r(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")});Ue.prototype._charIsMappingSeparator=r(function(t,n){var o=t.charAt(n);return o===";"||o===","},"SourceMapConsumer_charIsMappingSeparator");Ue.prototype._parseMappings=r(function(t,n){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");Ue.GENERATED_ORDER=1;Ue.ORIGINAL_ORDER=2;Ue.GREATEST_LOWER_BOUND=1;Ue.LEAST_UPPER_BOUND=2;Ue.prototype.eachMapping=r(function(t,n,o){var i=n||null,u=o||Ue.GENERATED_ORDER,s;switch(u){case Ue.GENERATED_ORDER:s=this._generatedMappings;break;case Ue.ORIGINAL_ORDER:s=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var a=this.sourceRoot;s.map(function(c){var l=c.source===null?null:this._sources.at(c.source);return l=te.computeSourceURL(a,l,this._sourceMapURL),{source:l,generatedLine:c.generatedLine,generatedColumn:c.generatedColumn,originalLine:c.originalLine,originalColumn:c.originalColumn,name:c.name===null?null:this._names.at(c.name)}},this).forEach(t,i)},"SourceMapConsumer_eachMapping");Ue.prototype.allGeneratedPositionsFor=r(function(t){var n=te.getArg(t,"line"),o={source:te.getArg(t,"source"),originalLine:n,originalColumn:te.getArg(t,"column",0)};if(o.source=this._findSourceIndex(o.source),o.source<0)return[];var i=[],u=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",te.compareByOriginalPositions,Ol.LEAST_UPPER_BOUND);if(u>=0){var s=this._originalMappings[u];if(t.column===void 0)for(var a=s.originalLine;s&&s.originalLine===a;)i.push({line:te.getArg(s,"generatedLine",null),column:te.getArg(s,"generatedColumn",null),lastColumn:te.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++u];else for(var c=s.originalColumn;s&&s.originalLine===n&&s.originalColumn==c;)i.push({line:te.getArg(s,"generatedLine",null),column:te.getArg(s,"generatedColumn",null),lastColumn:te.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++u]}return i},"SourceMapConsumer_allGeneratedPositionsFor");da.SourceMapConsumer=Ue;function bt(e,t){var n=e;typeof e=="string"&&(n=te.parseSourceMapInput(e));var o=te.getArg(n,"version"),i=te.getArg(n,"sources"),u=te.getArg(n,"names",[]),s=te.getArg(n,"sourceRoot",null),a=te.getArg(n,"sourcesContent",null),c=te.getArg(n,"mappings"),l=te.getArg(n,"file",null);if(o!=this._version)throw new Error("Unsupported version: "+o);s&&(s=te.normalize(s)),i=i.map(String).map(te.normalize).map(function(m){return s&&te.isAbsolute(s)&&te.isAbsolute(m)?te.relative(s,m):m}),this._names=No.fromArray(u.map(String),!0),this._sources=No.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(m){return te.computeSourceURL(s,m,t)}),this.sourceRoot=s,this.sourcesContent=a,this._mappings=c,this._sourceMapURL=t,this.file=l}r(bt,"BasicSourceMapConsumer");bt.prototype=Object.create(Ue.prototype);bt.prototype.consumer=Ue;bt.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=te.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var n;for(n=0;n<this._absoluteSources.length;++n)if(this._absoluteSources[n]==e)return n;return-1};bt.fromSourceMap=r(function(t,n){var o=Object.create(bt.prototype),i=o._names=No.fromArray(t._names.toArray(),!0),u=o._sources=No.fromArray(t._sources.toArray(),!0);o.sourceRoot=t._sourceRoot,o.sourcesContent=t._generateSourcesContent(o._sources.toArray(),o.sourceRoot),o.file=t._file,o._sourceMapURL=n,o._absoluteSources=o._sources.toArray().map(function(v){return te.computeSourceURL(o.sourceRoot,v,n)});for(var s=t._mappings.toArray().slice(),a=o.__generatedMappings=[],c=o.__originalMappings=[],l=0,m=s.length;l<m;l++){var g=s[l],_=new O_;_.generatedLine=g.generatedLine,_.generatedColumn=g.generatedColumn,g.source&&(_.source=u.indexOf(g.source),_.originalLine=g.originalLine,_.originalColumn=g.originalColumn,g.name&&(_.name=i.indexOf(g.name)),c.push(_)),a.push(_)}return Vi(o.__originalMappings,te.compareByOriginalPositions),o},"SourceMapConsumer_fromSourceMap");bt.prototype._version=3;Object.defineProperty(bt.prototype,"sources",{get:r(function(){return this._absoluteSources.slice()},"get")});function O_(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}r(O_,"Mapping");bt.prototype._parseMappings=r(function(t,n){for(var o=1,i=0,u=0,s=0,a=0,c=0,l=t.length,m=0,g={},_={},v=[],T=[],P,j,L,Q,$;m<l;)if(t.charAt(m)===";")o++,m++,i=0;else if(t.charAt(m)===",")m++;else{for(P=new O_,P.generatedLine=o,Q=m;Q<l&&!this._charIsMappingSeparator(t,Q);Q++);if(j=t.slice(m,Q),L=g[j],L)m+=j.length;else{for(L=[];m<Q;)GR.decode(t,m,_),$=_.value,m=_.rest,L.push($);if(L.length===2)throw new Error("Found a source, but no line and column");if(L.length===3)throw new Error("Found a source and line, but no column");g[j]=L}P.generatedColumn=i+L[0],i=P.generatedColumn,L.length>1&&(P.source=a+L[1],a+=L[1],P.originalLine=u+L[2],u=P.originalLine,P.originalLine+=1,P.originalColumn=s+L[3],s=P.originalColumn,L.length>4&&(P.name=c+L[4],c+=L[4])),T.push(P),typeof P.originalLine=="number"&&v.push(P)}Vi(T,te.compareByGeneratedPositionsDeflated),this.__generatedMappings=T,Vi(v,te.compareByOriginalPositions),this.__originalMappings=v},"SourceMapConsumer_parseMappings");bt.prototype._findMapping=r(function(t,n,o,i,u,s){if(t[o]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[o]);if(t[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[i]);return Ol.search(t,n,u,s)},"SourceMapConsumer_findMapping");bt.prototype.computeColumnSpans=r(function(){for(var t=0;t<this._generatedMappings.length;++t){var n=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var o=this._generatedMappings[t+1];if(n.generatedLine===o.generatedLine){n.lastGeneratedColumn=o.generatedColumn-1;continue}}n.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");bt.prototype.originalPositionFor=r(function(t){var n={generatedLine:te.getArg(t,"line"),generatedColumn:te.getArg(t,"column")},o=this._findMapping(n,this._generatedMappings,"generatedLine","generatedColumn",te.compareByGeneratedPositionsDeflated,te.getArg(t,"bias",Ue.GREATEST_LOWER_BOUND));if(o>=0){var i=this._generatedMappings[o];if(i.generatedLine===n.generatedLine){var u=te.getArg(i,"source",null);u!==null&&(u=this._sources.at(u),u=te.computeSourceURL(this.sourceRoot,u,this._sourceMapURL));var s=te.getArg(i,"name",null);return s!==null&&(s=this._names.at(s)),{source:u,line:te.getArg(i,"originalLine",null),column:te.getArg(i,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");bt.prototype.hasContentsOfAllSources=r(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");bt.prototype.sourceContentFor=r(function(t,n){if(!this.sourcesContent)return null;var o=this._findSourceIndex(t);if(o>=0)return this.sourcesContent[o];var i=t;this.sourceRoot!=null&&(i=te.relative(this.sourceRoot,i));var u;if(this.sourceRoot!=null&&(u=te.urlParse(this.sourceRoot))){var s=i.replace(/^file:\/\//,"");if(u.scheme=="file"&&this._sources.has(s))return this.sourcesContent[this._sources.indexOf(s)];if((!u.path||u.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(n)return null;throw new Error('"'+i+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");bt.prototype.generatedPositionFor=r(function(t){var n=te.getArg(t,"source");if(n=this._findSourceIndex(n),n<0)return{line:null,column:null,lastColumn:null};var o={source:n,originalLine:te.getArg(t,"line"),originalColumn:te.getArg(t,"column")},i=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",te.compareByOriginalPositions,te.getArg(t,"bias",Ue.GREATEST_LOWER_BOUND));if(i>=0){var u=this._originalMappings[i];if(u.source===o.source)return{line:te.getArg(u,"generatedLine",null),column:te.getArg(u,"generatedColumn",null),lastColumn:te.getArg(u,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");da.BasicSourceMapConsumer=bt;function In(e,t){var n=e;typeof e=="string"&&(n=te.parseSourceMapInput(e));var o=te.getArg(n,"version"),i=te.getArg(n,"sections");if(o!=this._version)throw new Error("Unsupported version: "+o);this._sources=new No,this._names=new No;var u={line:-1,column:0};this._sections=i.map(function(s){if(s.url)throw new Error("Support for url field in sections not implemented.");var a=te.getArg(s,"offset"),c=te.getArg(a,"line"),l=te.getArg(a,"column");if(c<u.line||c===u.line&&l<u.column)throw new Error("Section offsets must be ordered and non-overlapping.");return u=a,{generatedOffset:{generatedLine:c+1,generatedColumn:l+1},consumer:new Ue(te.getArg(s,"map"),t)}})}r(In,"IndexedSourceMapConsumer");In.prototype=Object.create(Ue.prototype);In.prototype.constructor=Ue;In.prototype._version=3;Object.defineProperty(In.prototype,"sources",{get:r(function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e},"get")});In.prototype.originalPositionFor=r(function(t){var n={generatedLine:te.getArg(t,"line"),generatedColumn:te.getArg(t,"column")},o=Ol.search(n,this._sections,function(u,s){var a=u.generatedLine-s.generatedOffset.generatedLine;return a||u.generatedColumn-s.generatedOffset.generatedColumn}),i=this._sections[o];return i?i.consumer.originalPositionFor({line:n.generatedLine-(i.generatedOffset.generatedLine-1),column:n.generatedColumn-(i.generatedOffset.generatedLine===n.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");In.prototype.hasContentsOfAllSources=r(function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");In.prototype.sourceContentFor=r(function(t,n){for(var o=0;o<this._sections.length;o++){var i=this._sections[o],u=i.consumer.sourceContentFor(t,!0);if(u)return u}if(n)return null;throw new Error('"'+t+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");In.prototype.generatedPositionFor=r(function(t){for(var n=0;n<this._sections.length;n++){var o=this._sections[n];if(o.consumer._findSourceIndex(te.getArg(t,"source"))!==-1){var i=o.consumer.generatedPositionFor(t);if(i){var u={line:i.line+(o.generatedOffset.generatedLine-1),column:i.column+(o.generatedOffset.generatedLine===i.line?o.generatedOffset.generatedColumn-1:0)};return u}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");In.prototype._parseMappings=r(function(t,n){this.__generatedMappings=[],this.__originalMappings=[];for(var o=0;o<this._sections.length;o++)for(var i=this._sections[o],u=i.consumer._generatedMappings,s=0;s<u.length;s++){var a=u[s],c=i.consumer._sources.at(a.source);c=te.computeSourceURL(i.consumer.sourceRoot,c,this._sourceMapURL),this._sources.add(c),c=this._sources.indexOf(c);var l=null;a.name&&(l=i.consumer._names.at(a.name),this._names.add(l),l=this._names.indexOf(l));var m={source:c,generatedLine:a.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(i.generatedOffset.generatedLine===a.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:l};this.__generatedMappings.push(m),typeof m.originalLine=="number"&&this.__originalMappings.push(m)}Vi(this.__generatedMappings,te.compareByGeneratedPositionsDeflated),Vi(this.__originalMappings,te.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");da.IndexedSourceMapConsumer=In});var D_=X(A_=>{var KR=Ml().SourceMapGenerator,fa=Mo(),HR=/(\r?\n)/,ZR=10,Co="$$$isSourceNode$$$";function zt(e,t,n,o,i){this.children=[],this.sourceContents={},this.line=e==null?null:e,this.column=t==null?null:t,this.source=n==null?null:n,this.name=i==null?null:i,this[Co]=!0,o!=null&&this.add(o)}r(zt,"SourceNode");zt.fromStringWithSourceMap=r(function(t,n,o){var i=new zt,u=t.split(HR),s=0,a=r(function(){var _=T(),v=T()||"";return _+v;function T(){return s<u.length?u[s++]:void 0}},"shiftNextLine"),c=1,l=0,m=null;return n.eachMapping(function(_){if(m!==null)if(c<_.generatedLine)g(m,a()),c++,l=0;else{var v=u[s]||"",T=v.substr(0,_.generatedColumn-l);u[s]=v.substr(_.generatedColumn-l),l=_.generatedColumn,g(m,T),m=_;return}for(;c<_.generatedLine;)i.add(a()),c++;if(l<_.generatedColumn){var v=u[s]||"";i.add(v.substr(0,_.generatedColumn)),u[s]=v.substr(_.generatedColumn),l=_.generatedColumn}m=_},this),s<u.length&&(m&&g(m,a()),i.add(u.splice(s).join(""))),n.sources.forEach(function(_){var v=n.sourceContentFor(_);v!=null&&(o!=null&&(_=fa.join(o,_)),i.setSourceContent(_,v))}),i;function g(_,v){if(_===null||_.source===void 0)i.add(v);else{var T=o?fa.join(o,_.source):_.source;i.add(new zt(_.originalLine,_.originalColumn,T,v,_.name))}}r(g,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");zt.prototype.add=r(function(t){if(Array.isArray(t))t.forEach(function(n){this.add(n)},this);else if(t[Co]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_add");zt.prototype.prepend=r(function(t){if(Array.isArray(t))for(var n=t.length-1;n>=0;n--)this.prepend(t[n]);else if(t[Co]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_prepend");zt.prototype.walk=r(function(t){for(var n,o=0,i=this.children.length;o<i;o++)n=this.children[o],n[Co]?n.walk(t):n!==""&&t(n,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");zt.prototype.join=r(function(t){var n,o,i=this.children.length;if(i>0){for(n=[],o=0;o<i-1;o++)n.push(this.children[o]),n.push(t);n.push(this.children[o]),this.children=n}return this},"SourceNode_join");zt.prototype.replaceRight=r(function(t,n){var o=this.children[this.children.length-1];return o[Co]?o.replaceRight(t,n):typeof o=="string"?this.children[this.children.length-1]=o.replace(t,n):this.children.push("".replace(t,n)),this},"SourceNode_replaceRight");zt.prototype.setSourceContent=r(function(t,n){this.sourceContents[fa.toSetString(t)]=n},"SourceNode_setSourceContent");zt.prototype.walkSourceContents=r(function(t){for(var n=0,o=this.children.length;n<o;n++)this.children[n][Co]&&this.children[n].walkSourceContents(t);for(var i=Object.keys(this.sourceContents),n=0,o=i.length;n<o;n++)t(fa.fromSetString(i[n]),this.sourceContents[i[n]])},"SourceNode_walkSourceContents");zt.prototype.toString=r(function(){var t="";return this.walk(function(n){t+=n}),t},"SourceNode_toString");zt.prototype.toStringWithSourceMap=r(function(t){var n={code:"",line:1,column:0},o=new KR(t),i=!1,u=null,s=null,a=null,c=null;return this.walk(function(l,m){n.code+=l,m.source!==null&&m.line!==null&&m.column!==null?((u!==m.source||s!==m.line||a!==m.column||c!==m.name)&&o.addMapping({source:m.source,original:{line:m.line,column:m.column},generated:{line:n.line,column:n.column},name:m.name}),u=m.source,s=m.line,a=m.column,c=m.name,i=!0):i&&(o.addMapping({generated:{line:n.line,column:n.column}}),u=null,i=!1);for(var g=0,_=l.length;g<_;g++)l.charCodeAt(g)===ZR?(n.line++,n.column=0,g+1===_?(u=null,i=!1):i&&o.addMapping({source:m.source,original:{line:m.line,column:m.column},generated:{line:n.line,column:n.column},name:m.name})):n.column++}),this.walkSourceContents(function(l,m){o.setSourceContent(l,m)}),{code:n.code,map:o}},"SourceNode_toStringWithSourceMap");A_.SourceNode=zt});var j_=X(ma=>{ma.SourceMapGenerator=Ml().SourceMapGenerator;ma.SourceMapConsumer=F_().SourceMapConsumer;ma.SourceNode=D_().SourceNode});var q_=X((a3,U_)=>{var QR=Object.prototype.toString,Fl=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function JR(e){return QR.call(e).slice(8,-1)==="ArrayBuffer"}r(JR,"isArrayBuffer");function XR(e,t,n){t>>>=0;var o=e.byteLength-t;if(o<0)throw new RangeError("'offset' is out of bounds");if(n===void 0)n=o;else if(n>>>=0,n>o)throw new RangeError("'length' is out of bounds");return Fl?Buffer.from(e.slice(t,t+n)):new Buffer(new Uint8Array(e.slice(t,t+n)))}r(XR,"fromArrayBuffer");function YR(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return Fl?Buffer.from(e,t):new Buffer(e,t)}r(YR,"fromString");function eP(e,t,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return JR(e)?XR(e,t,n):typeof e=="string"?YR(e,t):Fl?Buffer.from(e):new Buffer(e)}r(eP,"bufferFrom");U_.exports=eP});var H_=X((zr,Ul)=>{var tP=j_().SourceMapConsumer,Al=require("path"),On;try{On=require("fs"),(!On.existsSync||!On.readFileSync)&&(On=null)}catch{}var nP=q_();function B_(e,t){return e.require(t)}r(B_,"dynamicRequire");var W_=!1,$_=!1,Dl=!1,zi="auto",Vr={},Gi={},rP=/^data:application\/json[^,]+base64,/,mr=[],pr=[];function ql(){return zi==="browser"?!0:zi==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}r(ql,"isInBrowser");function oP(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}r(oP,"hasGlobalProcessEventEmitter");function iP(){return typeof process=="object"&&process!==null?process.version:""}r(iP,"globalProcessVersion");function sP(){if(typeof process=="object"&&process!==null)return process.stderr}r(sP,"globalProcessStderr");function aP(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}r(aP,"globalProcessExit");function pa(e){return function(t){for(var n=0;n<e.length;n++){var o=e[n](t);if(o)return o}return null}}r(pa,"handlerExec");var Bl=pa(mr);mr.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(o,i){return i?"":"/"})),e in Vr)return Vr[e];var t="";try{if(On)On.existsSync(e)&&(t=On.readFileSync(e,"utf8"));else{var n=new XMLHttpRequest;n.open("GET",e,!1),n.send(null),n.readyState===4&&n.status===200&&(t=n.responseText)}}catch{}return Vr[e]=t});function jl(e,t){if(!e)return t;var n=Al.dirname(e),o=/^\w+:\/\/[^\/]*/.exec(n),i=o?o[0]:"",u=n.slice(i.length);return i&&/^\/\w\:/.test(u)?(i+="/",i+Al.resolve(n.slice(i.length),t).replace(/\\/g,"/")):i+Al.resolve(n.slice(i.length),t)}r(jl,"supportRelativeURL");function uP(e){var t;if(ql())try{var n=new XMLHttpRequest;n.open("GET",e,!1),n.send(null),t=n.readyState===4?n.responseText:null;var o=n.getResponseHeader("SourceMap")||n.getResponseHeader("X-SourceMap");if(o)return o}catch{}t=Bl(e);for(var i=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,u,s;s=i.exec(t);)u=s;return u?u[1]:null}r(uP,"retrieveSourceMapURL");var Wl=pa(pr);pr.push(function(e){var t=uP(e);if(!t)return null;var n;if(rP.test(t)){var o=t.slice(t.indexOf(",")+1);n=nP(o,"base64").toString(),t=e}else t=jl(e,t),n=Bl(t);return n?{url:t,map:n}:null});function $l(e){var t=Gi[e.source];if(!t){var n=Wl(e.source);n?(t=Gi[e.source]={url:n.url,map:new tP(n.map)},t.map.sourcesContent&&t.map.sources.forEach(function(i,u){var s=t.map.sourcesContent[u];if(s){var a=jl(t.url,i);Vr[a]=s}})):t=Gi[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var o=t.map.originalPositionFor(e);if(o.source!==null)return o.source=jl(t.url,o.source),o}return e}r($l,"mapSourcePosition");function z_(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var n=$l({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+n.source+":"+n.line+":"+(n.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+z_(t[2])+")":e}r(z_,"mapEvalOrigin");function cP(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var n=this.getLineNumber();if(n!=null){t+=":"+n;var o=this.getColumnNumber();o&&(t+=":"+o)}}var i="",u=this.getFunctionName(),s=!0,a=this.isConstructor(),c=!(this.isToplevel()||a);if(c){var l=this.getTypeName();l==="[object Object]"&&(l="null");var m=this.getMethodName();u?(l&&u.indexOf(l)!=0&&(i+=l+"."),i+=u,m&&u.indexOf("."+m)!=u.length-m.length-1&&(i+=" [as "+m+"]")):i+=l+"."+(m||"<anonymous>")}else a?i+="new "+(u||"<anonymous>"):u?i+=u:(i+=t,s=!1);return s&&(i+=" ("+t+")"),i}r(cP,"CallSiteToString");function V_(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(n){t[n]=/^(?:is|get)/.test(n)?function(){return e[n].call(e)}:e[n]}),t.toString=cP,t}r(V_,"cloneCallSite");function G_(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var n=e.getFileName()||e.getScriptNameOrSourceURL();if(n){var o=e.getLineNumber(),i=e.getColumnNumber()-1,u=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,s=u.test(iP())?0:62;o===1&&i>s&&!ql()&&!e.isEval()&&(i-=s);var a=$l({source:n,line:o,column:i});t.curPosition=a,e=V_(e);var c=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?c():t.nextPosition.name||c()},e.getFileName=function(){return a.source},e.getLineNumber=function(){return a.line},e.getColumnNumber=function(){return a.column+1},e.getScriptNameOrSourceURL=function(){return a.source},e}var l=e.isEval()&&e.getEvalOrigin();return l&&(l=z_(l),e=V_(e),e.getEvalOrigin=function(){return l}),e}r(G_,"wrapCallSite");function lP(e,t){Dl&&(Vr={},Gi={});for(var n=e.name||"Error",o=e.message||"",i=n+": "+o,u={nextPosition:null,curPosition:null},s=[],a=t.length-1;a>=0;a--)s.push(`
    at `+G_(t[a],u)),u.nextPosition=u.curPosition;return u.curPosition=u.nextPosition=null,i+s.reverse().join("")}r(lP,"prepareStackTrace");function K_(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var n=t[1],o=+t[2],i=+t[3],u=Vr[n];if(!u&&On&&On.existsSync(n))try{u=On.readFileSync(n,"utf8")}catch{u=""}if(u){var s=u.split(/(?:\r\n|\r|\n)/)[o-1];if(s)return n+":"+o+`
`+s+`
`+new Array(i).join(" ")+"^"}}return null}r(K_,"getErrorSource");function dP(e){var t=K_(e),n=sP();n&&n._handle&&n._handle.setBlocking&&n._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),aP(1)}r(dP,"printErrorAndExit");function fP(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var n=arguments[1]&&arguments[1].stack,o=this.listeners(t).length>0;if(n&&!o)return dP(arguments[1])}return e.apply(this,arguments)}}r(fP,"shimEmitUncaughtException");var mP=mr.slice(0),pP=pr.slice(0);zr.wrapCallSite=G_;zr.getErrorSource=K_;zr.mapSourcePosition=$l;zr.retrieveSourceMap=Wl;zr.install=function(e){if(e=e||{},e.environment&&(zi=e.environment,["node","browser","auto"].indexOf(zi)===-1))throw new Error("environment "+zi+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(mr.length=0),mr.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(pr.length=0),pr.unshift(e.retrieveSourceMap)),e.hookRequire&&!ql()){var t=B_(Ul,"module"),n=t.prototype._compile;n.__sourceMapSupport||(t.prototype._compile=function(u,s){return Vr[s]=u,Gi[s]=void 0,n.call(this,u,s)},t.prototype._compile.__sourceMapSupport=!0)}if(Dl||(Dl="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),W_||(W_=!0,Error.prepareStackTrace=lP),!$_){var o="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var i=B_(Ul,"worker_threads");i.isMainThread===!1&&(o=!1)}catch{}o&&oP()&&($_=!0,fP())}};zr.resetRetrieveHandlers=function(){mr.length=0,pr.length=0,mr=mP.slice(0),pr=pP.slice(0),Wl=pa(pr),Bl=pa(mr)}});var Z_=X(()=>{H_().install()});var ly=X((_z,cy)=>{var hd=require("fs"),Ra=require("path"),es=Ra.join,NP=Ra.dirname,ay=hd.accessSync&&function(e){try{hd.accessSync(e)}catch{return!1}return!0}||hd.existsSync||Ra.existsSync,uy={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"]]};function CP(e){typeof e=="string"?e={bindings:e}:e||(e={}),Object.keys(uy).map(function(c){c in e||(e[c]=uy[c])}),e.module_root||(e.module_root=LP(__filename)),Ra.extname(e.bindings)!=".node"&&(e.bindings+=".node");for(var t=typeof __webpack_require__=="function"?__non_webpack_require__:require,n=[],o=0,i=e.try.length,u,s,a;o<i;o++){u=es.apply(null,e.try[o].map(function(c){return e[c]||c})),n.push(u);try{return s=e.path?t.resolve(u):t(u),e.path||(s.path=u),s}catch(c){if(c.code!=="MODULE_NOT_FOUND"&&c.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(c.message))throw c}}throw a=new Error(`Could not locate the bindings file. Tried:
`+n.map(function(c){return e.arrow+c}).join(`
`)),a.tries=n,a}r(CP,"bindings");cy.exports=CP;function LP(e){for(var t=NP(e),n;;){if(t==="."&&(t=process.cwd()),ay(es(t,"dist")))return es(t,"dist");if(ay(es(t,"compiled")))return t;if(n===t)throw new Error('Could not find module root given file: "'+e+'". Do you have a `dist` or `compiled` directory? ');n=t,t=es(t,"..")}}r(LP,"getRoot")});var fy=X((bz,dy)=>{dy.exports=ly()("node_sqlite3.node")});var gy=X(py=>{var OP=require("util");function FP(e,t,n){let o=e[t];e[t]=function(){let i=new Error,u=e.constructor.name+"#"+t+"("+Array.prototype.slice.call(arguments).map(function(a){return OP.inspect(a,!1,0)}).join(", ")+")";typeof n>"u"&&(n=-1),n<0&&(n+=arguments.length);let s=arguments[n];return typeof arguments[n]=="function"&&(arguments[n]=r(function(){let c=arguments[0];return c&&c.stack&&!c.__augmented&&(c.stack=my(c).join(`
`),c.stack+=`
--> in `+u,c.stack+=`
`+my(i).slice(1).join(`
`),c.__augmented=!0),s.apply(this,arguments)},"replacement")),o.apply(this,arguments)}}r(FP,"extendTrace");py.extendTrace=FP;function my(e){return e.stack.split(`
`).filter(function(t){return t.indexOf(__filename)<0})}r(my,"filter")});var by=X((_y,yy)=>{var AP=require("path"),cn=fy(),Do=require("events").EventEmitter;yy.exports=_y=cn;function jo(e){return function(t){let n,o=Array.prototype.slice.call(arguments,1);if(typeof o[o.length-1]=="function"){let u=o[o.length-1];n=r(function(s){s&&u(s)},"errBack")}let i=new Pa(this,t,n);return e.call(this,i,o)}}r(jo,"normalizeMethod");function yd(e,t){for(let n in t.prototype)e.prototype[n]=t.prototype[n]}r(yd,"inherits");cn.cached={Database:r(function(e,t,n){if(e===""||e===":memory:")return new Nt(e,t,n);let o;if(e=AP.resolve(e),!cn.cached.objects[e])o=cn.cached.objects[e]=new Nt(e,t,n);else{o=cn.cached.objects[e];let u=typeof t=="number"?n:t;if(typeof u=="function"){let s=function(){u.call(o,null)};var i=s;r(s,"cb"),o.open?process.nextTick(s):o.once("open",s)}}return o},"Database"),objects:{}};var Nt=cn.Database,Pa=cn.Statement,_d=cn.Backup;yd(Nt,Do);yd(Pa,Do);yd(_d,Do);Nt.prototype.prepare=jo(function(e,t){return t.length?e.bind.apply(e,t):e});Nt.prototype.run=jo(function(e,t){return e.run.apply(e,t).finalize(),this});Nt.prototype.get=jo(function(e,t){return e.get.apply(e,t).finalize(),this});Nt.prototype.all=jo(function(e,t){return e.all.apply(e,t).finalize(),this});Nt.prototype.each=jo(function(e,t){return e.each.apply(e,t).finalize(),this});Nt.prototype.map=jo(function(e,t){return e.map.apply(e,t).finalize(),this});Nt.prototype.backup=function(){let e;return arguments.length<=2?e=new _d(this,arguments[0],"main","main",!0,arguments[1]):e=new _d(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),e.retryErrors=[cn.BUSY,cn.LOCKED],e};Pa.prototype.map=function(){let e=Array.prototype.slice.call(arguments),t=e.pop();return e.push(function(n,o){if(n)return t(n);let i={};if(o.length){let u=Object.keys(o[0]),s=u[0];if(u.length>2)for(let a=0;a<o.length;a++)i[o[a][s]]=o[a];else{let a=u[1];for(let c=0;c<o.length;c++)i[o[c][s]]=o[c][a]}}t(n,i)}),this.all.apply(this,e)};var hy=!1,bd=["trace","profile","change"];Nt.prototype.addListener=Nt.prototype.on=function(e){let t=Do.prototype.addListener.apply(this,arguments);return bd.indexOf(e)>=0&&this.configure(e,!0),t};Nt.prototype.removeListener=function(e){let t=Do.prototype.removeListener.apply(this,arguments);return bd.indexOf(e)>=0&&!this._events[e]&&this.configure(e,!1),t};Nt.prototype.removeAllListeners=function(e){let t=Do.prototype.removeAllListeners.apply(this,arguments);return bd.indexOf(e)>=0&&this.configure(e,!1),t};cn.verbose=function(){if(!hy){let e=gy();["prepare","get","run","all","each","map","close","exec"].forEach(function(t){e.extendTrace(Nt.prototype,t)}),["bind","get","run","all","each","map","reset","finalize"].forEach(function(t){e.extendTrace(Pa.prototype,t)}),hy=!0}return cn}});var qo=X(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.stringArray=Rt.array=Rt.func=Rt.error=Rt.number=Rt.string=Rt.boolean=void 0;function jP(e){return e===!0||e===!1}r(jP,"boolean");Rt.boolean=jP;function Iy(e){return typeof e=="string"||e instanceof String}r(Iy,"string");Rt.string=Iy;function UP(e){return typeof e=="number"||e instanceof Number}r(UP,"number");Rt.number=UP;function qP(e){return e instanceof Error}r(qP,"error");Rt.error=qP;function BP(e){return typeof e=="function"}r(BP,"func");Rt.func=BP;function xy(e){return Array.isArray(e)}r(xy,"array");Rt.array=xy;function WP(e){return xy(e)&&e.every(t=>Iy(t))}r(WP,"stringArray");Rt.stringArray=WP});var wf=X(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.Message=oe.NotificationType9=oe.NotificationType8=oe.NotificationType7=oe.NotificationType6=oe.NotificationType5=oe.NotificationType4=oe.NotificationType3=oe.NotificationType2=oe.NotificationType1=oe.NotificationType0=oe.NotificationType=oe.RequestType9=oe.RequestType8=oe.RequestType7=oe.RequestType6=oe.RequestType5=oe.RequestType4=oe.RequestType3=oe.RequestType2=oe.RequestType1=oe.RequestType=oe.RequestType0=oe.AbstractMessageSignature=oe.ParameterStructures=oe.ResponseError=oe.ErrorCodes=void 0;var Zr=qo(),Ed;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(Ed||(oe.ErrorCodes=Ed={}));var La=class La extends Error{constructor(t,n,o){super(n),this.code=Zr.number(t)?t:Ed.UnknownErrorCode,this.data=o,Object.setPrototypeOf(this,La.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};r(La,"ResponseError");var Rd=La;oe.ResponseError=Rd;var Bo=class Bo{constructor(t){this.kind=t}static is(t){return t===Bo.auto||t===Bo.byName||t===Bo.byPosition}toString(){return this.kind}};r(Bo,"ParameterStructures");var Dt=Bo;oe.ParameterStructures=Dt;Dt.auto=new Dt("auto");Dt.byPosition=new Dt("byPosition");Dt.byName=new Dt("byName");var Qd=class Qd{constructor(t,n){this.method=t,this.numberOfParams=n}get parameterStructures(){return Dt.auto}};r(Qd,"AbstractMessageSignature");var qe=Qd;oe.AbstractMessageSignature=qe;var Jd=class Jd extends qe{constructor(t){super(t,0)}};r(Jd,"RequestType0");var Pd=Jd;oe.RequestType0=Pd;var Xd=class Xd extends qe{constructor(t,n=Dt.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};r(Xd,"RequestType");var kd=Xd;oe.RequestType=kd;var Yd=class Yd extends qe{constructor(t,n=Dt.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};r(Yd,"RequestType1");var Md=Yd;oe.RequestType1=Md;var ef=class ef extends qe{constructor(t){super(t,2)}};r(ef,"RequestType2");var Nd=ef;oe.RequestType2=Nd;var tf=class tf extends qe{constructor(t){super(t,3)}};r(tf,"RequestType3");var Cd=tf;oe.RequestType3=Cd;var nf=class nf extends qe{constructor(t){super(t,4)}};r(nf,"RequestType4");var Ld=nf;oe.RequestType4=Ld;var rf=class rf extends qe{constructor(t){super(t,5)}};r(rf,"RequestType5");var Od=rf;oe.RequestType5=Od;var of=class of extends qe{constructor(t){super(t,6)}};r(of,"RequestType6");var Fd=of;oe.RequestType6=Fd;var sf=class sf extends qe{constructor(t){super(t,7)}};r(sf,"RequestType7");var Ad=sf;oe.RequestType7=Ad;var af=class af extends qe{constructor(t){super(t,8)}};r(af,"RequestType8");var Dd=af;oe.RequestType8=Dd;var uf=class uf extends qe{constructor(t){super(t,9)}};r(uf,"RequestType9");var jd=uf;oe.RequestType9=jd;var cf=class cf extends qe{constructor(t,n=Dt.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};r(cf,"NotificationType");var Ud=cf;oe.NotificationType=Ud;var lf=class lf extends qe{constructor(t){super(t,0)}};r(lf,"NotificationType0");var qd=lf;oe.NotificationType0=qd;var df=class df extends qe{constructor(t,n=Dt.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};r(df,"NotificationType1");var Bd=df;oe.NotificationType1=Bd;var ff=class ff extends qe{constructor(t){super(t,2)}};r(ff,"NotificationType2");var Wd=ff;oe.NotificationType2=Wd;var mf=class mf extends qe{constructor(t){super(t,3)}};r(mf,"NotificationType3");var $d=mf;oe.NotificationType3=$d;var pf=class pf extends qe{constructor(t){super(t,4)}};r(pf,"NotificationType4");var Vd=pf;oe.NotificationType4=Vd;var gf=class gf extends qe{constructor(t){super(t,5)}};r(gf,"NotificationType5");var zd=gf;oe.NotificationType5=zd;var hf=class hf extends qe{constructor(t){super(t,6)}};r(hf,"NotificationType6");var Gd=hf;oe.NotificationType6=Gd;var _f=class _f extends qe{constructor(t){super(t,7)}};r(_f,"NotificationType7");var Kd=_f;oe.NotificationType7=Kd;var yf=class yf extends qe{constructor(t){super(t,8)}};r(yf,"NotificationType8");var Hd=yf;oe.NotificationType8=Hd;var bf=class bf extends qe{constructor(t){super(t,9)}};r(bf,"NotificationType9");var Zd=bf;oe.NotificationType9=Zd;var Sy;(function(e){function t(i){let u=i;return u&&Zr.string(u.method)&&(Zr.string(u.id)||Zr.number(u.id))}r(t,"isRequest"),e.isRequest=t;function n(i){let u=i;return u&&Zr.string(u.method)&&i.id===void 0}r(n,"isNotification"),e.isNotification=n;function o(i){let u=i;return u&&(u.result!==void 0||!!u.error)&&(Zr.string(u.id)||Zr.number(u.id)||u.id===null)}r(o,"isResponse"),e.isResponse=o})(Sy||(oe.Message=Sy={}))});var Sf=X(hr=>{"use strict";var Ty;Object.defineProperty(hr,"__esModule",{value:!0});hr.LRUCache=hr.LinkedMap=hr.Touch=void 0;var Pt;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(Pt||(hr.Touch=Pt={}));var If=class If{constructor(){this[Ty]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return(t=this._head)==null?void 0:t.value}get last(){var t;return(t=this._tail)==null?void 0:t.value}has(t){return this._map.has(t)}get(t,n=Pt.None){let o=this._map.get(t);if(o)return n!==Pt.None&&this.touch(o,n),o.value}set(t,n,o=Pt.None){let i=this._map.get(t);if(i)i.value=n,o!==Pt.None&&this.touch(i,o);else{switch(i={key:t,value:n,next:void 0,previous:void 0},o){case Pt.None:this.addItemLast(i);break;case Pt.First:this.addItemFirst(i);break;case Pt.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let n=this._map.get(t);if(n)return this._map.delete(t),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,n){let o=this._state,i=this._head;for(;i;){if(n?t.bind(n)(i.value,i.key,this):t(i.value,i.key,this),this._state!==o)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,n=this._head,o={[Symbol.iterator]:()=>o,next:r(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.key,done:!1};return n=n.next,i}else return{value:void 0,done:!0}},"next")};return o}values(){let t=this._state,n=this._head,o={[Symbol.iterator]:()=>o,next:r(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.value,done:!1};return n=n.next,i}else return{value:void 0,done:!0}},"next")};return o}entries(){let t=this._state,n=this._head,o={[Symbol.iterator]:()=>o,next:r(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:[n.key,n.value],done:!1};return n=n.next,i}else return{value:void 0,done:!0}},"next")};return o}[(Ty=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let n=this._head,o=this.size;for(;n&&o>t;)this._map.delete(n.key),n=n.next,o--;this._head=n,this._size=o,n&&(n.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let n=t.next,o=t.previous;if(!n||!o)throw new Error("Invalid list");n.previous=o,o.next=n}t.next=void 0,t.previous=void 0,this._state++}touch(t,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==Pt.First&&n!==Pt.Last)){if(n===Pt.First){if(t===this._head)return;let o=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(o.previous=i,i.next=o),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(n===Pt.Last){if(t===this._tail)return;let o=t.next,i=t.previous;t===this._head?(o.previous=void 0,this._head=o):(o.previous=i,i.next=o),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((n,o)=>{t.push([o,n])}),t}fromJSON(t){this.clear();for(let[n,o]of t)this.set(n,o)}};r(If,"LinkedMap");var Oa=If;hr.LinkedMap=Oa;var xf=class xf extends Oa{constructor(t,n=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,n=Pt.AsNew){return super.get(t,n)}peek(t){return super.get(t,Pt.None)}set(t,n){return super.set(t,n,Pt.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};r(xf,"LRUCache");var vf=xf;hr.LRUCache=vf});var Ry=X(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.Disposable=void 0;var Ey;(function(e){function t(n){return{dispose:n}}r(t,"create"),e.create=t})(Ey||(Fa.Disposable=Ey={}))});var _r=X(Rf=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});var Tf;function Ef(){if(Tf===void 0)throw new Error("No runtime abstraction layer installed");return Tf}r(Ef,"RAL");(function(e){function t(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Tf=n}r(t,"install"),e.install=t})(Ef||(Ef={}));Rf.default=Ef});var $o=X(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.Emitter=Wo.Event=void 0;var $P=_r(),Py;(function(e){let t={dispose(){}};e.None=function(){return t}})(Py||(Wo.Event=Py={}));var kf=class kf{add(t,n=null,o){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(n),Array.isArray(o)&&o.push({dispose:r(()=>this.remove(t,n),"dispose")})}remove(t,n=null){if(!this._callbacks)return;let o=!1;for(let i=0,u=this._callbacks.length;i<u;i++)if(this._callbacks[i]===t)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else o=!0;if(o)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let n=[],o=this._callbacks.slice(0),i=this._contexts.slice(0);for(let u=0,s=o.length;u<s;u++)try{n.push(o[u].apply(i[u],t))}catch(a){(0,$P.default)().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}};r(kf,"CallbackList");var Pf=kf,Da=class Da{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,n,o)=>{this._callbacks||(this._callbacks=new Pf),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,n);let i={dispose:r(()=>{this._callbacks&&(this._callbacks.remove(t,n),i.dispose=Da._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(o)&&o.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};r(Da,"Emitter");var Aa=Da;Wo.Emitter=Aa;Aa._noop=function(){}});var qa=X(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.CancellationTokenSource=Vo.CancellationToken=void 0;var VP=_r(),zP=qo(),Mf=$o(),ja;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Mf.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Mf.Event.None});function t(n){let o=n;return o&&(o===e.None||o===e.Cancelled||zP.boolean(o.isCancellationRequested)&&!!o.onCancellationRequested)}r(t,"is"),e.is=t})(ja||(Vo.CancellationToken=ja={}));var GP=Object.freeze(function(e,t){let n=(0,VP.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}}),Cf=class Cf{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?GP:(this._emitter||(this._emitter=new Mf.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}};r(Cf,"MutableToken");var Ua=Cf,Lf=class Lf{get token(){return this._token||(this._token=new Ua),this._token}cancel(){this._token?this._token.cancel():this._token=ja.Cancelled}dispose(){this._token?this._token instanceof Ua&&this._token.dispose():this._token=ja.None}};r(Lf,"CancellationTokenSource");var Nf=Lf;Vo.CancellationTokenSource=Nf});var ky=X(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.SharedArrayReceiverStrategy=zo.SharedArraySenderStrategy=void 0;var KP=qa(),ts;(function(e){e.Continue=0,e.Cancelled=1})(ts||(ts={}));var jf=class jf{constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let n=new SharedArrayBuffer(4),o=new Int32Array(n,0,1);o[0]=ts.Continue,this.buffers.set(t.id,n),t.$cancellationData=n}async sendCancellation(t,n){let o=this.buffers.get(n);if(o===void 0)return;let i=new Int32Array(o,0,1);Atomics.store(i,0,ts.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};r(jf,"SharedArraySenderStrategy");var Of=jf;zo.SharedArraySenderStrategy=Of;var Uf=class Uf{constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===ts.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}};r(Uf,"SharedArrayBufferCancellationToken");var Ff=Uf,qf=class qf{constructor(t){this.token=new Ff(t)}cancel(){}dispose(){}};r(qf,"SharedArrayBufferCancellationTokenSource");var Af=qf,Bf=class Bf{constructor(){this.kind="request"}createCancellationTokenSource(t){let n=t.$cancellationData;return n===void 0?new KP.CancellationTokenSource:new Af(n)}};r(Bf,"SharedArrayReceiverStrategy");var Df=Bf;zo.SharedArrayReceiverStrategy=Df});var Vf=X(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.Semaphore=void 0;var HP=_r(),$f=class $f{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((n,o)=>{this._waiting.push({thunk:t,resolve:n,reject:o}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,HP.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=t.thunk();n instanceof Promise?n.then(o=>{this._active--,t.resolve(o),this.runNext()},o=>{this._active--,t.reject(o),this.runNext()}):(this._active--,t.resolve(n),this.runNext())}catch(n){this._active--,t.reject(n),this.runNext()}}};r($f,"Semaphore");var Wf=$f;Ba.Semaphore=Wf});var Ny=X(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.ReadableStreamMessageReader=yr.AbstractMessageReader=yr.MessageReader=void 0;var Gf=_r(),Go=qo(),zf=$o(),ZP=Vf(),My;(function(e){function t(n){let o=n;return o&&Go.func(o.listen)&&Go.func(o.dispose)&&Go.func(o.onError)&&Go.func(o.onClose)&&Go.func(o.onPartialMessage)}r(t,"is"),e.is=t})(My||(yr.MessageReader=My={}));var Zf=class Zf{constructor(){this.errorEmitter=new zf.Emitter,this.closeEmitter=new zf.Emitter,this.partialMessageEmitter=new zf.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${Go.string(t.message)?t.message:"unknown"}`)}};r(Zf,"AbstractMessageReader");var Wa=Zf;yr.AbstractMessageReader=Wa;var Kf;(function(e){function t(n){var l;let o,i,u,s=new Map,a,c=new Map;if(n===void 0||typeof n=="string")o=n!=null?n:"utf-8";else{if(o=(l=n.charset)!=null?l:"utf-8",n.contentDecoder!==void 0&&(u=n.contentDecoder,s.set(u.name,u)),n.contentDecoders!==void 0)for(let m of n.contentDecoders)s.set(m.name,m);if(n.contentTypeDecoder!==void 0&&(a=n.contentTypeDecoder,c.set(a.name,a)),n.contentTypeDecoders!==void 0)for(let m of n.contentTypeDecoders)c.set(m.name,m)}return a===void 0&&(a=(0,Gf.default)().applicationJson.decoder,c.set(a.name,a)),{charset:o,contentDecoder:u,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}r(t,"fromOptions"),e.fromOptions=t})(Kf||(Kf={}));var Qf=class Qf extends Wa{constructor(t,n){super(),this.readable=t,this.options=Kf.fromOptions(n),this.buffer=(0,Gf.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new ZP.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let n=this.readable.onData(o=>{this.onData(o)});return this.readable.onError(o=>this.fireError(o)),this.readable.onClose(()=>this.fireClose()),n}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let o=this.buffer.tryReadHeaders(!0);if(!o)return;let i=o.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(o))}`));return}let u=parseInt(i);if(isNaN(u)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=u}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let o=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,i=await this.options.contentTypeDecoder.decode(o,this.options);this.callback(i)}).catch(o=>{this.fireError(o)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Gf.default)().timer.setTimeout((t,n)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};r(Qf,"ReadableStreamMessageReader");var Hf=Qf;yr.ReadableStreamMessageReader=Hf});var Ay=X(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.WriteableStreamMessageWriter=br.AbstractMessageWriter=br.MessageWriter=void 0;var Cy=_r(),ns=qo(),QP=Vf(),Ly=$o(),JP="Content-Length: ",Oy=`\r
`,Fy;(function(e){function t(n){let o=n;return o&&ns.func(o.dispose)&&ns.func(o.onClose)&&ns.func(o.onError)&&ns.func(o.write)}r(t,"is"),e.is=t})(Fy||(br.MessageWriter=Fy={}));var Yf=class Yf{constructor(){this.errorEmitter=new Ly.Emitter,this.closeEmitter=new Ly.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,n,o){this.errorEmitter.fire([this.asError(t),n,o])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${ns.string(t.message)?t.message:"unknown"}`)}};r(Yf,"AbstractMessageWriter");var $a=Yf;br.AbstractMessageWriter=$a;var Jf;(function(e){function t(n){var o,i;return n===void 0||typeof n=="string"?{charset:n!=null?n:"utf-8",contentTypeEncoder:(0,Cy.default)().applicationJson.encoder}:{charset:(o=n.charset)!=null?o:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!=null?i:(0,Cy.default)().applicationJson.encoder}}r(t,"fromOptions"),e.fromOptions=t})(Jf||(Jf={}));var em=class em extends $a{constructor(t,n){super(),this.writable=t,this.options=Jf.fromOptions(n),this.errorCount=0,this.writeSemaphore=new QP.Semaphore(1),this.writable.onError(o=>this.fireError(o)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(o=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(o):o).then(o=>{let i=[];return i.push(JP,o.byteLength.toString(),Oy),i.push(Oy),this.doWrite(t,i,o)},o=>{throw this.fireError(o),o}))}async doWrite(t,n,o){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(o)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){this.writable.end()}};r(em,"WriteableStreamMessageWriter");var Xf=em;br.WriteableStreamMessageWriter=Xf});var Dy=X(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.AbstractMessageBuffer=void 0;var XP=13,YP=10,e0=`\r
`,nm=class nm{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let n=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let n=0,o=0,i=0,u=0;e:for(;o<this._chunks.length;){let l=this._chunks[o];for(i=0;i<l.length;){switch(l[i]){case XP:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case YP:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0}break;default:n=0}i++}u+=l.byteLength,o++}if(n!==4)return;let s=this._read(u+i),a=new Map,c=this.toString(s,"ascii").split(e0);if(c.length<2)return a;for(let l=0;l<c.length-2;l++){let m=c[l],g=m.indexOf(":");if(g===-1)throw new Error(`Message header must separate key and value using ':'
${m}`);let _=m.substr(0,g),v=m.substr(g+1).trim();a.set(t?_.toLowerCase():_,v)}return a}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let u=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(u)}if(this._chunks[0].byteLength>t){let u=this._chunks[0],s=this.asNative(u,t);return this._chunks[0]=u.slice(t),this._totalLength-=t,s}let n=this.allocNative(t),o=0,i=0;for(;t>0;){let u=this._chunks[i];if(u.byteLength>t){let s=u.slice(0,t);n.set(s,o),o+=t,this._chunks[i]=u.slice(t),this._totalLength-=t,t-=t}else n.set(u,o),o+=u.byteLength,this._chunks.shift(),this._totalLength-=u.byteLength,t-=u.byteLength}return n}};r(nm,"AbstractMessageBuffer");var tm=nm;Va.AbstractMessageBuffer=tm});var Wy=X(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.createMessageConnection=ce.ConnectionOptions=ce.MessageStrategy=ce.CancellationStrategy=ce.CancellationSenderStrategy=ce.CancellationReceiverStrategy=ce.RequestCancellationReceiverStrategy=ce.IdCancellationReceiverStrategy=ce.ConnectionStrategy=ce.ConnectionError=ce.ConnectionErrors=ce.LogTraceNotification=ce.SetTraceNotification=ce.TraceFormat=ce.TraceValues=ce.Trace=ce.NullLogger=ce.ProgressType=ce.ProgressToken=void 0;var jy=_r(),He=qo(),ae=wf(),Uy=Sf(),rs=$o(),rm=qa(),ss;(function(e){e.type=new ae.NotificationType("$/cancelRequest")})(ss||(ss={}));var om;(function(e){function t(n){return typeof n=="string"||typeof n=="number"}r(t,"is"),e.is=t})(om||(ce.ProgressToken=om={}));var os;(function(e){e.type=new ae.NotificationType("$/progress")})(os||(os={}));var lm=class lm{constructor(){}};r(lm,"ProgressType");var im=lm;ce.ProgressType=im;var sm;(function(e){function t(n){return He.func(n)}r(t,"is"),e.is=t})(sm||(sm={}));ce.NullLogger=Object.freeze({error:r(()=>{},"error"),warn:r(()=>{},"warn"),info:r(()=>{},"info"),log:r(()=>{},"log")});var Ie;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(Ie||(ce.Trace=Ie={}));var qy;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(qy||(ce.TraceValues=qy={}));(function(e){function t(o){if(!He.string(o))return e.Off;switch(o=o.toLowerCase(),o){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}r(t,"fromString"),e.fromString=t;function n(o){switch(o){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}r(n,"toString"),e.toString=n})(Ie||(ce.Trace=Ie={}));var Kt;(function(e){e.Text="text",e.JSON="json"})(Kt||(ce.TraceFormat=Kt={}));(function(e){function t(n){return He.string(n)?(n=n.toLowerCase(),n==="json"?e.JSON:e.Text):e.Text}r(t,"fromString"),e.fromString=t})(Kt||(ce.TraceFormat=Kt={}));var am;(function(e){e.type=new ae.NotificationType("$/setTrace")})(am||(ce.SetTraceNotification=am={}));var za;(function(e){e.type=new ae.NotificationType("$/logTrace")})(za||(ce.LogTraceNotification=za={}));var is;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(is||(ce.ConnectionErrors=is={}));var Ja=class Ja extends Error{constructor(t,n){super(n),this.code=t,Object.setPrototypeOf(this,Ja.prototype)}};r(Ja,"ConnectionError");var Ko=Ja;ce.ConnectionError=Ko;var um;(function(e){function t(n){let o=n;return o&&He.func(o.cancelUndispatched)}r(t,"is"),e.is=t})(um||(ce.ConnectionStrategy=um={}));var Ga;(function(e){function t(n){let o=n;return o&&(o.kind===void 0||o.kind==="id")&&He.func(o.createCancellationTokenSource)&&(o.dispose===void 0||He.func(o.dispose))}r(t,"is"),e.is=t})(Ga||(ce.IdCancellationReceiverStrategy=Ga={}));var cm;(function(e){function t(n){let o=n;return o&&o.kind==="request"&&He.func(o.createCancellationTokenSource)&&(o.dispose===void 0||He.func(o.dispose))}r(t,"is"),e.is=t})(cm||(ce.RequestCancellationReceiverStrategy=cm={}));var Ka;(function(e){e.Message=Object.freeze({createCancellationTokenSource(n){return new rm.CancellationTokenSource}});function t(n){return Ga.is(n)||cm.is(n)}r(t,"is"),e.is=t})(Ka||(ce.CancellationReceiverStrategy=Ka={}));var Ha;(function(e){e.Message=Object.freeze({sendCancellation(n,o){return n.sendNotification(ss.type,{id:o})},cleanup(n){}});function t(n){let o=n;return o&&He.func(o.sendCancellation)&&He.func(o.cleanup)}r(t,"is"),e.is=t})(Ha||(ce.CancellationSenderStrategy=Ha={}));var Za;(function(e){e.Message=Object.freeze({receiver:Ka.Message,sender:Ha.Message});function t(n){let o=n;return o&&Ka.is(o.receiver)&&Ha.is(o.sender)}r(t,"is"),e.is=t})(Za||(ce.CancellationStrategy=Za={}));var Qa;(function(e){function t(n){let o=n;return o&&He.func(o.handleMessage)}r(t,"is"),e.is=t})(Qa||(ce.MessageStrategy=Qa={}));var By;(function(e){function t(n){let o=n;return o&&(Za.is(o.cancellationStrategy)||um.is(o.connectionStrategy)||Qa.is(o.messageStrategy))}r(t,"is"),e.is=t})(By||(ce.ConnectionOptions=By={}));var Sn;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(Sn||(Sn={}));function t0(e,t,n,o){let i=n!==void 0?n:ce.NullLogger,u=0,s=0,a=0,c="2.0",l,m=new Map,g,_=new Map,v=new Map,T,P=new Uy.LinkedMap,j=new Map,L=new Set,Q=new Map,$=Ie.Off,Y=Kt.Text,z,re=Sn.New,ne=new rs.Emitter,U=new rs.Emitter,ie=new rs.Emitter,nt=new rs.Emitter,lt=new rs.Emitter,Be=o&&o.cancellationStrategy?o.cancellationStrategy:Za.Message;function W(y){if(y===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+y.toString()}r(W,"createRequestQueueKey");function M(y){return y===null?"res-unknown-"+(++a).toString():"res-"+y.toString()}r(M,"createResponseQueueKey");function q(){return"not-"+(++s).toString()}r(q,"createNotificationQueueKey");function Z(y,F){ae.Message.isRequest(F)?y.set(W(F.id),F):ae.Message.isResponse(F)?y.set(M(F.id),F):y.set(q(),F)}r(Z,"addMessageToQueue");function k(y){}r(k,"cancelUndispatched");function O(){return re===Sn.Listening}r(O,"isListening");function D(){return re===Sn.Closed}r(D,"isClosed");function G(){return re===Sn.Disposed}r(G,"isDisposed");function J(){(re===Sn.New||re===Sn.Listening)&&(re=Sn.Closed,U.fire(void 0))}r(J,"closeHandler");function H(y){ne.fire([y,void 0,void 0])}r(H,"readErrorHandler");function se(y){ne.fire(y)}r(se,"writeErrorHandler"),e.onClose(J),e.onError(H),t.onClose(J),t.onError(se);function le(){T||P.size===0||(T=(0,jy.default)().timer.setImmediate(()=>{T=void 0,xe()}))}r(le,"triggerMessageQueue");function Ze(y){ae.Message.isRequest(y)?En(y):ae.Message.isNotification(y)?ds(y):ae.Message.isResponse(y)?ls(y):to(y)}r(Ze,"handleMessage");function xe(){if(P.size===0)return;let y=P.shift();try{let F=o==null?void 0:o.messageStrategy;Qa.is(F)?F.handleMessage(y,Ze):Ze(y)}finally{le()}}r(xe,"processMessageQueue");let Bt=r(y=>{try{if(ae.Message.isNotification(y)&&y.method===ss.type.method){let F=y.params.id,K=W(F),ee=P.get(K);if(ae.Message.isRequest(ee)){let Se=o==null?void 0:o.connectionStrategy,Te=Se&&Se.cancelUndispatched?Se.cancelUndispatched(ee,k):void 0;if(Te&&(Te.error!==void 0||Te.result!==void 0)){P.delete(K),Q.delete(F),Te.id=ee.id,Tr(Te,y.method,Date.now()),t.write(Te).catch(()=>i.error("Sending response for canceled message failed."));return}}let Me=Q.get(F);if(Me!==void 0){Me.cancel(),no(y);return}else L.add(F)}Z(P,y)}finally{le()}},"callback");function En(y){var Xe;if(G())return;function F(_e,$e,Ee){let Ve={jsonrpc:c,id:y.id};_e instanceof ae.ResponseError?Ve.error=_e.toJson():Ve.result=_e===void 0?null:_e,Tr(Ve,$e,Ee),t.write(Ve).catch(()=>i.error("Sending response failed."))}r(F,"reply");function K(_e,$e,Ee){let Ve={jsonrpc:c,id:y.id,error:_e.toJson()};Tr(Ve,$e,Ee),t.write(Ve).catch(()=>i.error("Sending response failed."))}r(K,"replyError");function ee(_e,$e,Ee){_e===void 0&&(_e=null);let Ve={jsonrpc:c,id:y.id,result:_e};Tr(Ve,$e,Ee),t.write(Ve).catch(()=>i.error("Sending response failed."))}r(ee,"replySuccess"),gs(y);let Me=m.get(y.method),Se,Te;Me&&(Se=Me.type,Te=Me.handler);let We=Date.now();if(Te||l){let _e=(Xe=y.id)!=null?Xe:String(Date.now()),$e=Ga.is(Be.receiver)?Be.receiver.createCancellationTokenSource(_e):Be.receiver.createCancellationTokenSource(y);y.id!==null&&L.has(y.id)&&$e.cancel(),y.id!==null&&Q.set(_e,$e);try{let Ee;if(Te)if(y.params===void 0){if(Se!==void 0&&Se.numberOfParams!==0){K(new ae.ResponseError(ae.ErrorCodes.InvalidParams,`Request ${y.method} defines ${Se.numberOfParams} params but received none.`),y.method,We);return}Ee=Te($e.token)}else if(Array.isArray(y.params)){if(Se!==void 0&&Se.parameterStructures===ae.ParameterStructures.byName){K(new ae.ResponseError(ae.ErrorCodes.InvalidParams,`Request ${y.method} defines parameters by name but received parameters by position`),y.method,We);return}Ee=Te(...y.params,$e.token)}else{if(Se!==void 0&&Se.parameterStructures===ae.ParameterStructures.byPosition){K(new ae.ResponseError(ae.ErrorCodes.InvalidParams,`Request ${y.method} defines parameters by position but received parameters by name`),y.method,We);return}Ee=Te(y.params,$e.token)}else l&&(Ee=l(y.method,y.params,$e.token));let Ve=Ee;Ee?Ve.then?Ve.then(Ye=>{Q.delete(_e),F(Ye,y.method,We)},Ye=>{Q.delete(_e),Ye instanceof ae.ResponseError?K(Ye,y.method,We):Ye&&He.string(Ye.message)?K(new ae.ResponseError(ae.ErrorCodes.InternalError,`Request ${y.method} failed with message: ${Ye.message}`),y.method,We):K(new ae.ResponseError(ae.ErrorCodes.InternalError,`Request ${y.method} failed unexpectedly without providing any details.`),y.method,We)}):(Q.delete(_e),F(Ee,y.method,We)):(Q.delete(_e),ee(Ee,y.method,We))}catch(Ee){Q.delete(_e),Ee instanceof ae.ResponseError?F(Ee,y.method,We):Ee&&He.string(Ee.message)?K(new ae.ResponseError(ae.ErrorCodes.InternalError,`Request ${y.method} failed with message: ${Ee.message}`),y.method,We):K(new ae.ResponseError(ae.ErrorCodes.InternalError,`Request ${y.method} failed unexpectedly without providing any details.`),y.method,We)}}else K(new ae.ResponseError(ae.ErrorCodes.MethodNotFound,`Unhandled method ${y.method}`),y.method,We)}r(En,"handleRequest");function ls(y){if(!G())if(y.id===null)y.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(y.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let F=y.id,K=j.get(F);if(hs(y,K),K!==void 0){j.delete(F);try{if(y.error){let ee=y.error;K.reject(new ae.ResponseError(ee.code,ee.message,ee.data))}else if(y.result!==void 0)K.resolve(y.result);else throw new Error("Should never happen.")}catch(ee){ee.message?i.error(`Response handler '${K.method}' failed with message: ${ee.message}`):i.error(`Response handler '${K.method}' failed unexpectedly.`)}}}}r(ls,"handleResponse");function ds(y){if(G())return;let F,K;if(y.method===ss.type.method){let ee=y.params.id;L.delete(ee),no(y);return}else{let ee=_.get(y.method);ee&&(K=ee.handler,F=ee.type)}if(K||g)try{if(no(y),K)if(y.params===void 0)F!==void 0&&F.numberOfParams!==0&&F.parameterStructures!==ae.ParameterStructures.byName&&i.error(`Notification ${y.method} defines ${F.numberOfParams} params but received none.`),K();else if(Array.isArray(y.params)){let ee=y.params;y.method===os.type.method&&ee.length===2&&om.is(ee[0])?K({token:ee[0],value:ee[1]}):(F!==void 0&&(F.parameterStructures===ae.ParameterStructures.byName&&i.error(`Notification ${y.method} defines parameters by name but received parameters by position`),F.numberOfParams!==y.params.length&&i.error(`Notification ${y.method} defines ${F.numberOfParams} params but received ${ee.length} arguments`)),K(...ee))}else F!==void 0&&F.parameterStructures===ae.ParameterStructures.byPosition&&i.error(`Notification ${y.method} defines parameters by position but received parameters by name`),K(y.params);else g&&g(y.method,y.params)}catch(ee){ee.message?i.error(`Notification handler '${y.method}' failed with message: ${ee.message}`):i.error(`Notification handler '${y.method}' failed unexpectedly.`)}else ie.fire(y)}r(ds,"handleNotification");function to(y){if(!y){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(y,null,4)}`);let F=y;if(He.string(F.id)||He.number(F.id)){let K=F.id,ee=j.get(K);ee&&ee.reject(new Error("The received response has neither a result nor an error property."))}}r(to,"handleInvalidMessage");function pn(y){if(y!=null)switch($){case Ie.Verbose:return JSON.stringify(y,null,4);case Ie.Compact:return JSON.stringify(y);default:return}}r(pn,"stringifyTrace");function ms(y){if(!($===Ie.Off||!z))if(Y===Kt.Text){let F;($===Ie.Verbose||$===Ie.Compact)&&y.params&&(F=`Params: ${pn(y.params)}

`),z.log(`Sending request '${y.method} - (${y.id})'.`,F)}else Un("send-request",y)}r(ms,"traceSendingRequest");function ps(y){if(!($===Ie.Off||!z))if(Y===Kt.Text){let F;($===Ie.Verbose||$===Ie.Compact)&&(y.params?F=`Params: ${pn(y.params)}

`:F=`No parameters provided.

`),z.log(`Sending notification '${y.method}'.`,F)}else Un("send-notification",y)}r(ps,"traceSendingNotification");function Tr(y,F,K){if(!($===Ie.Off||!z))if(Y===Kt.Text){let ee;($===Ie.Verbose||$===Ie.Compact)&&(y.error&&y.error.data?ee=`Error data: ${pn(y.error.data)}

`:y.result?ee=`Result: ${pn(y.result)}

`:y.error===void 0&&(ee=`No result returned.

`)),z.log(`Sending response '${F} - (${y.id})'. Processing request took ${Date.now()-K}ms`,ee)}else Un("send-response",y)}r(Tr,"traceSendingResponse");function gs(y){if(!($===Ie.Off||!z))if(Y===Kt.Text){let F;($===Ie.Verbose||$===Ie.Compact)&&y.params&&(F=`Params: ${pn(y.params)}

`),z.log(`Received request '${y.method} - (${y.id})'.`,F)}else Un("receive-request",y)}r(gs,"traceReceivedRequest");function no(y){if(!($===Ie.Off||!z||y.method===za.type.method))if(Y===Kt.Text){let F;($===Ie.Verbose||$===Ie.Compact)&&(y.params?F=`Params: ${pn(y.params)}

`:F=`No parameters provided.

`),z.log(`Received notification '${y.method}'.`,F)}else Un("receive-notification",y)}r(no,"traceReceivedNotification");function hs(y,F){if(!($===Ie.Off||!z))if(Y===Kt.Text){let K;if(($===Ie.Verbose||$===Ie.Compact)&&(y.error&&y.error.data?K=`Error data: ${pn(y.error.data)}

`:y.result?K=`Result: ${pn(y.result)}

`:y.error===void 0&&(K=`No result returned.

`)),F){let ee=y.error?` Request failed: ${y.error.message} (${y.error.code}).`:"";z.log(`Received response '${F.method} - (${y.id})' in ${Date.now()-F.timerStart}ms.${ee}`,K)}else z.log(`Received response ${y.id} without active response promise.`,K)}else Un("receive-response",y)}r(hs,"traceReceivedResponse");function Un(y,F){if(!z||$===Ie.Off)return;let K={isLSPMessage:!0,type:y,message:F,timestamp:Date.now()};z.log(K)}r(Un,"logLSPMessage");function tr(){if(D())throw new Ko(is.Closed,"Connection is closed.");if(G())throw new Ko(is.Disposed,"Connection is disposed.")}r(tr,"throwIfClosedOrDisposed");function _s(){if(O())throw new Ko(is.AlreadyListening,"Connection is already listening")}r(_s,"throwIfListening");function ys(){if(!O())throw new Error("Call listen() first.")}r(ys,"throwIfNotListening");function Rn(y){return y===void 0?null:y}r(Rn,"undefinedToNull");function ai(y){if(y!==null)return y}r(ai,"nullToUndefined");function ui(y){return y!=null&&!Array.isArray(y)&&typeof y=="object"}r(ui,"isNamedParam");function ro(y,F){switch(y){case ae.ParameterStructures.auto:return ui(F)?ai(F):[Rn(F)];case ae.ParameterStructures.byName:if(!ui(F))throw new Error("Received parameters by name but param is not an object literal.");return ai(F);case ae.ParameterStructures.byPosition:return[Rn(F)];default:throw new Error(`Unknown parameter structure ${y.toString()}`)}}r(ro,"computeSingleParam");function ci(y,F){let K,ee=y.numberOfParams;switch(ee){case 0:K=void 0;break;case 1:K=ro(y.parameterStructures,F[0]);break;default:K=[];for(let Me=0;Me<F.length&&Me<ee;Me++)K.push(Rn(F[Me]));if(F.length<ee)for(let Me=F.length;Me<ee;Me++)K.push(null);break}return K}r(ci,"computeMessageParams");let qn={sendNotification:r((y,...F)=>{tr();let K,ee;if(He.string(y)){K=y;let Se=F[0],Te=0,We=ae.ParameterStructures.auto;ae.ParameterStructures.is(Se)&&(Te=1,We=Se);let Xe=F.length,_e=Xe-Te;switch(_e){case 0:ee=void 0;break;case 1:ee=ro(We,F[Te]);break;default:if(We===ae.ParameterStructures.byName)throw new Error(`Received ${_e} parameters for 'by Name' notification parameter structure.`);ee=F.slice(Te,Xe).map($e=>Rn($e));break}}else{let Se=F;K=y.method,ee=ci(y,Se)}let Me={jsonrpc:c,method:K,params:ee};return ps(Me),t.write(Me).catch(Se=>{throw i.error("Sending notification failed."),Se})},"sendNotification"),onNotification:r((y,F)=>{tr();let K;return He.func(y)?g=y:F&&(He.string(y)?(K=y,_.set(y,{type:void 0,handler:F})):(K=y.method,_.set(y.method,{type:y,handler:F}))),{dispose:r(()=>{K!==void 0?_.delete(K):g=void 0},"dispose")}},"onNotification"),onProgress:r((y,F,K)=>{if(v.has(F))throw new Error(`Progress handler for token ${F} already registered`);return v.set(F,K),{dispose:r(()=>{v.delete(F)},"dispose")}},"onProgress"),sendProgress:r((y,F,K)=>qn.sendNotification(os.type,{token:F,value:K}),"sendProgress"),onUnhandledProgress:nt.event,sendRequest:r((y,...F)=>{tr(),ys();let K,ee,Me;if(He.string(y)){K=y;let Xe=F[0],_e=F[F.length-1],$e=0,Ee=ae.ParameterStructures.auto;ae.ParameterStructures.is(Xe)&&($e=1,Ee=Xe);let Ve=F.length;rm.CancellationToken.is(_e)&&(Ve=Ve-1,Me=_e);let Ye=Ve-$e;switch(Ye){case 0:ee=void 0;break;case 1:ee=ro(Ee,F[$e]);break;default:if(Ee===ae.ParameterStructures.byName)throw new Error(`Received ${Ye} parameters for 'by Name' request parameter structure.`);ee=F.slice($e,Ve).map(bs=>Rn(bs));break}}else{let Xe=F;K=y.method,ee=ci(y,Xe);let _e=y.numberOfParams;Me=rm.CancellationToken.is(Xe[_e])?Xe[_e]:void 0}let Se=u++,Te;Me&&(Te=Me.onCancellationRequested(()=>{let Xe=Be.sender.sendCancellation(qn,Se);return Xe===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${Se}`),Promise.resolve()):Xe.catch(()=>{i.log(`Sending cancellation messages for id ${Se} failed`)})}));let We={jsonrpc:c,id:Se,method:K,params:ee};return ms(We),typeof Be.sender.enableCancellation=="function"&&Be.sender.enableCancellation(We),new Promise(async(Xe,_e)=>{let $e=r(Ye=>{Xe(Ye),Be.sender.cleanup(Se),Te==null||Te.dispose()},"resolveWithCleanup"),Ee=r(Ye=>{_e(Ye),Be.sender.cleanup(Se),Te==null||Te.dispose()},"rejectWithCleanup"),Ve={method:K,timerStart:Date.now(),resolve:$e,reject:Ee};try{await t.write(We),j.set(Se,Ve)}catch(Ye){throw i.error("Sending request failed."),Ve.reject(new ae.ResponseError(ae.ErrorCodes.MessageWriteError,Ye.message?Ye.message:"Unknown reason")),Ye}})},"sendRequest"),onRequest:r((y,F)=>{tr();let K=null;return sm.is(y)?(K=void 0,l=y):He.string(y)?(K=null,F!==void 0&&(K=y,m.set(y,{handler:F,type:void 0}))):F!==void 0&&(K=y.method,m.set(y.method,{type:y,handler:F})),{dispose:r(()=>{K!==null&&(K!==void 0?m.delete(K):l=void 0)},"dispose")}},"onRequest"),hasPendingResponse:r(()=>j.size>0,"hasPendingResponse"),trace:r(async(y,F,K)=>{let ee=!1,Me=Kt.Text;K!==void 0&&(He.boolean(K)?ee=K:(ee=K.sendNotification||!1,Me=K.traceFormat||Kt.Text)),$=y,Y=Me,$===Ie.Off?z=void 0:z=F,ee&&!D()&&!G()&&await qn.sendNotification(am.type,{value:Ie.toString(y)})},"trace"),onError:ne.event,onClose:U.event,onUnhandledNotification:ie.event,onDispose:lt.event,end:r(()=>{t.end()},"end"),dispose:r(()=>{if(G())return;re=Sn.Disposed,lt.fire(void 0);let y=new ae.ResponseError(ae.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let F of j.values())F.reject(y);j=new Map,Q=new Map,L=new Set,P=new Uy.LinkedMap,He.func(t.dispose)&&t.dispose(),He.func(e.dispose)&&e.dispose()},"dispose"),listen:r(()=>{tr(),_s(),re=Sn.Listening,e.listen(Bt)},"listen"),inspect:r(()=>{(0,jy.default)().console.log("inspect")},"inspect")};return qn.onNotification(za.type,y=>{if($===Ie.Off||!z)return;let F=$===Ie.Verbose||$===Ie.Compact;z.log(y.message,F?y.verbose:void 0)}),qn.onNotification(os.type,y=>{let F=v.get(y.token);F?F(y.value):nt.fire(y)}),qn}r(t0,"createMessageConnection");ce.createMessageConnection=t0});var Xa=X(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.ProgressType=N.ProgressToken=N.createMessageConnection=N.NullLogger=N.ConnectionOptions=N.ConnectionStrategy=N.AbstractMessageBuffer=N.WriteableStreamMessageWriter=N.AbstractMessageWriter=N.MessageWriter=N.ReadableStreamMessageReader=N.AbstractMessageReader=N.MessageReader=N.SharedArrayReceiverStrategy=N.SharedArraySenderStrategy=N.CancellationToken=N.CancellationTokenSource=N.Emitter=N.Event=N.Disposable=N.LRUCache=N.Touch=N.LinkedMap=N.ParameterStructures=N.NotificationType9=N.NotificationType8=N.NotificationType7=N.NotificationType6=N.NotificationType5=N.NotificationType4=N.NotificationType3=N.NotificationType2=N.NotificationType1=N.NotificationType0=N.NotificationType=N.ErrorCodes=N.ResponseError=N.RequestType9=N.RequestType8=N.RequestType7=N.RequestType6=N.RequestType5=N.RequestType4=N.RequestType3=N.RequestType2=N.RequestType1=N.RequestType0=N.RequestType=N.Message=N.RAL=void 0;N.MessageStrategy=N.CancellationStrategy=N.CancellationSenderStrategy=N.CancellationReceiverStrategy=N.ConnectionError=N.ConnectionErrors=N.LogTraceNotification=N.SetTraceNotification=N.TraceFormat=N.TraceValues=N.Trace=void 0;var Ae=wf();Object.defineProperty(N,"Message",{enumerable:!0,get:r(function(){return Ae.Message},"get")});Object.defineProperty(N,"RequestType",{enumerable:!0,get:r(function(){return Ae.RequestType},"get")});Object.defineProperty(N,"RequestType0",{enumerable:!0,get:r(function(){return Ae.RequestType0},"get")});Object.defineProperty(N,"RequestType1",{enumerable:!0,get:r(function(){return Ae.RequestType1},"get")});Object.defineProperty(N,"RequestType2",{enumerable:!0,get:r(function(){return Ae.RequestType2},"get")});Object.defineProperty(N,"RequestType3",{enumerable:!0,get:r(function(){return Ae.RequestType3},"get")});Object.defineProperty(N,"RequestType4",{enumerable:!0,get:r(function(){return Ae.RequestType4},"get")});Object.defineProperty(N,"RequestType5",{enumerable:!0,get:r(function(){return Ae.RequestType5},"get")});Object.defineProperty(N,"RequestType6",{enumerable:!0,get:r(function(){return Ae.RequestType6},"get")});Object.defineProperty(N,"RequestType7",{enumerable:!0,get:r(function(){return Ae.RequestType7},"get")});Object.defineProperty(N,"RequestType8",{enumerable:!0,get:r(function(){return Ae.RequestType8},"get")});Object.defineProperty(N,"RequestType9",{enumerable:!0,get:r(function(){return Ae.RequestType9},"get")});Object.defineProperty(N,"ResponseError",{enumerable:!0,get:r(function(){return Ae.ResponseError},"get")});Object.defineProperty(N,"ErrorCodes",{enumerable:!0,get:r(function(){return Ae.ErrorCodes},"get")});Object.defineProperty(N,"NotificationType",{enumerable:!0,get:r(function(){return Ae.NotificationType},"get")});Object.defineProperty(N,"NotificationType0",{enumerable:!0,get:r(function(){return Ae.NotificationType0},"get")});Object.defineProperty(N,"NotificationType1",{enumerable:!0,get:r(function(){return Ae.NotificationType1},"get")});Object.defineProperty(N,"NotificationType2",{enumerable:!0,get:r(function(){return Ae.NotificationType2},"get")});Object.defineProperty(N,"NotificationType3",{enumerable:!0,get:r(function(){return Ae.NotificationType3},"get")});Object.defineProperty(N,"NotificationType4",{enumerable:!0,get:r(function(){return Ae.NotificationType4},"get")});Object.defineProperty(N,"NotificationType5",{enumerable:!0,get:r(function(){return Ae.NotificationType5},"get")});Object.defineProperty(N,"NotificationType6",{enumerable:!0,get:r(function(){return Ae.NotificationType6},"get")});Object.defineProperty(N,"NotificationType7",{enumerable:!0,get:r(function(){return Ae.NotificationType7},"get")});Object.defineProperty(N,"NotificationType8",{enumerable:!0,get:r(function(){return Ae.NotificationType8},"get")});Object.defineProperty(N,"NotificationType9",{enumerable:!0,get:r(function(){return Ae.NotificationType9},"get")});Object.defineProperty(N,"ParameterStructures",{enumerable:!0,get:r(function(){return Ae.ParameterStructures},"get")});var dm=Sf();Object.defineProperty(N,"LinkedMap",{enumerable:!0,get:r(function(){return dm.LinkedMap},"get")});Object.defineProperty(N,"LRUCache",{enumerable:!0,get:r(function(){return dm.LRUCache},"get")});Object.defineProperty(N,"Touch",{enumerable:!0,get:r(function(){return dm.Touch},"get")});var n0=Ry();Object.defineProperty(N,"Disposable",{enumerable:!0,get:r(function(){return n0.Disposable},"get")});var $y=$o();Object.defineProperty(N,"Event",{enumerable:!0,get:r(function(){return $y.Event},"get")});Object.defineProperty(N,"Emitter",{enumerable:!0,get:r(function(){return $y.Emitter},"get")});var Vy=qa();Object.defineProperty(N,"CancellationTokenSource",{enumerable:!0,get:r(function(){return Vy.CancellationTokenSource},"get")});Object.defineProperty(N,"CancellationToken",{enumerable:!0,get:r(function(){return Vy.CancellationToken},"get")});var zy=ky();Object.defineProperty(N,"SharedArraySenderStrategy",{enumerable:!0,get:r(function(){return zy.SharedArraySenderStrategy},"get")});Object.defineProperty(N,"SharedArrayReceiverStrategy",{enumerable:!0,get:r(function(){return zy.SharedArrayReceiverStrategy},"get")});var fm=Ny();Object.defineProperty(N,"MessageReader",{enumerable:!0,get:r(function(){return fm.MessageReader},"get")});Object.defineProperty(N,"AbstractMessageReader",{enumerable:!0,get:r(function(){return fm.AbstractMessageReader},"get")});Object.defineProperty(N,"ReadableStreamMessageReader",{enumerable:!0,get:r(function(){return fm.ReadableStreamMessageReader},"get")});var mm=Ay();Object.defineProperty(N,"MessageWriter",{enumerable:!0,get:r(function(){return mm.MessageWriter},"get")});Object.defineProperty(N,"AbstractMessageWriter",{enumerable:!0,get:r(function(){return mm.AbstractMessageWriter},"get")});Object.defineProperty(N,"WriteableStreamMessageWriter",{enumerable:!0,get:r(function(){return mm.WriteableStreamMessageWriter},"get")});var r0=Dy();Object.defineProperty(N,"AbstractMessageBuffer",{enumerable:!0,get:r(function(){return r0.AbstractMessageBuffer},"get")});var wt=Wy();Object.defineProperty(N,"ConnectionStrategy",{enumerable:!0,get:r(function(){return wt.ConnectionStrategy},"get")});Object.defineProperty(N,"ConnectionOptions",{enumerable:!0,get:r(function(){return wt.ConnectionOptions},"get")});Object.defineProperty(N,"NullLogger",{enumerable:!0,get:r(function(){return wt.NullLogger},"get")});Object.defineProperty(N,"createMessageConnection",{enumerable:!0,get:r(function(){return wt.createMessageConnection},"get")});Object.defineProperty(N,"ProgressToken",{enumerable:!0,get:r(function(){return wt.ProgressToken},"get")});Object.defineProperty(N,"ProgressType",{enumerable:!0,get:r(function(){return wt.ProgressType},"get")});Object.defineProperty(N,"Trace",{enumerable:!0,get:r(function(){return wt.Trace},"get")});Object.defineProperty(N,"TraceValues",{enumerable:!0,get:r(function(){return wt.TraceValues},"get")});Object.defineProperty(N,"TraceFormat",{enumerable:!0,get:r(function(){return wt.TraceFormat},"get")});Object.defineProperty(N,"SetTraceNotification",{enumerable:!0,get:r(function(){return wt.SetTraceNotification},"get")});Object.defineProperty(N,"LogTraceNotification",{enumerable:!0,get:r(function(){return wt.LogTraceNotification},"get")});Object.defineProperty(N,"ConnectionErrors",{enumerable:!0,get:r(function(){return wt.ConnectionErrors},"get")});Object.defineProperty(N,"ConnectionError",{enumerable:!0,get:r(function(){return wt.ConnectionError},"get")});Object.defineProperty(N,"CancellationReceiverStrategy",{enumerable:!0,get:r(function(){return wt.CancellationReceiverStrategy},"get")});Object.defineProperty(N,"CancellationSenderStrategy",{enumerable:!0,get:r(function(){return wt.CancellationSenderStrategy},"get")});Object.defineProperty(N,"CancellationStrategy",{enumerable:!0,get:r(function(){return wt.CancellationStrategy},"get")});Object.defineProperty(N,"MessageStrategy",{enumerable:!0,get:r(function(){return wt.MessageStrategy},"get")});var o0=_r();N.RAL=o0.default});var Hy=X(_m=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0});var Gy=require("util"),Yn=Xa(),eu=class eu extends Yn.AbstractMessageBuffer{constructor(t="utf-8"){super(t)}emptyBuffer(){return eu.emptyBuffer}fromString(t,n){return Buffer.from(t,n)}toString(t,n){return t instanceof Buffer?t.toString(n):new Gy.TextDecoder(n).decode(t)}asNative(t,n){return n===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,n):Buffer.from(t,0,n)}allocNative(t){return Buffer.allocUnsafe(t)}};r(eu,"MessageBuffer");var Ya=eu;Ya.emptyBuffer=Buffer.allocUnsafe(0);var ym=class ym{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),Yn.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),Yn.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),Yn.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),Yn.Disposable.create(()=>this.stream.off("data",t))}};r(ym,"ReadableStreamWrapper");var pm=ym,bm=class bm{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),Yn.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),Yn.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),Yn.Disposable.create(()=>this.stream.off("end",t))}write(t,n){return new Promise((o,i)=>{let u=r(s=>{s==null?o():i(s)},"callback");typeof t=="string"?this.stream.write(t,n,u):this.stream.write(t,u)})}end(){this.stream.end()}};r(bm,"WritableStreamWrapper");var gm=bm,Ky=Object.freeze({messageBuffer:Object.freeze({create:r(e=>new Ya(e),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:r((e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(n){return Promise.reject(n)}},"encode")}),decoder:Object.freeze({name:"application/json",decode:r((e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new Gy.TextDecoder(t.charset).decode(e)))}catch(n){return Promise.reject(n)}},"decode")})}),stream:Object.freeze({asReadableStream:r(e=>new pm(e),"asReadableStream"),asWritableStream:r(e=>new gm(e),"asWritableStream")}),console,timer:Object.freeze({setTimeout(e,t,...n){let o=setTimeout(e,t,...n);return{dispose:r(()=>clearTimeout(o),"dispose")}},setImmediate(e,...t){let n=setImmediate(e,...t);return{dispose:r(()=>clearImmediate(n),"dispose")}},setInterval(e,t,...n){let o=setInterval(e,t,...n);return{dispose:r(()=>clearInterval(o),"dispose")}}})});function hm(){return Ky}r(hm,"RIL");(function(e){function t(){Yn.RAL.install(Ky)}r(t,"install"),e.install=t})(hm||(hm={}));_m.default=hm});var Xr=X(ge=>{"use strict";var i0=ge&&ge.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:r(function(){return t[n]},"get")}),Object.defineProperty(e,o,i)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),s0=ge&&ge.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&i0(t,e,n)};Object.defineProperty(ge,"__esModule",{value:!0});ge.createMessageConnection=ge.createServerSocketTransport=ge.createClientSocketTransport=ge.createServerPipeTransport=ge.createClientPipeTransport=ge.generateRandomPipeName=ge.StreamMessageWriter=ge.StreamMessageReader=ge.SocketMessageWriter=ge.SocketMessageReader=ge.PortMessageWriter=ge.PortMessageReader=ge.IPCMessageWriter=ge.IPCMessageReader=void 0;var Ho=Hy();Ho.default.install();var Zy=require("path"),a0=require("os"),u0=require("crypto"),ru=require("net"),Ht=Xa();s0(Xa(),ge);var Sm=class Sm extends Ht.AbstractMessageReader{constructor(t){super(),this.process=t;let n=this.process;n.on("error",o=>this.fireError(o)),n.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),Ht.Disposable.create(()=>this.process.off("message",t))}};r(Sm,"IPCMessageReader");var wm=Sm;ge.IPCMessageReader=wm;var Tm=class Tm extends Ht.AbstractMessageWriter{constructor(t){super(),this.process=t,this.errorCount=0;let n=this.process;n.on("error",o=>this.fireError(o)),n.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,t)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,t),Promise.reject(n)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){}};r(Tm,"IPCMessageWriter");var vm=Tm;ge.IPCMessageWriter=vm;var Em=class Em extends Ht.AbstractMessageReader{constructor(t){super(),this.onData=new Ht.Emitter,t.on("close",()=>this.fireClose),t.on("error",n=>this.fireError(n)),t.on("message",n=>{this.onData.fire(n)})}listen(t){return this.onData.event(t)}};r(Em,"PortMessageReader");var Im=Em;ge.PortMessageReader=Im;var Rm=class Rm extends Ht.AbstractMessageWriter{constructor(t){super(),this.port=t,this.errorCount=0,t.on("close",()=>this.fireClose()),t.on("error",n=>this.fireError(n))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(n){return this.handleError(n,t),Promise.reject(n)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){}};r(Rm,"PortMessageWriter");var xm=Rm;ge.PortMessageWriter=xm;var Pm=class Pm extends Ht.ReadableStreamMessageReader{constructor(t,n="utf-8"){super((0,Ho.default)().stream.asReadableStream(t),n)}};r(Pm,"SocketMessageReader");var Qr=Pm;ge.SocketMessageReader=Qr;var km=class km extends Ht.WriteableStreamMessageWriter{constructor(t,n){super((0,Ho.default)().stream.asWritableStream(t),n),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};r(km,"SocketMessageWriter");var Jr=km;ge.SocketMessageWriter=Jr;var Mm=class Mm extends Ht.ReadableStreamMessageReader{constructor(t,n){super((0,Ho.default)().stream.asReadableStream(t),n)}};r(Mm,"StreamMessageReader");var tu=Mm;ge.StreamMessageReader=tu;var Nm=class Nm extends Ht.WriteableStreamMessageWriter{constructor(t,n){super((0,Ho.default)().stream.asWritableStream(t),n)}};r(Nm,"StreamMessageWriter");var nu=Nm;ge.StreamMessageWriter=nu;var Qy=process.env.XDG_RUNTIME_DIR,c0=new Map([["linux",107],["darwin",103]]);function l0(){let e=(0,u0.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;Qy?t=Zy.join(Qy,`vscode-ipc-${e}.sock`):t=Zy.join(a0.tmpdir(),`vscode-${e}.sock`);let n=c0.get(process.platform);return n!==void 0&&t.length>n&&(0,Ho.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${n} characters.`),t}r(l0,"generateRandomPipeName");ge.generateRandomPipeName=l0;function d0(e,t="utf-8"){let n,o=new Promise((i,u)=>{n=i});return new Promise((i,u)=>{let s=(0,ru.createServer)(a=>{s.close(),n([new Qr(a,t),new Jr(a,t)])});s.on("error",u),s.listen(e,()=>{s.removeListener("error",u),i({onConnected:r(()=>o,"onConnected")})})})}r(d0,"createClientPipeTransport");ge.createClientPipeTransport=d0;function f0(e,t="utf-8"){let n=(0,ru.createConnection)(e);return[new Qr(n,t),new Jr(n,t)]}r(f0,"createServerPipeTransport");ge.createServerPipeTransport=f0;function m0(e,t="utf-8"){let n,o=new Promise((i,u)=>{n=i});return new Promise((i,u)=>{let s=(0,ru.createServer)(a=>{s.close(),n([new Qr(a,t),new Jr(a,t)])});s.on("error",u),s.listen(e,"127.0.0.1",()=>{s.removeListener("error",u),i({onConnected:r(()=>o,"onConnected")})})})}r(m0,"createClientSocketTransport");ge.createClientSocketTransport=m0;function p0(e,t="utf-8"){let n=(0,ru.createConnection)(e,"127.0.0.1");return[new Qr(n,t),new Jr(n,t)]}r(p0,"createServerSocketTransport");ge.createServerSocketTransport=p0;function g0(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}r(g0,"isReadableStream");function h0(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}r(h0,"isWritableStream");function _0(e,t,n,o){n||(n=Ht.NullLogger);let i=g0(e)?new tu(e):e,u=h0(t)?new nu(t):t;return Ht.ConnectionStrategy.is(o)&&(o={connectionStrategy:o}),(0,Ht.createMessageConnection)(i,u,n,o)}r(_0,"createMessageConnection");ge.createMessageConnection=_0});var Cm=X((_G,Jy)=>{"use strict";Jy.exports=Xr()});var iu=X((Xy,ou)=>{(function(e){if(typeof ou=="object"&&typeof ou.exports=="object"){var t=e(require,Xy);t!==void 0&&(ou.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlineCompletionContext=t.SelectedCompletionInfo=t.InlineCompletionTriggerKind=t.InlineCompletionList=t.InlineCompletionItem=t.StringValue=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0;var n;(function(f){function b(w){return typeof w=="string"}r(b,"is"),f.is=b})(n||(t.DocumentUri=n={}));var o;(function(f){function b(w){return typeof w=="string"}r(b,"is"),f.is=b})(o||(t.URI=o={}));var i;(function(f){f.MIN_VALUE=-2147483648,f.MAX_VALUE=2147483647;function b(w){return typeof w=="number"&&f.MIN_VALUE<=w&&w<=f.MAX_VALUE}r(b,"is"),f.is=b})(i||(t.integer=i={}));var u;(function(f){f.MIN_VALUE=0,f.MAX_VALUE=2147483647;function b(w){return typeof w=="number"&&f.MIN_VALUE<=w&&w<=f.MAX_VALUE}r(b,"is"),f.is=b})(u||(t.uinteger=u={}));var s;(function(f){function b(p,d){return p===Number.MAX_VALUE&&(p=u.MAX_VALUE),d===Number.MAX_VALUE&&(d=u.MAX_VALUE),{line:p,character:d}}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&S.uinteger(d.line)&&S.uinteger(d.character)}r(w,"is"),f.is=w})(s||(t.Position=s={}));var a;(function(f){function b(p,d,x,A){if(S.uinteger(p)&&S.uinteger(d)&&S.uinteger(x)&&S.uinteger(A))return{start:s.create(p,d),end:s.create(x,A)};if(s.is(p)&&s.is(d))return{start:p,end:d};throw new Error("Range#create called with invalid arguments[".concat(p,", ").concat(d,", ").concat(x,", ").concat(A,"]"))}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&s.is(d.start)&&s.is(d.end)}r(w,"is"),f.is=w})(a||(t.Range=a={}));var c;(function(f){function b(p,d){return{uri:p,range:d}}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&a.is(d.range)&&(S.string(d.uri)||S.undefined(d.uri))}r(w,"is"),f.is=w})(c||(t.Location=c={}));var l;(function(f){function b(p,d,x,A){return{targetUri:p,targetRange:d,targetSelectionRange:x,originSelectionRange:A}}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&a.is(d.targetRange)&&S.string(d.targetUri)&&a.is(d.targetSelectionRange)&&(a.is(d.originSelectionRange)||S.undefined(d.originSelectionRange))}r(w,"is"),f.is=w})(l||(t.LocationLink=l={}));var m;(function(f){function b(p,d,x,A){return{red:p,green:d,blue:x,alpha:A}}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&S.numberRange(d.red,0,1)&&S.numberRange(d.green,0,1)&&S.numberRange(d.blue,0,1)&&S.numberRange(d.alpha,0,1)}r(w,"is"),f.is=w})(m||(t.Color=m={}));var g;(function(f){function b(p,d){return{range:p,color:d}}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&a.is(d.range)&&m.is(d.color)}r(w,"is"),f.is=w})(g||(t.ColorInformation=g={}));var _;(function(f){function b(p,d,x){return{label:p,textEdit:d,additionalTextEdits:x}}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&S.string(d.label)&&(S.undefined(d.textEdit)||z.is(d))&&(S.undefined(d.additionalTextEdits)||S.typedArray(d.additionalTextEdits,z.is))}r(w,"is"),f.is=w})(_||(t.ColorPresentation=_={}));var v;(function(f){f.Comment="comment",f.Imports="imports",f.Region="region"})(v||(t.FoldingRangeKind=v={}));var T;(function(f){function b(p,d,x,A,ue,Qe){var Oe={startLine:p,endLine:d};return S.defined(x)&&(Oe.startCharacter=x),S.defined(A)&&(Oe.endCharacter=A),S.defined(ue)&&(Oe.kind=ue),S.defined(Qe)&&(Oe.collapsedText=Qe),Oe}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&S.uinteger(d.startLine)&&S.uinteger(d.startLine)&&(S.undefined(d.startCharacter)||S.uinteger(d.startCharacter))&&(S.undefined(d.endCharacter)||S.uinteger(d.endCharacter))&&(S.undefined(d.kind)||S.string(d.kind))}r(w,"is"),f.is=w})(T||(t.FoldingRange=T={}));var P;(function(f){function b(p,d){return{location:p,message:d}}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&c.is(d.location)&&S.string(d.message)}r(w,"is"),f.is=w})(P||(t.DiagnosticRelatedInformation=P={}));var j;(function(f){f.Error=1,f.Warning=2,f.Information=3,f.Hint=4})(j||(t.DiagnosticSeverity=j={}));var L;(function(f){f.Unnecessary=1,f.Deprecated=2})(L||(t.DiagnosticTag=L={}));var Q;(function(f){function b(w){var p=w;return S.objectLiteral(p)&&S.string(p.href)}r(b,"is"),f.is=b})(Q||(t.CodeDescription=Q={}));var $;(function(f){function b(p,d,x,A,ue,Qe){var Oe={range:p,message:d};return S.defined(x)&&(Oe.severity=x),S.defined(A)&&(Oe.code=A),S.defined(ue)&&(Oe.source=ue),S.defined(Qe)&&(Oe.relatedInformation=Qe),Oe}r(b,"create"),f.create=b;function w(p){var d,x=p;return S.defined(x)&&a.is(x.range)&&S.string(x.message)&&(S.number(x.severity)||S.undefined(x.severity))&&(S.integer(x.code)||S.string(x.code)||S.undefined(x.code))&&(S.undefined(x.codeDescription)||S.string((d=x.codeDescription)===null||d===void 0?void 0:d.href))&&(S.string(x.source)||S.undefined(x.source))&&(S.undefined(x.relatedInformation)||S.typedArray(x.relatedInformation,P.is))}r(w,"is"),f.is=w})($||(t.Diagnostic=$={}));var Y;(function(f){function b(p,d){for(var x=[],A=2;A<arguments.length;A++)x[A-2]=arguments[A];var ue={title:p,command:d};return S.defined(x)&&x.length>0&&(ue.arguments=x),ue}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&S.string(d.title)&&S.string(d.command)}r(w,"is"),f.is=w})(Y||(t.Command=Y={}));var z;(function(f){function b(x,A){return{range:x,newText:A}}r(b,"replace"),f.replace=b;function w(x,A){return{range:{start:x,end:x},newText:A}}r(w,"insert"),f.insert=w;function p(x){return{range:x,newText:""}}r(p,"del"),f.del=p;function d(x){var A=x;return S.objectLiteral(A)&&S.string(A.newText)&&a.is(A.range)}r(d,"is"),f.is=d})(z||(t.TextEdit=z={}));var re;(function(f){function b(p,d,x){var A={label:p};return d!==void 0&&(A.needsConfirmation=d),x!==void 0&&(A.description=x),A}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&S.string(d.label)&&(S.boolean(d.needsConfirmation)||d.needsConfirmation===void 0)&&(S.string(d.description)||d.description===void 0)}r(w,"is"),f.is=w})(re||(t.ChangeAnnotation=re={}));var ne;(function(f){function b(w){var p=w;return S.string(p)}r(b,"is"),f.is=b})(ne||(t.ChangeAnnotationIdentifier=ne={}));var U;(function(f){function b(x,A,ue){return{range:x,newText:A,annotationId:ue}}r(b,"replace"),f.replace=b;function w(x,A,ue){return{range:{start:x,end:x},newText:A,annotationId:ue}}r(w,"insert"),f.insert=w;function p(x,A){return{range:x,newText:"",annotationId:A}}r(p,"del"),f.del=p;function d(x){var A=x;return z.is(A)&&(re.is(A.annotationId)||ne.is(A.annotationId))}r(d,"is"),f.is=d})(U||(t.AnnotatedTextEdit=U={}));var ie;(function(f){function b(p,d){return{textDocument:p,edits:d}}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&D.is(d.textDocument)&&Array.isArray(d.edits)}r(w,"is"),f.is=w})(ie||(t.TextDocumentEdit=ie={}));var nt;(function(f){function b(p,d,x){var A={kind:"create",uri:p};return d!==void 0&&(d.overwrite!==void 0||d.ignoreIfExists!==void 0)&&(A.options=d),x!==void 0&&(A.annotationId=x),A}r(b,"create"),f.create=b;function w(p){var d=p;return d&&d.kind==="create"&&S.string(d.uri)&&(d.options===void 0||(d.options.overwrite===void 0||S.boolean(d.options.overwrite))&&(d.options.ignoreIfExists===void 0||S.boolean(d.options.ignoreIfExists)))&&(d.annotationId===void 0||ne.is(d.annotationId))}r(w,"is"),f.is=w})(nt||(t.CreateFile=nt={}));var lt;(function(f){function b(p,d,x,A){var ue={kind:"rename",oldUri:p,newUri:d};return x!==void 0&&(x.overwrite!==void 0||x.ignoreIfExists!==void 0)&&(ue.options=x),A!==void 0&&(ue.annotationId=A),ue}r(b,"create"),f.create=b;function w(p){var d=p;return d&&d.kind==="rename"&&S.string(d.oldUri)&&S.string(d.newUri)&&(d.options===void 0||(d.options.overwrite===void 0||S.boolean(d.options.overwrite))&&(d.options.ignoreIfExists===void 0||S.boolean(d.options.ignoreIfExists)))&&(d.annotationId===void 0||ne.is(d.annotationId))}r(w,"is"),f.is=w})(lt||(t.RenameFile=lt={}));var Be;(function(f){function b(p,d,x){var A={kind:"delete",uri:p};return d!==void 0&&(d.recursive!==void 0||d.ignoreIfNotExists!==void 0)&&(A.options=d),x!==void 0&&(A.annotationId=x),A}r(b,"create"),f.create=b;function w(p){var d=p;return d&&d.kind==="delete"&&S.string(d.uri)&&(d.options===void 0||(d.options.recursive===void 0||S.boolean(d.options.recursive))&&(d.options.ignoreIfNotExists===void 0||S.boolean(d.options.ignoreIfNotExists)))&&(d.annotationId===void 0||ne.is(d.annotationId))}r(w,"is"),f.is=w})(Be||(t.DeleteFile=Be={}));var W;(function(f){function b(w){var p=w;return p&&(p.changes!==void 0||p.documentChanges!==void 0)&&(p.documentChanges===void 0||p.documentChanges.every(function(d){return S.string(d.kind)?nt.is(d)||lt.is(d)||Be.is(d):ie.is(d)}))}r(b,"is"),f.is=b})(W||(t.WorkspaceEdit=W={}));var M=function(){function f(b,w){this.edits=b,this.changeAnnotations=w}return r(f,"TextEditChangeImpl"),f.prototype.insert=function(b,w,p){var d,x;if(p===void 0?d=z.insert(b,w):ne.is(p)?(x=p,d=U.insert(b,w,p)):(this.assertChangeAnnotations(this.changeAnnotations),x=this.changeAnnotations.manage(p),d=U.insert(b,w,x)),this.edits.push(d),x!==void 0)return x},f.prototype.replace=function(b,w,p){var d,x;if(p===void 0?d=z.replace(b,w):ne.is(p)?(x=p,d=U.replace(b,w,p)):(this.assertChangeAnnotations(this.changeAnnotations),x=this.changeAnnotations.manage(p),d=U.replace(b,w,x)),this.edits.push(d),x!==void 0)return x},f.prototype.delete=function(b,w){var p,d;if(w===void 0?p=z.del(b):ne.is(w)?(d=w,p=U.del(b,w)):(this.assertChangeAnnotations(this.changeAnnotations),d=this.changeAnnotations.manage(w),p=U.del(b,d)),this.edits.push(p),d!==void 0)return d},f.prototype.add=function(b){this.edits.push(b)},f.prototype.all=function(){return this.edits},f.prototype.clear=function(){this.edits.splice(0,this.edits.length)},f.prototype.assertChangeAnnotations=function(b){if(b===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},f}(),q=function(){function f(b){this._annotations=b===void 0?Object.create(null):b,this._counter=0,this._size=0}return r(f,"ChangeAnnotations"),f.prototype.all=function(){return this._annotations},Object.defineProperty(f.prototype,"size",{get:r(function(){return this._size},"get"),enumerable:!1,configurable:!0}),f.prototype.manage=function(b,w){var p;if(ne.is(b)?p=b:(p=this.nextId(),w=b),this._annotations[p]!==void 0)throw new Error("Id ".concat(p," is already in use."));if(w===void 0)throw new Error("No annotation provided for id ".concat(p));return this._annotations[p]=w,this._size++,p},f.prototype.nextId=function(){return this._counter++,this._counter.toString()},f}(),Z=function(){function f(b){var w=this;this._textEditChanges=Object.create(null),b!==void 0?(this._workspaceEdit=b,b.documentChanges?(this._changeAnnotations=new q(b.changeAnnotations),b.changeAnnotations=this._changeAnnotations.all(),b.documentChanges.forEach(function(p){if(ie.is(p)){var d=new M(p.edits,w._changeAnnotations);w._textEditChanges[p.textDocument.uri]=d}})):b.changes&&Object.keys(b.changes).forEach(function(p){var d=new M(b.changes[p]);w._textEditChanges[p]=d})):this._workspaceEdit={}}return r(f,"WorkspaceChange"),Object.defineProperty(f.prototype,"edit",{get:r(function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},"get"),enumerable:!1,configurable:!0}),f.prototype.getTextEditChange=function(b){if(D.is(b)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var w={uri:b.uri,version:b.version},p=this._textEditChanges[w.uri];if(!p){var d=[],x={textDocument:w,edits:d};this._workspaceEdit.documentChanges.push(x),p=new M(d,this._changeAnnotations),this._textEditChanges[w.uri]=p}return p}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var p=this._textEditChanges[b];if(!p){var d=[];this._workspaceEdit.changes[b]=d,p=new M(d),this._textEditChanges[b]=p}return p}},f.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new q,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},f.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},f.prototype.createFile=function(b,w,p){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var d;re.is(w)||ne.is(w)?d=w:p=w;var x,A;if(d===void 0?x=nt.create(b,p):(A=ne.is(d)?d:this._changeAnnotations.manage(d),x=nt.create(b,p,A)),this._workspaceEdit.documentChanges.push(x),A!==void 0)return A},f.prototype.renameFile=function(b,w,p,d){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var x;re.is(p)||ne.is(p)?x=p:d=p;var A,ue;if(x===void 0?A=lt.create(b,w,d):(ue=ne.is(x)?x:this._changeAnnotations.manage(x),A=lt.create(b,w,d,ue)),this._workspaceEdit.documentChanges.push(A),ue!==void 0)return ue},f.prototype.deleteFile=function(b,w,p){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var d;re.is(w)||ne.is(w)?d=w:p=w;var x,A;if(d===void 0?x=Be.create(b,p):(A=ne.is(d)?d:this._changeAnnotations.manage(d),x=Be.create(b,p,A)),this._workspaceEdit.documentChanges.push(x),A!==void 0)return A},f}();t.WorkspaceChange=Z;var k;(function(f){function b(p){return{uri:p}}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&S.string(d.uri)}r(w,"is"),f.is=w})(k||(t.TextDocumentIdentifier=k={}));var O;(function(f){function b(p,d){return{uri:p,version:d}}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&S.string(d.uri)&&S.integer(d.version)}r(w,"is"),f.is=w})(O||(t.VersionedTextDocumentIdentifier=O={}));var D;(function(f){function b(p,d){return{uri:p,version:d}}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&S.string(d.uri)&&(d.version===null||S.integer(d.version))}r(w,"is"),f.is=w})(D||(t.OptionalVersionedTextDocumentIdentifier=D={}));var G;(function(f){function b(p,d,x,A){return{uri:p,languageId:d,version:x,text:A}}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&S.string(d.uri)&&S.string(d.languageId)&&S.integer(d.version)&&S.string(d.text)}r(w,"is"),f.is=w})(G||(t.TextDocumentItem=G={}));var J;(function(f){f.PlainText="plaintext",f.Markdown="markdown";function b(w){var p=w;return p===f.PlainText||p===f.Markdown}r(b,"is"),f.is=b})(J||(t.MarkupKind=J={}));var H;(function(f){function b(w){var p=w;return S.objectLiteral(w)&&J.is(p.kind)&&S.string(p.value)}r(b,"is"),f.is=b})(H||(t.MarkupContent=H={}));var se;(function(f){f.Text=1,f.Method=2,f.Function=3,f.Constructor=4,f.Field=5,f.Variable=6,f.Class=7,f.Interface=8,f.Module=9,f.Property=10,f.Unit=11,f.Value=12,f.Enum=13,f.Keyword=14,f.Snippet=15,f.Color=16,f.File=17,f.Reference=18,f.Folder=19,f.EnumMember=20,f.Constant=21,f.Struct=22,f.Event=23,f.Operator=24,f.TypeParameter=25})(se||(t.CompletionItemKind=se={}));var le;(function(f){f.PlainText=1,f.Snippet=2})(le||(t.InsertTextFormat=le={}));var Ze;(function(f){f.Deprecated=1})(Ze||(t.CompletionItemTag=Ze={}));var xe;(function(f){function b(p,d,x){return{newText:p,insert:d,replace:x}}r(b,"create"),f.create=b;function w(p){var d=p;return d&&S.string(d.newText)&&a.is(d.insert)&&a.is(d.replace)}r(w,"is"),f.is=w})(xe||(t.InsertReplaceEdit=xe={}));var Bt;(function(f){f.asIs=1,f.adjustIndentation=2})(Bt||(t.InsertTextMode=Bt={}));var En;(function(f){function b(w){var p=w;return p&&(S.string(p.detail)||p.detail===void 0)&&(S.string(p.description)||p.description===void 0)}r(b,"is"),f.is=b})(En||(t.CompletionItemLabelDetails=En={}));var ls;(function(f){function b(w){return{label:w}}r(b,"create"),f.create=b})(ls||(t.CompletionItem=ls={}));var ds;(function(f){function b(w,p){return{items:w||[],isIncomplete:!!p}}r(b,"create"),f.create=b})(ds||(t.CompletionList=ds={}));var to;(function(f){function b(p){return p.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}r(b,"fromPlainText"),f.fromPlainText=b;function w(p){var d=p;return S.string(d)||S.objectLiteral(d)&&S.string(d.language)&&S.string(d.value)}r(w,"is"),f.is=w})(to||(t.MarkedString=to={}));var pn;(function(f){function b(w){var p=w;return!!p&&S.objectLiteral(p)&&(H.is(p.contents)||to.is(p.contents)||S.typedArray(p.contents,to.is))&&(w.range===void 0||a.is(w.range))}r(b,"is"),f.is=b})(pn||(t.Hover=pn={}));var ms;(function(f){function b(w,p){return p?{label:w,documentation:p}:{label:w}}r(b,"create"),f.create=b})(ms||(t.ParameterInformation=ms={}));var ps;(function(f){function b(w,p){for(var d=[],x=2;x<arguments.length;x++)d[x-2]=arguments[x];var A={label:w};return S.defined(p)&&(A.documentation=p),S.defined(d)?A.parameters=d:A.parameters=[],A}r(b,"create"),f.create=b})(ps||(t.SignatureInformation=ps={}));var Tr;(function(f){f.Text=1,f.Read=2,f.Write=3})(Tr||(t.DocumentHighlightKind=Tr={}));var gs;(function(f){function b(w,p){var d={range:w};return S.number(p)&&(d.kind=p),d}r(b,"create"),f.create=b})(gs||(t.DocumentHighlight=gs={}));var no;(function(f){f.File=1,f.Module=2,f.Namespace=3,f.Package=4,f.Class=5,f.Method=6,f.Property=7,f.Field=8,f.Constructor=9,f.Enum=10,f.Interface=11,f.Function=12,f.Variable=13,f.Constant=14,f.String=15,f.Number=16,f.Boolean=17,f.Array=18,f.Object=19,f.Key=20,f.Null=21,f.EnumMember=22,f.Struct=23,f.Event=24,f.Operator=25,f.TypeParameter=26})(no||(t.SymbolKind=no={}));var hs;(function(f){f.Deprecated=1})(hs||(t.SymbolTag=hs={}));var Un;(function(f){function b(w,p,d,x,A){var ue={name:w,kind:p,location:{uri:x,range:d}};return A&&(ue.containerName=A),ue}r(b,"create"),f.create=b})(Un||(t.SymbolInformation=Un={}));var tr;(function(f){function b(w,p,d,x){return x!==void 0?{name:w,kind:p,location:{uri:d,range:x}}:{name:w,kind:p,location:{uri:d}}}r(b,"create"),f.create=b})(tr||(t.WorkspaceSymbol=tr={}));var _s;(function(f){function b(p,d,x,A,ue,Qe){var Oe={name:p,detail:d,kind:x,range:A,selectionRange:ue};return Qe!==void 0&&(Oe.children=Qe),Oe}r(b,"create"),f.create=b;function w(p){var d=p;return d&&S.string(d.name)&&S.number(d.kind)&&a.is(d.range)&&a.is(d.selectionRange)&&(d.detail===void 0||S.string(d.detail))&&(d.deprecated===void 0||S.boolean(d.deprecated))&&(d.children===void 0||Array.isArray(d.children))&&(d.tags===void 0||Array.isArray(d.tags))}r(w,"is"),f.is=w})(_s||(t.DocumentSymbol=_s={}));var ys;(function(f){f.Empty="",f.QuickFix="quickfix",f.Refactor="refactor",f.RefactorExtract="refactor.extract",f.RefactorInline="refactor.inline",f.RefactorRewrite="refactor.rewrite",f.Source="source",f.SourceOrganizeImports="source.organizeImports",f.SourceFixAll="source.fixAll"})(ys||(t.CodeActionKind=ys={}));var Rn;(function(f){f.Invoked=1,f.Automatic=2})(Rn||(t.CodeActionTriggerKind=Rn={}));var ai;(function(f){function b(p,d,x){var A={diagnostics:p};return d!=null&&(A.only=d),x!=null&&(A.triggerKind=x),A}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&S.typedArray(d.diagnostics,$.is)&&(d.only===void 0||S.typedArray(d.only,S.string))&&(d.triggerKind===void 0||d.triggerKind===Rn.Invoked||d.triggerKind===Rn.Automatic)}r(w,"is"),f.is=w})(ai||(t.CodeActionContext=ai={}));var ui;(function(f){function b(p,d,x){var A={title:p},ue=!0;return typeof d=="string"?(ue=!1,A.kind=d):Y.is(d)?A.command=d:A.edit=d,ue&&x!==void 0&&(A.kind=x),A}r(b,"create"),f.create=b;function w(p){var d=p;return d&&S.string(d.title)&&(d.diagnostics===void 0||S.typedArray(d.diagnostics,$.is))&&(d.kind===void 0||S.string(d.kind))&&(d.edit!==void 0||d.command!==void 0)&&(d.command===void 0||Y.is(d.command))&&(d.isPreferred===void 0||S.boolean(d.isPreferred))&&(d.edit===void 0||W.is(d.edit))}r(w,"is"),f.is=w})(ui||(t.CodeAction=ui={}));var ro;(function(f){function b(p,d){var x={range:p};return S.defined(d)&&(x.data=d),x}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&a.is(d.range)&&(S.undefined(d.command)||Y.is(d.command))}r(w,"is"),f.is=w})(ro||(t.CodeLens=ro={}));var ci;(function(f){function b(p,d){return{tabSize:p,insertSpaces:d}}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&S.uinteger(d.tabSize)&&S.boolean(d.insertSpaces)}r(w,"is"),f.is=w})(ci||(t.FormattingOptions=ci={}));var qn;(function(f){function b(p,d,x){return{range:p,target:d,data:x}}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&a.is(d.range)&&(S.undefined(d.target)||S.string(d.target))}r(w,"is"),f.is=w})(qn||(t.DocumentLink=qn={}));var y;(function(f){function b(p,d){return{range:p,parent:d}}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&a.is(d.range)&&(d.parent===void 0||f.is(d.parent))}r(w,"is"),f.is=w})(y||(t.SelectionRange=y={}));var F;(function(f){f.namespace="namespace",f.type="type",f.class="class",f.enum="enum",f.interface="interface",f.struct="struct",f.typeParameter="typeParameter",f.parameter="parameter",f.variable="variable",f.property="property",f.enumMember="enumMember",f.event="event",f.function="function",f.method="method",f.macro="macro",f.keyword="keyword",f.modifier="modifier",f.comment="comment",f.string="string",f.number="number",f.regexp="regexp",f.operator="operator",f.decorator="decorator"})(F||(t.SemanticTokenTypes=F={}));var K;(function(f){f.declaration="declaration",f.definition="definition",f.readonly="readonly",f.static="static",f.deprecated="deprecated",f.abstract="abstract",f.async="async",f.modification="modification",f.documentation="documentation",f.defaultLibrary="defaultLibrary"})(K||(t.SemanticTokenModifiers=K={}));var ee;(function(f){function b(w){var p=w;return S.objectLiteral(p)&&(p.resultId===void 0||typeof p.resultId=="string")&&Array.isArray(p.data)&&(p.data.length===0||typeof p.data[0]=="number")}r(b,"is"),f.is=b})(ee||(t.SemanticTokens=ee={}));var Me;(function(f){function b(p,d){return{range:p,text:d}}r(b,"create"),f.create=b;function w(p){var d=p;return d!=null&&a.is(d.range)&&S.string(d.text)}r(w,"is"),f.is=w})(Me||(t.InlineValueText=Me={}));var Se;(function(f){function b(p,d,x){return{range:p,variableName:d,caseSensitiveLookup:x}}r(b,"create"),f.create=b;function w(p){var d=p;return d!=null&&a.is(d.range)&&S.boolean(d.caseSensitiveLookup)&&(S.string(d.variableName)||d.variableName===void 0)}r(w,"is"),f.is=w})(Se||(t.InlineValueVariableLookup=Se={}));var Te;(function(f){function b(p,d){return{range:p,expression:d}}r(b,"create"),f.create=b;function w(p){var d=p;return d!=null&&a.is(d.range)&&(S.string(d.expression)||d.expression===void 0)}r(w,"is"),f.is=w})(Te||(t.InlineValueEvaluatableExpression=Te={}));var We;(function(f){function b(p,d){return{frameId:p,stoppedLocation:d}}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&a.is(p.stoppedLocation)}r(w,"is"),f.is=w})(We||(t.InlineValueContext=We={}));var Xe;(function(f){f.Type=1,f.Parameter=2;function b(w){return w===1||w===2}r(b,"is"),f.is=b})(Xe||(t.InlayHintKind=Xe={}));var _e;(function(f){function b(p){return{value:p}}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&(d.tooltip===void 0||S.string(d.tooltip)||H.is(d.tooltip))&&(d.location===void 0||c.is(d.location))&&(d.command===void 0||Y.is(d.command))}r(w,"is"),f.is=w})(_e||(t.InlayHintLabelPart=_e={}));var $e;(function(f){function b(p,d,x){var A={position:p,label:d};return x!==void 0&&(A.kind=x),A}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&s.is(d.position)&&(S.string(d.label)||S.typedArray(d.label,_e.is))&&(d.kind===void 0||Xe.is(d.kind))&&d.textEdits===void 0||S.typedArray(d.textEdits,z.is)&&(d.tooltip===void 0||S.string(d.tooltip)||H.is(d.tooltip))&&(d.paddingLeft===void 0||S.boolean(d.paddingLeft))&&(d.paddingRight===void 0||S.boolean(d.paddingRight))}r(w,"is"),f.is=w})($e||(t.InlayHint=$e={}));var Ee;(function(f){function b(w){return{kind:"snippet",value:w}}r(b,"createSnippet"),f.createSnippet=b})(Ee||(t.StringValue=Ee={}));var Ve;(function(f){function b(w,p,d,x){return{insertText:w,filterText:p,range:d,command:x}}r(b,"create"),f.create=b})(Ve||(t.InlineCompletionItem=Ve={}));var Ye;(function(f){function b(w){return{items:w}}r(b,"create"),f.create=b})(Ye||(t.InlineCompletionList=Ye={}));var bs;(function(f){f.Invoked=0,f.Automatic=1})(bs||(t.InlineCompletionTriggerKind=bs={}));var np;(function(f){function b(w,p){return{range:w,text:p}}r(b,"create"),f.create=b})(np||(t.SelectedCompletionInfo=np={}));var rp;(function(f){function b(w,p){return{triggerKind:w,selectedCompletionInfo:p}}r(b,"create"),f.create=b})(rp||(t.InlineCompletionContext=rp={}));var op;(function(f){function b(w){var p=w;return S.objectLiteral(p)&&o.is(p.uri)&&S.string(p.name)}r(b,"is"),f.is=b})(op||(t.WorkspaceFolder=op={})),t.EOL=[`
`,`\r
`,"\r"];var ip;(function(f){function b(x,A,ue,Qe){return new Yv(x,A,ue,Qe)}r(b,"create"),f.create=b;function w(x){var A=x;return!!(S.defined(A)&&S.string(A.uri)&&(S.undefined(A.languageId)||S.string(A.languageId))&&S.uinteger(A.lineCount)&&S.func(A.getText)&&S.func(A.positionAt)&&S.func(A.offsetAt))}r(w,"is"),f.is=w;function p(x,A){for(var ue=x.getText(),Qe=d(A,function(oo,ws){var sp=oo.range.start.line-ws.range.start.line;return sp===0?oo.range.start.character-ws.range.start.character:sp}),Oe=ue.length,gn=Qe.length-1;gn>=0;gn--){var hn=Qe[gn],Bn=x.offsetAt(hn.range.start),me=x.offsetAt(hn.range.end);if(me<=Oe)ue=ue.substring(0,Bn)+hn.newText+ue.substring(me,ue.length);else throw new Error("Overlapping edit");Oe=Bn}return ue}r(p,"applyEdits"),f.applyEdits=p;function d(x,A){if(x.length<=1)return x;var ue=x.length/2|0,Qe=x.slice(0,ue),Oe=x.slice(ue);d(Qe,A),d(Oe,A);for(var gn=0,hn=0,Bn=0;gn<Qe.length&&hn<Oe.length;){var me=A(Qe[gn],Oe[hn]);me<=0?x[Bn++]=Qe[gn++]:x[Bn++]=Oe[hn++]}for(;gn<Qe.length;)x[Bn++]=Qe[gn++];for(;hn<Oe.length;)x[Bn++]=Oe[hn++];return x}r(d,"mergeSort")})(ip||(t.TextDocument=ip={}));var Yv=function(){function f(b,w,p,d){this._uri=b,this._languageId=w,this._version=p,this._content=d,this._lineOffsets=void 0}return r(f,"FullTextDocument"),Object.defineProperty(f.prototype,"uri",{get:r(function(){return this._uri},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"languageId",{get:r(function(){return this._languageId},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"version",{get:r(function(){return this._version},"get"),enumerable:!1,configurable:!0}),f.prototype.getText=function(b){if(b){var w=this.offsetAt(b.start),p=this.offsetAt(b.end);return this._content.substring(w,p)}return this._content},f.prototype.update=function(b,w){this._content=b.text,this._version=w,this._lineOffsets=void 0},f.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var b=[],w=this._content,p=!0,d=0;d<w.length;d++){p&&(b.push(d),p=!1);var x=w.charAt(d);p=x==="\r"||x===`
`,x==="\r"&&d+1<w.length&&w.charAt(d+1)===`
`&&d++}p&&w.length>0&&b.push(w.length),this._lineOffsets=b}return this._lineOffsets},f.prototype.positionAt=function(b){b=Math.max(Math.min(b,this._content.length),0);var w=this.getLineOffsets(),p=0,d=w.length;if(d===0)return s.create(0,b);for(;p<d;){var x=Math.floor((p+d)/2);w[x]>b?d=x:p=x+1}var A=p-1;return s.create(A,b-w[A])},f.prototype.offsetAt=function(b){var w=this.getLineOffsets();if(b.line>=w.length)return this._content.length;if(b.line<0)return 0;var p=w[b.line],d=b.line+1<w.length?w[b.line+1]:this._content.length;return Math.max(Math.min(p+b.character,d),p)},Object.defineProperty(f.prototype,"lineCount",{get:r(function(){return this.getLineOffsets().length},"get"),enumerable:!1,configurable:!0}),f}(),S;(function(f){var b=Object.prototype.toString;function w(me){return typeof me<"u"}r(w,"defined"),f.defined=w;function p(me){return typeof me>"u"}r(p,"undefined"),f.undefined=p;function d(me){return me===!0||me===!1}r(d,"boolean"),f.boolean=d;function x(me){return b.call(me)==="[object String]"}r(x,"string"),f.string=x;function A(me){return b.call(me)==="[object Number]"}r(A,"number"),f.number=A;function ue(me,oo,ws){return b.call(me)==="[object Number]"&&oo<=me&&me<=ws}r(ue,"numberRange"),f.numberRange=ue;function Qe(me){return b.call(me)==="[object Number]"&&-2147483648<=me&&me<=2147483647}r(Qe,"integer"),f.integer=Qe;function Oe(me){return b.call(me)==="[object Number]"&&0<=me&&me<=2147483647}r(Oe,"uinteger"),f.uinteger=Oe;function gn(me){return b.call(me)==="[object Function]"}r(gn,"func"),f.func=gn;function hn(me){return me!==null&&typeof me=="object"}r(hn,"objectLiteral"),f.objectLiteral=hn;function Bn(me,oo){return Array.isArray(me)&&me.every(oo)}r(Bn,"typedArray"),f.typedArray=Bn})(S||(S={}))})});var ze=X(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.ProtocolNotificationType=jt.ProtocolNotificationType0=jt.ProtocolRequestType=jt.ProtocolRequestType0=jt.RegistrationType=jt.MessageDirection=void 0;var Zo=Xr(),Yy;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(Yy||(jt.MessageDirection=Yy={}));var jm=class jm{constructor(t){this.method=t}};r(jm,"RegistrationType");var Lm=jm;jt.RegistrationType=Lm;var Um=class Um extends Zo.RequestType0{constructor(t){super(t)}};r(Um,"ProtocolRequestType0");var Om=Um;jt.ProtocolRequestType0=Om;var qm=class qm extends Zo.RequestType{constructor(t){super(t,Zo.ParameterStructures.byName)}};r(qm,"ProtocolRequestType");var Fm=qm;jt.ProtocolRequestType=Fm;var Bm=class Bm extends Zo.NotificationType0{constructor(t){super(t)}};r(Bm,"ProtocolNotificationType0");var Am=Bm;jt.ProtocolNotificationType0=Am;var Wm=class Wm extends Zo.NotificationType{constructor(t){super(t,Zo.ParameterStructures.byName)}};r(Wm,"ProtocolNotificationType");var Dm=Wm;jt.ProtocolNotificationType=Dm});var su=X(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.objectLiteral=ct.typedArray=ct.stringArray=ct.array=ct.func=ct.error=ct.number=ct.string=ct.boolean=void 0;function y0(e){return e===!0||e===!1}r(y0,"boolean");ct.boolean=y0;function eb(e){return typeof e=="string"||e instanceof String}r(eb,"string");ct.string=eb;function b0(e){return typeof e=="number"||e instanceof Number}r(b0,"number");ct.number=b0;function w0(e){return e instanceof Error}r(w0,"error");ct.error=w0;function v0(e){return typeof e=="function"}r(v0,"func");ct.func=v0;function tb(e){return Array.isArray(e)}r(tb,"array");ct.array=tb;function I0(e){return tb(e)&&e.every(t=>eb(t))}r(I0,"stringArray");ct.stringArray=I0;function x0(e,t){return Array.isArray(e)&&e.every(t)}r(x0,"typedArray");ct.typedArray=x0;function S0(e){return e!==null&&typeof e=="object"}r(S0,"objectLiteral");ct.objectLiteral=S0});var ob=X(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.ImplementationRequest=void 0;var nb=ze(),rb;(function(e){e.method="textDocument/implementation",e.messageDirection=nb.MessageDirection.clientToServer,e.type=new nb.ProtocolRequestType(e.method)})(rb||(au.ImplementationRequest=rb={}))});var ab=X(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.TypeDefinitionRequest=void 0;var ib=ze(),sb;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=ib.MessageDirection.clientToServer,e.type=new ib.ProtocolRequestType(e.method)})(sb||(uu.TypeDefinitionRequest=sb={}))});var lb=X(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.DidChangeWorkspaceFoldersNotification=Qo.WorkspaceFoldersRequest=void 0;var cu=ze(),ub;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=cu.MessageDirection.serverToClient,e.type=new cu.ProtocolRequestType0(e.method)})(ub||(Qo.WorkspaceFoldersRequest=ub={}));var cb;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=cu.MessageDirection.clientToServer,e.type=new cu.ProtocolNotificationType(e.method)})(cb||(Qo.DidChangeWorkspaceFoldersNotification=cb={}))});var mb=X(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.ConfigurationRequest=void 0;var db=ze(),fb;(function(e){e.method="workspace/configuration",e.messageDirection=db.MessageDirection.serverToClient,e.type=new db.ProtocolRequestType(e.method)})(fb||(lu.ConfigurationRequest=fb={}))});var hb=X(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.ColorPresentationRequest=Jo.DocumentColorRequest=void 0;var du=ze(),pb;(function(e){e.method="textDocument/documentColor",e.messageDirection=du.MessageDirection.clientToServer,e.type=new du.ProtocolRequestType(e.method)})(pb||(Jo.DocumentColorRequest=pb={}));var gb;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=du.MessageDirection.clientToServer,e.type=new du.ProtocolRequestType(e.method)})(gb||(Jo.ColorPresentationRequest=gb={}))});var bb=X(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.FoldingRangeRefreshRequest=Xo.FoldingRangeRequest=void 0;var fu=ze(),_b;(function(e){e.method="textDocument/foldingRange",e.messageDirection=fu.MessageDirection.clientToServer,e.type=new fu.ProtocolRequestType(e.method)})(_b||(Xo.FoldingRangeRequest=_b={}));var yb;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=fu.MessageDirection.serverToClient,e.type=new fu.ProtocolRequestType0(e.method)})(yb||(Xo.FoldingRangeRefreshRequest=yb={}))});var Ib=X(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.DeclarationRequest=void 0;var wb=ze(),vb;(function(e){e.method="textDocument/declaration",e.messageDirection=wb.MessageDirection.clientToServer,e.type=new wb.ProtocolRequestType(e.method)})(vb||(mu.DeclarationRequest=vb={}))});var Tb=X(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.SelectionRangeRequest=void 0;var xb=ze(),Sb;(function(e){e.method="textDocument/selectionRange",e.messageDirection=xb.MessageDirection.clientToServer,e.type=new xb.ProtocolRequestType(e.method)})(Sb||(pu.SelectionRangeRequest=Sb={}))});var kb=X(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.WorkDoneProgressCancelNotification=wr.WorkDoneProgressCreateRequest=wr.WorkDoneProgress=void 0;var T0=Xr(),gu=ze(),Eb;(function(e){e.type=new T0.ProgressType;function t(n){return n===e.type}r(t,"is"),e.is=t})(Eb||(wr.WorkDoneProgress=Eb={}));var Rb;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=gu.MessageDirection.serverToClient,e.type=new gu.ProtocolRequestType(e.method)})(Rb||(wr.WorkDoneProgressCreateRequest=Rb={}));var Pb;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=gu.MessageDirection.clientToServer,e.type=new gu.ProtocolNotificationType(e.method)})(Pb||(wr.WorkDoneProgressCancelNotification=Pb={}))});var Lb=X(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.CallHierarchyOutgoingCallsRequest=vr.CallHierarchyIncomingCallsRequest=vr.CallHierarchyPrepareRequest=void 0;var Yo=ze(),Mb;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=Yo.MessageDirection.clientToServer,e.type=new Yo.ProtocolRequestType(e.method)})(Mb||(vr.CallHierarchyPrepareRequest=Mb={}));var Nb;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=Yo.MessageDirection.clientToServer,e.type=new Yo.ProtocolRequestType(e.method)})(Nb||(vr.CallHierarchyIncomingCallsRequest=Nb={}));var Cb;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=Yo.MessageDirection.clientToServer,e.type=new Yo.ProtocolRequestType(e.method)})(Cb||(vr.CallHierarchyOutgoingCallsRequest=Cb={}))});var Ub=X(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.SemanticTokensRefreshRequest=Ut.SemanticTokensRangeRequest=Ut.SemanticTokensDeltaRequest=Ut.SemanticTokensRequest=Ut.SemanticTokensRegistrationType=Ut.TokenFormat=void 0;var er=ze(),Ob;(function(e){e.Relative="relative"})(Ob||(Ut.TokenFormat=Ob={}));var as;(function(e){e.method="textDocument/semanticTokens",e.type=new er.RegistrationType(e.method)})(as||(Ut.SemanticTokensRegistrationType=as={}));var Fb;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=er.MessageDirection.clientToServer,e.type=new er.ProtocolRequestType(e.method),e.registrationMethod=as.method})(Fb||(Ut.SemanticTokensRequest=Fb={}));var Ab;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=er.MessageDirection.clientToServer,e.type=new er.ProtocolRequestType(e.method),e.registrationMethod=as.method})(Ab||(Ut.SemanticTokensDeltaRequest=Ab={}));var Db;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=er.MessageDirection.clientToServer,e.type=new er.ProtocolRequestType(e.method),e.registrationMethod=as.method})(Db||(Ut.SemanticTokensRangeRequest=Db={}));var jb;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=er.MessageDirection.serverToClient,e.type=new er.ProtocolRequestType0(e.method)})(jb||(Ut.SemanticTokensRefreshRequest=jb={}))});var Wb=X(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.ShowDocumentRequest=void 0;var qb=ze(),Bb;(function(e){e.method="window/showDocument",e.messageDirection=qb.MessageDirection.serverToClient,e.type=new qb.ProtocolRequestType(e.method)})(Bb||(hu.ShowDocumentRequest=Bb={}))});var zb=X(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.LinkedEditingRangeRequest=void 0;var $b=ze(),Vb;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=$b.MessageDirection.clientToServer,e.type=new $b.ProtocolRequestType(e.method)})(Vb||(_u.LinkedEditingRangeRequest=Vb={}))});var Yb=X(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.WillDeleteFilesRequest=kt.DidDeleteFilesNotification=kt.DidRenameFilesNotification=kt.WillRenameFilesRequest=kt.DidCreateFilesNotification=kt.WillCreateFilesRequest=kt.FileOperationPatternKind=void 0;var dn=ze(),Gb;(function(e){e.file="file",e.folder="folder"})(Gb||(kt.FileOperationPatternKind=Gb={}));var Kb;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=dn.MessageDirection.clientToServer,e.type=new dn.ProtocolRequestType(e.method)})(Kb||(kt.WillCreateFilesRequest=Kb={}));var Hb;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=dn.MessageDirection.clientToServer,e.type=new dn.ProtocolNotificationType(e.method)})(Hb||(kt.DidCreateFilesNotification=Hb={}));var Zb;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=dn.MessageDirection.clientToServer,e.type=new dn.ProtocolRequestType(e.method)})(Zb||(kt.WillRenameFilesRequest=Zb={}));var Qb;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=dn.MessageDirection.clientToServer,e.type=new dn.ProtocolNotificationType(e.method)})(Qb||(kt.DidRenameFilesNotification=Qb={}));var Jb;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=dn.MessageDirection.clientToServer,e.type=new dn.ProtocolNotificationType(e.method)})(Jb||(kt.DidDeleteFilesNotification=Jb={}));var Xb;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=dn.MessageDirection.clientToServer,e.type=new dn.ProtocolRequestType(e.method)})(Xb||(kt.WillDeleteFilesRequest=Xb={}))});var ow=X(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.MonikerRequest=Ir.MonikerKind=Ir.UniquenessLevel=void 0;var ew=ze(),tw;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(tw||(Ir.UniquenessLevel=tw={}));var nw;(function(e){e.$import="import",e.$export="export",e.local="local"})(nw||(Ir.MonikerKind=nw={}));var rw;(function(e){e.method="textDocument/moniker",e.messageDirection=ew.MessageDirection.clientToServer,e.type=new ew.ProtocolRequestType(e.method)})(rw||(Ir.MonikerRequest=rw={}))});var uw=X(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.TypeHierarchySubtypesRequest=xr.TypeHierarchySupertypesRequest=xr.TypeHierarchyPrepareRequest=void 0;var ei=ze(),iw;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=ei.MessageDirection.clientToServer,e.type=new ei.ProtocolRequestType(e.method)})(iw||(xr.TypeHierarchyPrepareRequest=iw={}));var sw;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=ei.MessageDirection.clientToServer,e.type=new ei.ProtocolRequestType(e.method)})(sw||(xr.TypeHierarchySupertypesRequest=sw={}));var aw;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=ei.MessageDirection.clientToServer,e.type=new ei.ProtocolRequestType(e.method)})(aw||(xr.TypeHierarchySubtypesRequest=aw={}))});var dw=X(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.InlineValueRefreshRequest=ti.InlineValueRequest=void 0;var yu=ze(),cw;(function(e){e.method="textDocument/inlineValue",e.messageDirection=yu.MessageDirection.clientToServer,e.type=new yu.ProtocolRequestType(e.method)})(cw||(ti.InlineValueRequest=cw={}));var lw;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=yu.MessageDirection.serverToClient,e.type=new yu.ProtocolRequestType0(e.method)})(lw||(ti.InlineValueRefreshRequest=lw={}))});var gw=X(Sr=>{"use strict";Object.defineProperty(Sr,"__esModule",{value:!0});Sr.InlayHintRefreshRequest=Sr.InlayHintResolveRequest=Sr.InlayHintRequest=void 0;var ni=ze(),fw;(function(e){e.method="textDocument/inlayHint",e.messageDirection=ni.MessageDirection.clientToServer,e.type=new ni.ProtocolRequestType(e.method)})(fw||(Sr.InlayHintRequest=fw={}));var mw;(function(e){e.method="inlayHint/resolve",e.messageDirection=ni.MessageDirection.clientToServer,e.type=new ni.ProtocolRequestType(e.method)})(mw||(Sr.InlayHintResolveRequest=mw={}));var pw;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=ni.MessageDirection.serverToClient,e.type=new ni.ProtocolRequestType0(e.method)})(pw||(Sr.InlayHintRefreshRequest=pw={}))});var Iw=X(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.DiagnosticRefreshRequest=fn.WorkspaceDiagnosticRequest=fn.DocumentDiagnosticRequest=fn.DocumentDiagnosticReportKind=fn.DiagnosticServerCancellationData=void 0;var vw=Xr(),E0=su(),ri=ze(),hw;(function(e){function t(n){let o=n;return o&&E0.boolean(o.retriggerRequest)}r(t,"is"),e.is=t})(hw||(fn.DiagnosticServerCancellationData=hw={}));var _w;(function(e){e.Full="full",e.Unchanged="unchanged"})(_w||(fn.DocumentDiagnosticReportKind=_w={}));var yw;(function(e){e.method="textDocument/diagnostic",e.messageDirection=ri.MessageDirection.clientToServer,e.type=new ri.ProtocolRequestType(e.method),e.partialResult=new vw.ProgressType})(yw||(fn.DocumentDiagnosticRequest=yw={}));var bw;(function(e){e.method="workspace/diagnostic",e.messageDirection=ri.MessageDirection.clientToServer,e.type=new ri.ProtocolRequestType(e.method),e.partialResult=new vw.ProgressType})(bw||(fn.WorkspaceDiagnosticRequest=bw={}));var ww;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=ri.MessageDirection.serverToClient,e.type=new ri.ProtocolRequestType0(e.method)})(ww||(fn.DiagnosticRefreshRequest=ww={}))});var kw=X(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.DidCloseNotebookDocumentNotification=Je.DidSaveNotebookDocumentNotification=Je.DidChangeNotebookDocumentNotification=Je.NotebookCellArrayChange=Je.DidOpenNotebookDocumentNotification=Je.NotebookDocumentSyncRegistrationType=Je.NotebookDocument=Je.NotebookCell=Je.ExecutionSummary=Je.NotebookCellKind=void 0;var us=iu(),Tn=su(),An=ze(),$m;(function(e){e.Markup=1,e.Code=2;function t(n){return n===1||n===2}r(t,"is"),e.is=t})($m||(Je.NotebookCellKind=$m={}));var Vm;(function(e){function t(i,u){let s={executionOrder:i};return(u===!0||u===!1)&&(s.success=u),s}r(t,"create"),e.create=t;function n(i){let u=i;return Tn.objectLiteral(u)&&us.uinteger.is(u.executionOrder)&&(u.success===void 0||Tn.boolean(u.success))}r(n,"is"),e.is=n;function o(i,u){return i===u?!0:i==null||u===null||u===void 0?!1:i.executionOrder===u.executionOrder&&i.success===u.success}r(o,"equals"),e.equals=o})(Vm||(Je.ExecutionSummary=Vm={}));var bu;(function(e){function t(u,s){return{kind:u,document:s}}r(t,"create"),e.create=t;function n(u){let s=u;return Tn.objectLiteral(s)&&$m.is(s.kind)&&us.DocumentUri.is(s.document)&&(s.metadata===void 0||Tn.objectLiteral(s.metadata))}r(n,"is"),e.is=n;function o(u,s){let a=new Set;return u.document!==s.document&&a.add("document"),u.kind!==s.kind&&a.add("kind"),u.executionSummary!==s.executionSummary&&a.add("executionSummary"),(u.metadata!==void 0||s.metadata!==void 0)&&!i(u.metadata,s.metadata)&&a.add("metadata"),(u.executionSummary!==void 0||s.executionSummary!==void 0)&&!Vm.equals(u.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}r(o,"diff"),e.diff=o;function i(u,s){if(u===s)return!0;if(u==null||s===null||s===void 0||typeof u!=typeof s||typeof u!="object")return!1;let a=Array.isArray(u),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(u.length!==s.length)return!1;for(let l=0;l<u.length;l++)if(!i(u[l],s[l]))return!1}if(Tn.objectLiteral(u)&&Tn.objectLiteral(s)){let l=Object.keys(u),m=Object.keys(s);if(l.length!==m.length||(l.sort(),m.sort(),!i(l,m)))return!1;for(let g=0;g<l.length;g++){let _=l[g];if(!i(u[_],s[_]))return!1}}return!0}r(i,"equalsMetadata")})(bu||(Je.NotebookCell=bu={}));var xw;(function(e){function t(o,i,u,s){return{uri:o,notebookType:i,version:u,cells:s}}r(t,"create"),e.create=t;function n(o){let i=o;return Tn.objectLiteral(i)&&Tn.string(i.uri)&&us.integer.is(i.version)&&Tn.typedArray(i.cells,bu.is)}r(n,"is"),e.is=n})(xw||(Je.NotebookDocument=xw={}));var oi;(function(e){e.method="notebookDocument/sync",e.messageDirection=An.MessageDirection.clientToServer,e.type=new An.RegistrationType(e.method)})(oi||(Je.NotebookDocumentSyncRegistrationType=oi={}));var Sw;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=An.MessageDirection.clientToServer,e.type=new An.ProtocolNotificationType(e.method),e.registrationMethod=oi.method})(Sw||(Je.DidOpenNotebookDocumentNotification=Sw={}));var Tw;(function(e){function t(o){let i=o;return Tn.objectLiteral(i)&&us.uinteger.is(i.start)&&us.uinteger.is(i.deleteCount)&&(i.cells===void 0||Tn.typedArray(i.cells,bu.is))}r(t,"is"),e.is=t;function n(o,i,u){let s={start:o,deleteCount:i};return u!==void 0&&(s.cells=u),s}r(n,"create"),e.create=n})(Tw||(Je.NotebookCellArrayChange=Tw={}));var Ew;(function(e){e.method="notebookDocument/didChange",e.messageDirection=An.MessageDirection.clientToServer,e.type=new An.ProtocolNotificationType(e.method),e.registrationMethod=oi.method})(Ew||(Je.DidChangeNotebookDocumentNotification=Ew={}));var Rw;(function(e){e.method="notebookDocument/didSave",e.messageDirection=An.MessageDirection.clientToServer,e.type=new An.ProtocolNotificationType(e.method),e.registrationMethod=oi.method})(Rw||(Je.DidSaveNotebookDocumentNotification=Rw={}));var Pw;(function(e){e.method="notebookDocument/didClose",e.messageDirection=An.MessageDirection.clientToServer,e.type=new An.ProtocolNotificationType(e.method),e.registrationMethod=oi.method})(Pw||(Je.DidCloseNotebookDocumentNotification=Pw={}))});var Cw=X(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.InlineCompletionRequest=void 0;var Mw=ze(),Nw;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=Mw.MessageDirection.clientToServer,e.type=new Mw.ProtocolRequestType(e.method)})(Nw||(wu.InlineCompletionRequest=Nw={}))});var zv=X(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.WorkspaceSymbolRequest=h.CodeActionResolveRequest=h.CodeActionRequest=h.DocumentSymbolRequest=h.DocumentHighlightRequest=h.ReferencesRequest=h.DefinitionRequest=h.SignatureHelpRequest=h.SignatureHelpTriggerKind=h.HoverRequest=h.CompletionResolveRequest=h.CompletionRequest=h.CompletionTriggerKind=h.PublishDiagnosticsNotification=h.WatchKind=h.RelativePattern=h.FileChangeType=h.DidChangeWatchedFilesNotification=h.WillSaveTextDocumentWaitUntilRequest=h.WillSaveTextDocumentNotification=h.TextDocumentSaveReason=h.DidSaveTextDocumentNotification=h.DidCloseTextDocumentNotification=h.DidChangeTextDocumentNotification=h.TextDocumentContentChangeEvent=h.DidOpenTextDocumentNotification=h.TextDocumentSyncKind=h.TelemetryEventNotification=h.LogMessageNotification=h.ShowMessageRequest=h.ShowMessageNotification=h.MessageType=h.DidChangeConfigurationNotification=h.ExitNotification=h.ShutdownRequest=h.InitializedNotification=h.InitializeErrorCodes=h.InitializeRequest=h.WorkDoneProgressOptions=h.TextDocumentRegistrationOptions=h.StaticRegistrationOptions=h.PositionEncodingKind=h.FailureHandlingKind=h.ResourceOperationKind=h.UnregistrationRequest=h.RegistrationRequest=h.DocumentSelector=h.NotebookCellTextDocumentFilter=h.NotebookDocumentFilter=h.TextDocumentFilter=void 0;h.MonikerRequest=h.MonikerKind=h.UniquenessLevel=h.WillDeleteFilesRequest=h.DidDeleteFilesNotification=h.WillRenameFilesRequest=h.DidRenameFilesNotification=h.WillCreateFilesRequest=h.DidCreateFilesNotification=h.FileOperationPatternKind=h.LinkedEditingRangeRequest=h.ShowDocumentRequest=h.SemanticTokensRegistrationType=h.SemanticTokensRefreshRequest=h.SemanticTokensRangeRequest=h.SemanticTokensDeltaRequest=h.SemanticTokensRequest=h.TokenFormat=h.CallHierarchyPrepareRequest=h.CallHierarchyOutgoingCallsRequest=h.CallHierarchyIncomingCallsRequest=h.WorkDoneProgressCancelNotification=h.WorkDoneProgressCreateRequest=h.WorkDoneProgress=h.SelectionRangeRequest=h.DeclarationRequest=h.FoldingRangeRefreshRequest=h.FoldingRangeRequest=h.ColorPresentationRequest=h.DocumentColorRequest=h.ConfigurationRequest=h.DidChangeWorkspaceFoldersNotification=h.WorkspaceFoldersRequest=h.TypeDefinitionRequest=h.ImplementationRequest=h.ApplyWorkspaceEditRequest=h.ExecuteCommandRequest=h.PrepareRenameRequest=h.RenameRequest=h.PrepareSupportDefaultBehavior=h.DocumentOnTypeFormattingRequest=h.DocumentRangesFormattingRequest=h.DocumentRangeFormattingRequest=h.DocumentFormattingRequest=h.DocumentLinkResolveRequest=h.DocumentLinkRequest=h.CodeLensRefreshRequest=h.CodeLensResolveRequest=h.CodeLensRequest=h.WorkspaceSymbolResolveRequest=void 0;h.InlineCompletionRequest=h.DidCloseNotebookDocumentNotification=h.DidSaveNotebookDocumentNotification=h.DidChangeNotebookDocumentNotification=h.NotebookCellArrayChange=h.DidOpenNotebookDocumentNotification=h.NotebookDocumentSyncRegistrationType=h.NotebookDocument=h.NotebookCell=h.ExecutionSummary=h.NotebookCellKind=h.DiagnosticRefreshRequest=h.WorkspaceDiagnosticRequest=h.DocumentDiagnosticRequest=h.DocumentDiagnosticReportKind=h.DiagnosticServerCancellationData=h.InlayHintRefreshRequest=h.InlayHintResolveRequest=h.InlayHintRequest=h.InlineValueRefreshRequest=h.InlineValueRequest=h.TypeHierarchySupertypesRequest=h.TypeHierarchySubtypesRequest=h.TypeHierarchyPrepareRequest=void 0;var V=ze(),Lw=iu(),gt=su(),R0=ob();Object.defineProperty(h,"ImplementationRequest",{enumerable:!0,get:r(function(){return R0.ImplementationRequest},"get")});var P0=ab();Object.defineProperty(h,"TypeDefinitionRequest",{enumerable:!0,get:r(function(){return P0.TypeDefinitionRequest},"get")});var Bv=lb();Object.defineProperty(h,"WorkspaceFoldersRequest",{enumerable:!0,get:r(function(){return Bv.WorkspaceFoldersRequest},"get")});Object.defineProperty(h,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:r(function(){return Bv.DidChangeWorkspaceFoldersNotification},"get")});var k0=mb();Object.defineProperty(h,"ConfigurationRequest",{enumerable:!0,get:r(function(){return k0.ConfigurationRequest},"get")});var Wv=hb();Object.defineProperty(h,"DocumentColorRequest",{enumerable:!0,get:r(function(){return Wv.DocumentColorRequest},"get")});Object.defineProperty(h,"ColorPresentationRequest",{enumerable:!0,get:r(function(){return Wv.ColorPresentationRequest},"get")});var $v=bb();Object.defineProperty(h,"FoldingRangeRequest",{enumerable:!0,get:r(function(){return $v.FoldingRangeRequest},"get")});Object.defineProperty(h,"FoldingRangeRefreshRequest",{enumerable:!0,get:r(function(){return $v.FoldingRangeRefreshRequest},"get")});var M0=Ib();Object.defineProperty(h,"DeclarationRequest",{enumerable:!0,get:r(function(){return M0.DeclarationRequest},"get")});var N0=Tb();Object.defineProperty(h,"SelectionRangeRequest",{enumerable:!0,get:r(function(){return N0.SelectionRangeRequest},"get")});var Zm=kb();Object.defineProperty(h,"WorkDoneProgress",{enumerable:!0,get:r(function(){return Zm.WorkDoneProgress},"get")});Object.defineProperty(h,"WorkDoneProgressCreateRequest",{enumerable:!0,get:r(function(){return Zm.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(h,"WorkDoneProgressCancelNotification",{enumerable:!0,get:r(function(){return Zm.WorkDoneProgressCancelNotification},"get")});var Qm=Lb();Object.defineProperty(h,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:r(function(){return Qm.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(h,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:r(function(){return Qm.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(h,"CallHierarchyPrepareRequest",{enumerable:!0,get:r(function(){return Qm.CallHierarchyPrepareRequest},"get")});var ii=Ub();Object.defineProperty(h,"TokenFormat",{enumerable:!0,get:r(function(){return ii.TokenFormat},"get")});Object.defineProperty(h,"SemanticTokensRequest",{enumerable:!0,get:r(function(){return ii.SemanticTokensRequest},"get")});Object.defineProperty(h,"SemanticTokensDeltaRequest",{enumerable:!0,get:r(function(){return ii.SemanticTokensDeltaRequest},"get")});Object.defineProperty(h,"SemanticTokensRangeRequest",{enumerable:!0,get:r(function(){return ii.SemanticTokensRangeRequest},"get")});Object.defineProperty(h,"SemanticTokensRefreshRequest",{enumerable:!0,get:r(function(){return ii.SemanticTokensRefreshRequest},"get")});Object.defineProperty(h,"SemanticTokensRegistrationType",{enumerable:!0,get:r(function(){return ii.SemanticTokensRegistrationType},"get")});var C0=Wb();Object.defineProperty(h,"ShowDocumentRequest",{enumerable:!0,get:r(function(){return C0.ShowDocumentRequest},"get")});var L0=zb();Object.defineProperty(h,"LinkedEditingRangeRequest",{enumerable:!0,get:r(function(){return L0.LinkedEditingRangeRequest},"get")});var Yr=Yb();Object.defineProperty(h,"FileOperationPatternKind",{enumerable:!0,get:r(function(){return Yr.FileOperationPatternKind},"get")});Object.defineProperty(h,"DidCreateFilesNotification",{enumerable:!0,get:r(function(){return Yr.DidCreateFilesNotification},"get")});Object.defineProperty(h,"WillCreateFilesRequest",{enumerable:!0,get:r(function(){return Yr.WillCreateFilesRequest},"get")});Object.defineProperty(h,"DidRenameFilesNotification",{enumerable:!0,get:r(function(){return Yr.DidRenameFilesNotification},"get")});Object.defineProperty(h,"WillRenameFilesRequest",{enumerable:!0,get:r(function(){return Yr.WillRenameFilesRequest},"get")});Object.defineProperty(h,"DidDeleteFilesNotification",{enumerable:!0,get:r(function(){return Yr.DidDeleteFilesNotification},"get")});Object.defineProperty(h,"WillDeleteFilesRequest",{enumerable:!0,get:r(function(){return Yr.WillDeleteFilesRequest},"get")});var Jm=ow();Object.defineProperty(h,"UniquenessLevel",{enumerable:!0,get:r(function(){return Jm.UniquenessLevel},"get")});Object.defineProperty(h,"MonikerKind",{enumerable:!0,get:r(function(){return Jm.MonikerKind},"get")});Object.defineProperty(h,"MonikerRequest",{enumerable:!0,get:r(function(){return Jm.MonikerRequest},"get")});var Xm=uw();Object.defineProperty(h,"TypeHierarchyPrepareRequest",{enumerable:!0,get:r(function(){return Xm.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(h,"TypeHierarchySubtypesRequest",{enumerable:!0,get:r(function(){return Xm.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(h,"TypeHierarchySupertypesRequest",{enumerable:!0,get:r(function(){return Xm.TypeHierarchySupertypesRequest},"get")});var Vv=dw();Object.defineProperty(h,"InlineValueRequest",{enumerable:!0,get:r(function(){return Vv.InlineValueRequest},"get")});Object.defineProperty(h,"InlineValueRefreshRequest",{enumerable:!0,get:r(function(){return Vv.InlineValueRefreshRequest},"get")});var Ym=gw();Object.defineProperty(h,"InlayHintRequest",{enumerable:!0,get:r(function(){return Ym.InlayHintRequest},"get")});Object.defineProperty(h,"InlayHintResolveRequest",{enumerable:!0,get:r(function(){return Ym.InlayHintResolveRequest},"get")});Object.defineProperty(h,"InlayHintRefreshRequest",{enumerable:!0,get:r(function(){return Ym.InlayHintRefreshRequest},"get")});var cs=Iw();Object.defineProperty(h,"DiagnosticServerCancellationData",{enumerable:!0,get:r(function(){return cs.DiagnosticServerCancellationData},"get")});Object.defineProperty(h,"DocumentDiagnosticReportKind",{enumerable:!0,get:r(function(){return cs.DocumentDiagnosticReportKind},"get")});Object.defineProperty(h,"DocumentDiagnosticRequest",{enumerable:!0,get:r(function(){return cs.DocumentDiagnosticRequest},"get")});Object.defineProperty(h,"WorkspaceDiagnosticRequest",{enumerable:!0,get:r(function(){return cs.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(h,"DiagnosticRefreshRequest",{enumerable:!0,get:r(function(){return cs.DiagnosticRefreshRequest},"get")});var Dn=kw();Object.defineProperty(h,"NotebookCellKind",{enumerable:!0,get:r(function(){return Dn.NotebookCellKind},"get")});Object.defineProperty(h,"ExecutionSummary",{enumerable:!0,get:r(function(){return Dn.ExecutionSummary},"get")});Object.defineProperty(h,"NotebookCell",{enumerable:!0,get:r(function(){return Dn.NotebookCell},"get")});Object.defineProperty(h,"NotebookDocument",{enumerable:!0,get:r(function(){return Dn.NotebookDocument},"get")});Object.defineProperty(h,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:r(function(){return Dn.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(h,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:r(function(){return Dn.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(h,"NotebookCellArrayChange",{enumerable:!0,get:r(function(){return Dn.NotebookCellArrayChange},"get")});Object.defineProperty(h,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:r(function(){return Dn.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(h,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:r(function(){return Dn.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(h,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:r(function(){return Dn.DidCloseNotebookDocumentNotification},"get")});var O0=Cw();Object.defineProperty(h,"InlineCompletionRequest",{enumerable:!0,get:r(function(){return O0.InlineCompletionRequest},"get")});var zm;(function(e){function t(n){let o=n;return gt.string(o)||gt.string(o.language)||gt.string(o.scheme)||gt.string(o.pattern)}r(t,"is"),e.is=t})(zm||(h.TextDocumentFilter=zm={}));var Gm;(function(e){function t(n){let o=n;return gt.objectLiteral(o)&&(gt.string(o.notebookType)||gt.string(o.scheme)||gt.string(o.pattern))}r(t,"is"),e.is=t})(Gm||(h.NotebookDocumentFilter=Gm={}));var Km;(function(e){function t(n){let o=n;return gt.objectLiteral(o)&&(gt.string(o.notebook)||Gm.is(o.notebook))&&(o.language===void 0||gt.string(o.language))}r(t,"is"),e.is=t})(Km||(h.NotebookCellTextDocumentFilter=Km={}));var Hm;(function(e){function t(n){if(!Array.isArray(n))return!1;for(let o of n)if(!gt.string(o)&&!zm.is(o)&&!Km.is(o))return!1;return!0}r(t,"is"),e.is=t})(Hm||(h.DocumentSelector=Hm={}));var Ow;(function(e){e.method="client/registerCapability",e.messageDirection=V.MessageDirection.serverToClient,e.type=new V.ProtocolRequestType(e.method)})(Ow||(h.RegistrationRequest=Ow={}));var Fw;(function(e){e.method="client/unregisterCapability",e.messageDirection=V.MessageDirection.serverToClient,e.type=new V.ProtocolRequestType(e.method)})(Fw||(h.UnregistrationRequest=Fw={}));var Aw;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(Aw||(h.ResourceOperationKind=Aw={}));var Dw;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(Dw||(h.FailureHandlingKind=Dw={}));var jw;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(jw||(h.PositionEncodingKind=jw={}));var Uw;(function(e){function t(n){let o=n;return o&&gt.string(o.id)&&o.id.length>0}r(t,"hasId"),e.hasId=t})(Uw||(h.StaticRegistrationOptions=Uw={}));var qw;(function(e){function t(n){let o=n;return o&&(o.documentSelector===null||Hm.is(o.documentSelector))}r(t,"is"),e.is=t})(qw||(h.TextDocumentRegistrationOptions=qw={}));var Bw;(function(e){function t(o){let i=o;return gt.objectLiteral(i)&&(i.workDoneProgress===void 0||gt.boolean(i.workDoneProgress))}r(t,"is"),e.is=t;function n(o){let i=o;return i&&gt.boolean(i.workDoneProgress)}r(n,"hasWorkDoneProgress"),e.hasWorkDoneProgress=n})(Bw||(h.WorkDoneProgressOptions=Bw={}));var Ww;(function(e){e.method="initialize",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(Ww||(h.InitializeRequest=Ww={}));var $w;(function(e){e.unknownProtocolVersion=1})($w||(h.InitializeErrorCodes=$w={}));var Vw;(function(e){e.method="initialized",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolNotificationType(e.method)})(Vw||(h.InitializedNotification=Vw={}));var zw;(function(e){e.method="shutdown",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType0(e.method)})(zw||(h.ShutdownRequest=zw={}));var Gw;(function(e){e.method="exit",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolNotificationType0(e.method)})(Gw||(h.ExitNotification=Gw={}));var Kw;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolNotificationType(e.method)})(Kw||(h.DidChangeConfigurationNotification=Kw={}));var Hw;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(Hw||(h.MessageType=Hw={}));var Zw;(function(e){e.method="window/showMessage",e.messageDirection=V.MessageDirection.serverToClient,e.type=new V.ProtocolNotificationType(e.method)})(Zw||(h.ShowMessageNotification=Zw={}));var Qw;(function(e){e.method="window/showMessageRequest",e.messageDirection=V.MessageDirection.serverToClient,e.type=new V.ProtocolRequestType(e.method)})(Qw||(h.ShowMessageRequest=Qw={}));var Jw;(function(e){e.method="window/logMessage",e.messageDirection=V.MessageDirection.serverToClient,e.type=new V.ProtocolNotificationType(e.method)})(Jw||(h.LogMessageNotification=Jw={}));var Xw;(function(e){e.method="telemetry/event",e.messageDirection=V.MessageDirection.serverToClient,e.type=new V.ProtocolNotificationType(e.method)})(Xw||(h.TelemetryEventNotification=Xw={}));var Yw;(function(e){e.None=0,e.Full=1,e.Incremental=2})(Yw||(h.TextDocumentSyncKind=Yw={}));var ev;(function(e){e.method="textDocument/didOpen",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolNotificationType(e.method)})(ev||(h.DidOpenTextDocumentNotification=ev={}));var tv;(function(e){function t(o){let i=o;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}r(t,"isIncremental"),e.isIncremental=t;function n(o){let i=o;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}r(n,"isFull"),e.isFull=n})(tv||(h.TextDocumentContentChangeEvent=tv={}));var nv;(function(e){e.method="textDocument/didChange",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolNotificationType(e.method)})(nv||(h.DidChangeTextDocumentNotification=nv={}));var rv;(function(e){e.method="textDocument/didClose",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolNotificationType(e.method)})(rv||(h.DidCloseTextDocumentNotification=rv={}));var ov;(function(e){e.method="textDocument/didSave",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolNotificationType(e.method)})(ov||(h.DidSaveTextDocumentNotification=ov={}));var iv;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(iv||(h.TextDocumentSaveReason=iv={}));var sv;(function(e){e.method="textDocument/willSave",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolNotificationType(e.method)})(sv||(h.WillSaveTextDocumentNotification=sv={}));var av;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(av||(h.WillSaveTextDocumentWaitUntilRequest=av={}));var uv;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolNotificationType(e.method)})(uv||(h.DidChangeWatchedFilesNotification=uv={}));var cv;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(cv||(h.FileChangeType=cv={}));var lv;(function(e){function t(n){let o=n;return gt.objectLiteral(o)&&(Lw.URI.is(o.baseUri)||Lw.WorkspaceFolder.is(o.baseUri))&&gt.string(o.pattern)}r(t,"is"),e.is=t})(lv||(h.RelativePattern=lv={}));var dv;(function(e){e.Create=1,e.Change=2,e.Delete=4})(dv||(h.WatchKind=dv={}));var fv;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=V.MessageDirection.serverToClient,e.type=new V.ProtocolNotificationType(e.method)})(fv||(h.PublishDiagnosticsNotification=fv={}));var mv;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(mv||(h.CompletionTriggerKind=mv={}));var pv;(function(e){e.method="textDocument/completion",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(pv||(h.CompletionRequest=pv={}));var gv;(function(e){e.method="completionItem/resolve",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(gv||(h.CompletionResolveRequest=gv={}));var hv;(function(e){e.method="textDocument/hover",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(hv||(h.HoverRequest=hv={}));var _v;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(_v||(h.SignatureHelpTriggerKind=_v={}));var yv;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(yv||(h.SignatureHelpRequest=yv={}));var bv;(function(e){e.method="textDocument/definition",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(bv||(h.DefinitionRequest=bv={}));var wv;(function(e){e.method="textDocument/references",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(wv||(h.ReferencesRequest=wv={}));var vv;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(vv||(h.DocumentHighlightRequest=vv={}));var Iv;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(Iv||(h.DocumentSymbolRequest=Iv={}));var xv;(function(e){e.method="textDocument/codeAction",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(xv||(h.CodeActionRequest=xv={}));var Sv;(function(e){e.method="codeAction/resolve",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(Sv||(h.CodeActionResolveRequest=Sv={}));var Tv;(function(e){e.method="workspace/symbol",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(Tv||(h.WorkspaceSymbolRequest=Tv={}));var Ev;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(Ev||(h.WorkspaceSymbolResolveRequest=Ev={}));var Rv;(function(e){e.method="textDocument/codeLens",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(Rv||(h.CodeLensRequest=Rv={}));var Pv;(function(e){e.method="codeLens/resolve",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(Pv||(h.CodeLensResolveRequest=Pv={}));var kv;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=V.MessageDirection.serverToClient,e.type=new V.ProtocolRequestType0(e.method)})(kv||(h.CodeLensRefreshRequest=kv={}));var Mv;(function(e){e.method="textDocument/documentLink",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(Mv||(h.DocumentLinkRequest=Mv={}));var Nv;(function(e){e.method="documentLink/resolve",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(Nv||(h.DocumentLinkResolveRequest=Nv={}));var Cv;(function(e){e.method="textDocument/formatting",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(Cv||(h.DocumentFormattingRequest=Cv={}));var Lv;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(Lv||(h.DocumentRangeFormattingRequest=Lv={}));var Ov;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(Ov||(h.DocumentRangesFormattingRequest=Ov={}));var Fv;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(Fv||(h.DocumentOnTypeFormattingRequest=Fv={}));var Av;(function(e){e.Identifier=1})(Av||(h.PrepareSupportDefaultBehavior=Av={}));var Dv;(function(e){e.method="textDocument/rename",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(Dv||(h.RenameRequest=Dv={}));var jv;(function(e){e.method="textDocument/prepareRename",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(jv||(h.PrepareRenameRequest=jv={}));var Uv;(function(e){e.method="workspace/executeCommand",e.messageDirection=V.MessageDirection.clientToServer,e.type=new V.ProtocolRequestType(e.method)})(Uv||(h.ExecuteCommandRequest=Uv={}));var qv;(function(e){e.method="workspace/applyEdit",e.messageDirection=V.MessageDirection.serverToClient,e.type=new V.ProtocolRequestType("workspace/applyEdit")})(qv||(h.ApplyWorkspaceEditRequest=qv={}))});var Kv=X(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.createProtocolConnection=void 0;var Gv=Xr();function F0(e,t,n,o){return Gv.ConnectionStrategy.is(o)&&(o={connectionStrategy:o}),(0,Gv.createMessageConnection)(e,t,n,o)}r(F0,"createProtocolConnection");vu.createProtocolConnection=F0});var Zv=X(qt=>{"use strict";var A0=qt&&qt.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:r(function(){return t[n]},"get")}),Object.defineProperty(e,o,i)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),Iu=qt&&qt.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&A0(t,e,n)};Object.defineProperty(qt,"__esModule",{value:!0});qt.LSPErrorCodes=qt.createProtocolConnection=void 0;Iu(Xr(),qt);Iu(iu(),qt);Iu(ze(),qt);Iu(zv(),qt);var D0=Kv();Object.defineProperty(qt,"createProtocolConnection",{enumerable:!0,get:r(function(){return D0.createProtocolConnection},"get")});var Hv;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(Hv||(qt.LSPErrorCodes=Hv={}))});var Jv=X(jn=>{"use strict";var j0=jn&&jn.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:r(function(){return t[n]},"get")}),Object.defineProperty(e,o,i)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),Qv=jn&&jn.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&j0(t,e,n)};Object.defineProperty(jn,"__esModule",{value:!0});jn.createProtocolConnection=void 0;var U0=Cm();Qv(Cm(),jn);Qv(Zv(),jn);function q0(e,t,n,o){return(0,U0.createMessageConnection)(e,t,n,o)}r(q0,"createProtocolConnection");jn.createProtocolConnection=q0});var Er={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".jsonl",".mcmeta",".sarif",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Pipfile.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},python:{extensions:[".ipynb",".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:["Notebook",".gclient","DEPS","SConscript","SConstruct","wscript"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".gemrc","CITATION.cff","glide.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]}};var ap=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],up={".php":[".blade"]},cp=Object.keys(Er).flatMap(e=>Er[e].extensions);var Eu=require("os"),Ru=require("path");var lp;(()=>{"use strict";var e={975:W=>{function M(k){if(typeof k!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(k))}r(M,"e");function q(k,O){for(var D,G="",J=0,H=-1,se=0,le=0;le<=k.length;++le){if(le<k.length)D=k.charCodeAt(le);else{if(D===47)break;D=47}if(D===47){if(!(H===le-1||se===1))if(H!==le-1&&se===2){if(G.length<2||J!==2||G.charCodeAt(G.length-1)!==46||G.charCodeAt(G.length-2)!==46){if(G.length>2){var Ze=G.lastIndexOf("/");if(Ze!==G.length-1){Ze===-1?(G="",J=0):J=(G=G.slice(0,Ze)).length-1-G.lastIndexOf("/"),H=le,se=0;continue}}else if(G.length===2||G.length===1){G="",J=0,H=le,se=0;continue}}O&&(G.length>0?G+="/..":G="..",J=2)}else G.length>0?G+="/"+k.slice(H+1,le):G=k.slice(H+1,le),J=le-H-1;H=le,se=0}else D===46&&se!==-1?++se:se=-1}return G}r(q,"r");var Z={resolve:r(function(){for(var k,O="",D=!1,G=arguments.length-1;G>=-1&&!D;G--){var J;G>=0?J=arguments[G]:(k===void 0&&(k=process.cwd()),J=k),M(J),J.length!==0&&(O=J+"/"+O,D=J.charCodeAt(0)===47)}return O=q(O,!D),D?O.length>0?"/"+O:"/":O.length>0?O:"."},"resolve"),normalize:r(function(k){if(M(k),k.length===0)return".";var O=k.charCodeAt(0)===47,D=k.charCodeAt(k.length-1)===47;return(k=q(k,!O)).length!==0||O||(k="."),k.length>0&&D&&(k+="/"),O?"/"+k:k},"normalize"),isAbsolute:r(function(k){return M(k),k.length>0&&k.charCodeAt(0)===47},"isAbsolute"),join:r(function(){if(arguments.length===0)return".";for(var k,O=0;O<arguments.length;++O){var D=arguments[O];M(D),D.length>0&&(k===void 0?k=D:k+="/"+D)}return k===void 0?".":Z.normalize(k)},"join"),relative:r(function(k,O){if(M(k),M(O),k===O||(k=Z.resolve(k))===(O=Z.resolve(O)))return"";for(var D=1;D<k.length&&k.charCodeAt(D)===47;++D);for(var G=k.length,J=G-D,H=1;H<O.length&&O.charCodeAt(H)===47;++H);for(var se=O.length-H,le=J<se?J:se,Ze=-1,xe=0;xe<=le;++xe){if(xe===le){if(se>le){if(O.charCodeAt(H+xe)===47)return O.slice(H+xe+1);if(xe===0)return O.slice(H+xe)}else J>le&&(k.charCodeAt(D+xe)===47?Ze=xe:xe===0&&(Ze=0));break}var Bt=k.charCodeAt(D+xe);if(Bt!==O.charCodeAt(H+xe))break;Bt===47&&(Ze=xe)}var En="";for(xe=D+Ze+1;xe<=G;++xe)xe!==G&&k.charCodeAt(xe)!==47||(En.length===0?En+="..":En+="/..");return En.length>0?En+O.slice(H+Ze):(H+=Ze,O.charCodeAt(H)===47&&++H,O.slice(H))},"relative"),_makeLong:r(function(k){return k},"_makeLong"),dirname:r(function(k){if(M(k),k.length===0)return".";for(var O=k.charCodeAt(0),D=O===47,G=-1,J=!0,H=k.length-1;H>=1;--H)if((O=k.charCodeAt(H))===47){if(!J){G=H;break}}else J=!1;return G===-1?D?"/":".":D&&G===1?"//":k.slice(0,G)},"dirname"),basename:r(function(k,O){if(O!==void 0&&typeof O!="string")throw new TypeError('"ext" argument must be a string');M(k);var D,G=0,J=-1,H=!0;if(O!==void 0&&O.length>0&&O.length<=k.length){if(O.length===k.length&&O===k)return"";var se=O.length-1,le=-1;for(D=k.length-1;D>=0;--D){var Ze=k.charCodeAt(D);if(Ze===47){if(!H){G=D+1;break}}else le===-1&&(H=!1,le=D+1),se>=0&&(Ze===O.charCodeAt(se)?--se==-1&&(J=D):(se=-1,J=le))}return G===J?J=le:J===-1&&(J=k.length),k.slice(G,J)}for(D=k.length-1;D>=0;--D)if(k.charCodeAt(D)===47){if(!H){G=D+1;break}}else J===-1&&(H=!1,J=D+1);return J===-1?"":k.slice(G,J)},"basename"),extname:r(function(k){M(k);for(var O=-1,D=0,G=-1,J=!0,H=0,se=k.length-1;se>=0;--se){var le=k.charCodeAt(se);if(le!==47)G===-1&&(J=!1,G=se+1),le===46?O===-1?O=se:H!==1&&(H=1):O!==-1&&(H=-1);else if(!J){D=se+1;break}}return O===-1||G===-1||H===0||H===1&&O===G-1&&O===D+1?"":k.slice(O,G)},"extname"),format:r(function(k){if(k===null||typeof k!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof k);return function(O,D){var G=D.dir||D.root,J=D.base||(D.name||"")+(D.ext||"");return G?G===D.root?G+J:G+"/"+J:J}(0,k)},"format"),parse:r(function(k){M(k);var O={root:"",dir:"",base:"",ext:"",name:""};if(k.length===0)return O;var D,G=k.charCodeAt(0),J=G===47;J?(O.root="/",D=1):D=0;for(var H=-1,se=0,le=-1,Ze=!0,xe=k.length-1,Bt=0;xe>=D;--xe)if((G=k.charCodeAt(xe))!==47)le===-1&&(Ze=!1,le=xe+1),G===46?H===-1?H=xe:Bt!==1&&(Bt=1):H!==-1&&(Bt=-1);else if(!Ze){se=xe+1;break}return H===-1||le===-1||Bt===0||Bt===1&&H===le-1&&H===se+1?le!==-1&&(O.base=O.name=se===0&&J?k.slice(1,le):k.slice(se,le)):(se===0&&J?(O.name=k.slice(1,H),O.base=k.slice(1,le)):(O.name=k.slice(se,H),O.base=k.slice(se,le)),O.ext=k.slice(H,le)),se>0?O.dir=k.slice(0,se-1):J&&(O.dir="/"),O},"parse"),sep:"/",delimiter:":",win32:null,posix:null};Z.posix=Z,W.exports=Z}},t={};function n(W){var M=t[W];if(M!==void 0)return M.exports;var q=t[W]={exports:{}};return e[W](q,q.exports,n),q.exports}r(n,"r"),n.d=(W,M)=>{for(var q in M)n.o(M,q)&&!n.o(W,q)&&Object.defineProperty(W,q,{enumerable:!0,get:M[q]})},n.o=(W,M)=>Object.prototype.hasOwnProperty.call(W,M),n.r=W=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(W,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(W,"__esModule",{value:!0})};var o={};let i;n.r(o),n.d(o,{URI:r(()=>_,"URI"),Utils:r(()=>nt,"Utils")}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let u=/^\w[\w\d+.-]*$/,s=/^\//,a=/^\/\//;function c(W,M){if(!W.scheme&&M)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${W.authority}", path: "${W.path}", query: "${W.query}", fragment: "${W.fragment}"}`);if(W.scheme&&!u.test(W.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(W.path){if(W.authority){if(!s.test(W.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(W.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}r(c,"a");let l="",m="/",g=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,lt=class lt{constructor(M,q,Z,k,O,D=!1){nr(this,"scheme");nr(this,"authority");nr(this,"path");nr(this,"query");nr(this,"fragment");typeof M=="object"?(this.scheme=M.scheme||l,this.authority=M.authority||l,this.path=M.path||l,this.query=M.query||l,this.fragment=M.fragment||l):(this.scheme=function(G,J){return G||J?G:"file"}(M,D),this.authority=q||l,this.path=function(G,J){switch(G){case"https":case"http":case"file":J?J[0]!==m&&(J=m+J):J=m}return J}(this.scheme,Z||l),this.query=k||l,this.fragment=O||l,c(this,D))}static isUri(M){return M instanceof lt||!!M&&typeof M.authority=="string"&&typeof M.fragment=="string"&&typeof M.path=="string"&&typeof M.query=="string"&&typeof M.scheme=="string"&&typeof M.fsPath=="string"&&typeof M.with=="function"&&typeof M.toString=="function"}get fsPath(){return Q(this,!1)}with(M){if(!M)return this;let{scheme:q,authority:Z,path:k,query:O,fragment:D}=M;return q===void 0?q=this.scheme:q===null&&(q=l),Z===void 0?Z=this.authority:Z===null&&(Z=l),k===void 0?k=this.path:k===null&&(k=l),O===void 0?O=this.query:O===null&&(O=l),D===void 0?D=this.fragment:D===null&&(D=l),q===this.scheme&&Z===this.authority&&k===this.path&&O===this.query&&D===this.fragment?this:new T(q,Z,k,O,D)}static parse(M,q=!1){let Z=g.exec(M);return Z?new T(Z[2]||l,re(Z[4]||l),re(Z[5]||l),re(Z[7]||l),re(Z[9]||l),q):new T(l,l,l,l,l)}static file(M){let q=l;if(i&&(M=M.replace(/\\/g,m)),M[0]===m&&M[1]===m){let Z=M.indexOf(m,2);Z===-1?(q=M.substring(2),M=m):(q=M.substring(2,Z),M=M.substring(Z)||m)}return new T("file",q,M,l,l)}static from(M){let q=new T(M.scheme,M.authority,M.path,M.query,M.fragment);return c(q,!0),q}toString(M=!1){return $(this,M)}toJSON(){return this}static revive(M){if(M){if(M instanceof lt)return M;{let q=new T(M);return q._formatted=M.external,q._fsPath=M._sep===v?M.fsPath:null,q}}return M}};r(lt,"l");let _=lt,v=i?1:void 0,Be=class Be extends _{constructor(){super(...arguments);nr(this,"_formatted",null);nr(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=Q(this,!1)),this._fsPath}toString(q=!1){return q?$(this,!0):(this._formatted||(this._formatted=$(this,!1)),this._formatted)}toJSON(){let q={$mid:1};return this._fsPath&&(q.fsPath=this._fsPath,q._sep=v),this._formatted&&(q.external=this._formatted),this.path&&(q.path=this.path),this.scheme&&(q.scheme=this.scheme),this.authority&&(q.authority=this.authority),this.query&&(q.query=this.query),this.fragment&&(q.fragment=this.fragment),q}};r(Be,"d");let T=Be,P={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function j(W,M,q){let Z,k=-1;for(let O=0;O<W.length;O++){let D=W.charCodeAt(O);if(D>=97&&D<=122||D>=65&&D<=90||D>=48&&D<=57||D===45||D===46||D===95||D===126||M&&D===47||q&&D===91||q&&D===93||q&&D===58)k!==-1&&(Z+=encodeURIComponent(W.substring(k,O)),k=-1),Z!==void 0&&(Z+=W.charAt(O));else{Z===void 0&&(Z=W.substr(0,O));let G=P[D];G!==void 0?(k!==-1&&(Z+=encodeURIComponent(W.substring(k,O)),k=-1),Z+=G):k===-1&&(k=O)}}return k!==-1&&(Z+=encodeURIComponent(W.substring(k))),Z!==void 0?Z:W}r(j,"m");function L(W){let M;for(let q=0;q<W.length;q++){let Z=W.charCodeAt(q);Z===35||Z===63?(M===void 0&&(M=W.substr(0,q)),M+=P[Z]):M!==void 0&&(M+=W[q])}return M!==void 0?M:W}r(L,"y");function Q(W,M){let q;return q=W.authority&&W.path.length>1&&W.scheme==="file"?`//${W.authority}${W.path}`:W.path.charCodeAt(0)===47&&(W.path.charCodeAt(1)>=65&&W.path.charCodeAt(1)<=90||W.path.charCodeAt(1)>=97&&W.path.charCodeAt(1)<=122)&&W.path.charCodeAt(2)===58?M?W.path.substr(1):W.path[1].toLowerCase()+W.path.substr(2):W.path,i&&(q=q.replace(/\//g,"\\")),q}r(Q,"v");function $(W,M){let q=M?L:j,Z="",{scheme:k,authority:O,path:D,query:G,fragment:J}=W;if(k&&(Z+=k,Z+=":"),(O||k==="file")&&(Z+=m,Z+=m),O){let H=O.indexOf("@");if(H!==-1){let se=O.substr(0,H);O=O.substr(H+1),H=se.lastIndexOf(":"),H===-1?Z+=q(se,!1,!1):(Z+=q(se.substr(0,H),!1,!1),Z+=":",Z+=q(se.substr(H+1),!1,!0)),Z+="@"}O=O.toLowerCase(),H=O.lastIndexOf(":"),H===-1?Z+=q(O,!1,!0):(Z+=q(O.substr(0,H),!1,!0),Z+=O.substr(H))}if(D){if(D.length>=3&&D.charCodeAt(0)===47&&D.charCodeAt(2)===58){let H=D.charCodeAt(1);H>=65&&H<=90&&(D=`/${String.fromCharCode(H+32)}:${D.substr(3)}`)}else if(D.length>=2&&D.charCodeAt(1)===58){let H=D.charCodeAt(0);H>=65&&H<=90&&(D=`${String.fromCharCode(H+32)}:${D.substr(2)}`)}Z+=q(D,!0,!1)}return G&&(Z+="?",Z+=q(G,!1,!1)),J&&(Z+="#",Z+=M?J:j(J,!1,!1)),Z}r($,"b");function Y(W){try{return decodeURIComponent(W)}catch{return W.length>3?W.substr(0,3)+Y(W.substr(3)):W}}r(Y,"C");let z=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function re(W){return W.match(z)?W.replace(z,M=>Y(M)):W}r(re,"w");var ne=n(975);let U=ne.posix||ne,ie="/";var nt;(function(W){W.joinPath=function(M,...q){return M.with({path:U.join(M.path,...q)})},W.resolvePath=function(M,...q){let Z=M.path,k=!1;Z[0]!==ie&&(Z=ie+Z,k=!0);let O=U.resolve(Z,...q);return k&&O[0]===ie&&!M.authority&&(O=O.substring(1)),M.with({path:O})},W.dirname=function(M){if(M.path.length===0||M.path===ie)return M;let q=U.dirname(M.path);return q.length===1&&q.charCodeAt(0)===46&&(q=""),M.with({path:q})},W.basename=function(M){return U.basename(M.path)},W.extname=function(M){return U.extname(M.path)}})(nt||(nt={})),lp=o})();var{URI:Tu,Utils:aI}=lp;function fp(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substring(0,3)+fp(e.substring(3)):e}}r(fp,"decodeURIComponentGraceful");var dp=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function uI(e){return e.match(dp)?e.replace(dp,t=>fp(t)):e}r(uI,"percentDecode");function Rr(e,t=!1){try{let n=e.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return n?Tu.parse(n[1]+n[2],t):Tu.parse(e,t)}catch(n){let o=new Error(`Could not parse <${e}>`);throw o.cause=n,o}}r(Rr,"parseUri");function cI(e){return["file","notebook","vscode-notebook","vscode-notebook-cell"].includes(e)}r(cI,"isFsScheme");function lI(e){return cI(e.scheme)&&(!e.authority||(0,Eu.platform)()=="win32")}r(lI,"isFsUri");function mp(e){try{typeof e=="string"&&(e=Rr(e,!0))}catch{return}if(lI(e))if((0,Eu.platform)()==="win32"){let t=e.path;return e.authority?t=`//${e.authority}${e.path}`:/^\/[A-Za-z]:/.test(t)&&(t=t.substring(1)),(0,Ru.normalize)(t)}else return e.authority?void 0:e.path}r(mp,"getFsPath");function pp(e){return uI(e.toString().replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}r(pp,"basename");var Pu=Wn(require("path"));var Lu=class Lu{constructor(t,n,o){this.languageId=t;this.isGuess=n;this.fileExtension=o}};r(Lu,"Language");var di=Lu,Ou=class Ou{};r(Ou,"LanguageDetection");var fi=Ou,ku=new Map,io=new Map,gp,hp;for(let[e,{extensions:t,filenames:n}]of Object.entries(Er)){for(let o of t)ku.set(o,[...(gp=ku.get(o))!=null?gp:[],e]);for(let o of n!=null?n:[])io.set(o,[...(hp=io.get(o))!=null?hp:[],e])}var Fu=class Fu extends fi{detectLanguage(t){let n=pp(t.uri),o=Pu.extname(n).toLowerCase(),i=this.extensionWithoutTemplateLanguage(n,o),u=this.detectLanguageId(n,i);return new di(u.languageId,u.isGuess,this.computeFullyQualifiedExtension(o,i))}extensionWithoutTemplateLanguage(t,n){if(ap.includes(n)){let o=t.substring(0,t.lastIndexOf(".")),i=Pu.extname(o).toLowerCase();if(i.length>0&&cp.includes(i)&&this.isExtensionValidForTemplateLanguage(n,i))return i}return n}isExtensionValidForTemplateLanguage(t,n){let o=up[t];return!o||o.includes(n)}detectLanguageId(t,n){var i;if(io.has(t))return{languageId:io.get(t)[0],isGuess:!1};let o=(i=ku.get(n))!=null?i:[];if(o.length>0)return{languageId:o[0],isGuess:o.length>1};for(;t.includes(".");)if(t=t.replace(/\.[^.]*$/,""),io.has(t))return{languageId:io.get(t)[0],isGuess:!1};return{languageId:"unknown",isGuess:!0}}computeFullyQualifiedExtension(t,n){return t!==n?n+t:t}};r(Fu,"FilenameAndExensionLanguageDetection");var Mu=Fu,Au=class Au extends fi{constructor(n){super();this.delegate=n}detectLanguage(n){let o=this.delegate.detectLanguage(n),i=o.languageId;return i==="c"||i==="cpp"?new di("cpp",o.isGuess,o.fileExtension):o}};r(Au,"GroupingLanguageDetection");var Nu=Au,Du=class Du extends fi{constructor(n){super();this.delegate=n}detectLanguage(n){return n.uri.startsWith("untitled:")||n.uri.startsWith("vscode-notebook-cell:")?new di(n.languageId,!0,""):this.delegate.detectLanguage(n)}};r(Du,"ClientProvidedLanguageDetection");var Cu=Du,ek=new Nu(new Cu(new Mu));function $n(e){if(e.isCancellationRequested)throw new ju}r($n,"throwIfCancellationRequested");var Uu=class Uu extends Error{constructor(){super(dI),this.name=this.message}};r(Uu,"CancellationError");var ju=Uu,dI="Canceled",qu=class qu{constructor(){this.items=[]}push(t){this.items.push(t)}pop(){return this.items.pop()}peek(){return this.items[this.items.length-1]}tryPeek(){return this.items.length>0}toArray(){return this.items}};r(qu,"Stack");var vs=qu;function Bu(e,t,n){return{type:"virtual",indentation:e,subs:t,label:n}}r(Bu,"virtualNode");function _p(e,t,n,o,i){if(n==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:n,subs:o,label:i}}r(_p,"lineNode");function Wu(e){return{type:"blank",lineNumber:e,subs:[]}}r(Wu,"blankNode");function Is(e){return{type:"top",indentation:-1,subs:e!=null?e:[]}}r(Is,"topNode");function ht(e){return e.type==="blank"}r(ht,"isBlank");function Pr(e){return e.type==="line"}r(Pr,"isLine");function kr(e){return e.type==="virtual"}r(kr,"isVirtual");function yp(e,t){return It(e,n=>{n.label=n.label?t(n.label)?void 0:n.label:void 0},"bottomUp"),e}r(yp,"clearLabelsIf");function Mr(e,t){switch(e.type){case"line":case"virtual":{let n=e.subs.map(o=>Mr(o,t));return{...e,subs:n,label:e.label?t(e.label):void 0}}case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(n=>Mr(n,t)),label:e.label?t(e.label):void 0}}}r(Mr,"mapLabels");function It(e,t,n){function o(i){n==="topDown"&&t(i),i.subs.forEach(u=>{o(u)}),n==="bottomUp"&&t(i)}r(o,"_visit"),o(e)}r(It,"visitTree");function $u(e,t,n,o){let i=t;function u(s){i=n(s,i)}return r(u,"visitor"),It(e,u,o),i}r($u,"foldTree");function xs(e,t,n){let o=r(u=>{if(n!==void 0&&n(u))return u;{let s=u.subs.map(o).filter(a=>a!==void 0);return u.subs=s,t(u)}},"rebuild"),i=o(e);return i!==void 0?i:Is()}r(xs,"rebuildTree");function mI(e){let t=e.split(`
`),n=t.map(l=>l.match(/^\s*/)[0].length),o=t.map(l=>l.trimLeft());function i(l){let[m,g]=u(l+1,n[l]);return[_p(n[l],l,o[l],m),g]}r(i,"parseNode");function u(l,m){let g,_=[],v=l,T;for(;v<o.length&&(o[v]===""||n[v]>m);)if(o[v]==="")T===void 0&&(T=v),v+=1;else{if(T!==void 0){for(let P=T;P<v;P++)_.push(Wu(P));T=void 0}[g,v]=i(v),_.push(g)}return T!==void 0&&(v=T),[_,v]}r(u,"parseSubs");let[s,a]=u(0,-1),c=a;for(;c<o.length&&o[c]==="";)s.push(Wu(c)),c+=1;if(c<o.length)throw new Error(`Parsing did not go to end of file. Ended at ${c} out of ${o.length}`);return Is(s)}r(mI,"parseRaw");function mi(e,t){function n(o){if(Pr(o)){let i=t.find(u=>u.matches(o.sourceLine));i&&(o.label=i.label)}}r(n,"visitor"),It(e,n,"bottomUp")}r(mi,"labelLines");function Ss(e){function t(n){if(kr(n)&&n.label===void 0){let o=n.subs.filter(i=>!ht(i));o.length===1&&(n.label=o[0].label)}}r(t,"visitor"),It(e,t,"bottomUp")}r(Ss,"labelVirtualInherited");function pi(e){return Object.keys(e).map(t=>{let n;return e[t].test?n=r(o=>e[t].test(o),"matches"):n=e[t],{matches:n,label:t}})}r(pi,"buildLabelRules");function Vu(e){let n=xs(e,r(function(o){if(o.subs.length===0||o.subs.findIndex(s=>s.label==="closer"||s.label==="opener")===-1)return o;let i=[],u;for(let s=0;s<o.subs.length;s++){let a=o.subs[s],c=o.subs[s-1];if(a.label==="opener"&&c!==void 0&&Pr(c))c.subs.push(a),a.subs.forEach(l=>c.subs.push(l)),a.subs=[];else if(a.label==="closer"&&u!==void 0&&(Pr(a)||kr(a))&&a.indentation>=u.indentation){let l=i.length-1;for(;l>0&&ht(i[l]);)l-=1;if(u.subs.push(...i.splice(l+1)),a.subs.length>0){let m=u.subs.findIndex(T=>T.label!=="newVirtual"),g=u.subs.slice(0,m),_=u.subs.slice(m),v=_.length>0?[Bu(a.indentation,_,"newVirtual")]:[];u.subs=[...g,...v,a]}else u.subs.push(a)}else i.push(a),ht(a)||(u=a)}return o.subs=i,o},"rebuilder"));return yp(e,o=>o==="newVirtual"),n}r(Vu,"combineClosersAndOpeners");function bp(e,t=ht,n){return xs(e,r(function(i){if(i.subs.length<=1)return i;let u=[],s=[],a,c=!1;function l(m=!1){if(a!==void 0&&(u.length>0||!m)){let g=Bu(a,s,n);u.push(g)}else s.forEach(g=>u.push(g))}r(l,"flushBlockIntoNewSubs");for(let m=0;m<i.subs.length;m++){let g=i.subs[m],_=t(g);!_&&c&&(l(),s=[]),c=_,s.push(g),ht(g)||(a=a!=null?a:g.indentation)}return l(!0),i.subs=u,i},"rebuilder"))}r(bp,"groupBlocks");function Nr(e){return xs(e,r(function(n){return kr(n)&&n.label===void 0&&n.subs.length<=1?n.subs.length===0?void 0:n.subs[0]:(n.subs.length===1&&kr(n.subs[0])&&n.subs[0].label===void 0&&(n.subs=n.subs[0].subs),n)},"rebuilder"))}r(Nr,"flattenVirtual");var pI={opener:/^[[({]/,closer:/^[\])}]/},gI=pi(pI),wp={};function zu(e,t){wp[e]=t}r(zu,"registerLanguageSpecificParser");function gi(e,t){let n=mI(e),o=wp[t!=null?t:""];return o?o(n):(mi(n,gI),Vu(n))}r(gi,"parseTree");var hI={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},_I=pi(hI);function vp(e){let t=e;return mi(t,_I),t=Vu(t),t=Nr(t),Ss(t),It(t,n=>{if(n.label==="class"||n.label==="interface")for(let o of n.subs)!ht(o)&&(o.label===void 0||o.label==="annotation")&&(o.label="member")},"bottomUp"),t}r(vp,"processJava");var yI={heading:/^# /,subheading:/^## /,subsubheading:/### /},bI=pi(yI);function Ip(e){let t=e;if(mi(t,bI),ht(t))return t;function n(u){if(u.label==="heading")return 1;if(u.label==="subheading")return 2;if(u.label==="subsubheading")return 3}r(n,"headingLevel");let o=[t],i=[...t.subs];t.subs=[];for(let u of i){let s=n(u);if(s===void 0||ht(u))o[o.length-1].subs.push(u);else{for(;o.length<s;)o.push(o[o.length-1]);for(o[s-1].subs.push(u),o[s]=u;o.length>s+1;)o.pop()}}return t=bp(t),t=Nr(t),Ss(t),t}r(Ip,"processMarkdown");function xp(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}r(xp,"deparseLine");zu("markdown",Ip);zu("java",vp);var wI={worthUp:.9,worthSibling:.88,worthDown:.8};function Gu(e,t=wI){let n=Mr(e,o=>o?1:void 0);return It(n,o=>{var u;if(ht(o))return;let i=o.subs.reduce((s,a)=>{var c;return Math.max(s,(c=a.label)!=null?c:0)},0);o.label=Math.max((u=o.label)!=null?u:0,i*t.worthUp)},"bottomUp"),It(n,o=>{if(ht(o))return;let i=o.subs.map(a=>{var c;return(c=a.label)!=null?c:0}),u=[...i];for(let a=0;a<i.length;a++)i[a]!==0&&(u=u.map((c,l)=>Math.max(c,Math.pow(t.worthSibling,Math.abs(a-l))*i[a])));let s=o.label;s!==void 0&&(u=u.map(a=>Math.max(a,t.worthDown*s))),o.subs.forEach((a,c)=>a.label=u[c])},"topDown"),vI(n)}r(Gu,"fromTreeWithFocussedLines");function vI(e){let t=$u(e,[],(n,o)=>{var i,u;return(n.type==="line"||n.type==="blank")&&o.push(n.type==="line"?[xp(n).trimEnd(),(i=n.label)!=null?i:0]:["",(u=n.label)!=null?u:0]),o},"topDown");return new Cr(t)}r(vI,"fromTreeWithValuedLines");function Sp(e,t=!0,n=!0){let o=typeof e=="string"?gi(e):gi(e.source,e.languageId);Nr(o);let i=Mr(o,u=>t&&u!=="closer");return It(i,u=>{u.label===void 0&&(u.label=t&&u.label!==!1)},"topDown"),t&&It(i,u=>{if(u.label){let s=!1;for(let a of[...u.subs].reverse())a.label&&!s?s=!0:a.label=!1}else for(let s of u.subs)s.label=!1;u.subs.length>0&&(u.label=!1)},"topDown"),n&&It(i,u=>{u.label||(u.label=(Pr(u)||ht(u))&&u.lineNumber==0)},"topDown"),Gu(i)}r(Sp,"elidableTextForSourceCode");var Ku=class Ku extends Error{constructor(n,o){super(n);this.cause=o;this.code="CopilotPromptLoadFailure"}};r(Ku,"CopilotPromptLoadFailure");var rr=Ku;var so=Wn(jp()),qp=require("fs"),Bp=require("path");var Up=new Map;function _n(e="cl100k_base"){let t=Up.get(e);return t!==void 0||(e==="mock"?t=new lc:t=new cc(e),Up.set(e,t)),t}r(_n,"getTokenizer");function UI(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=(0,qp.readFileSync)(e,"utf-8"),n=new Map;for(let o of t.split(`
`)){if(!o)continue;let i=Buffer.from(o,"base64");n.set(i,n.size)}return n}r(UI,"parseTikTokenNoIndex");var dc=class dc{constructor(t){try{this._tokenizer=(0,so.createTokenizer)(UI((0,Bp.join)(__dirname,`./resources/${t}.tiktoken.noindex`)),(0,so.getSpecialTokensByEncoder)(t),(0,so.getRegexByEncoder)(t),32768)}catch(n){throw n instanceof Error?new rr("Could not load tokenizer",n):n}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(o=>this.detokenize([o]))}takeLastTokens(t,n){if(n<=0)return"";let o=4,i=1,u=Math.min(t.length,n*o),s=t.slice(-u),a=this.tokenize(s);for(;a.length<n+2&&u<t.length;)u=Math.min(t.length,u+n*i),s=t.slice(-u),a=this.tokenize(s);return a.length<n?t:(a=a.slice(-n),this.detokenize(a))}takeFirstTokens(t,n){if(n<=0)return{text:"",tokens:[]};let o=4,i=1,u=Math.min(t.length,n*o),s=t.slice(0,u),a=this.tokenize(s);for(;a.length<n+2&&u<t.length;)u=Math.min(t.length,u+n*i),s=t.slice(0,u),a=this.tokenize(s);return a.length<n?{text:t,tokens:a}:(a=a.slice(0,n),{text:this.detokenize(a),tokens:a})}takeLastLinesTokens(t,n){let o=this.takeLastTokens(t,n);if(o.length===t.length||t[t.length-o.length-1]===`
`)return o;let i=o.indexOf(`
`);return o.substring(i+1)}};r(dc,"TTokenizer");var cc=dc,fc=class fc{constructor(){this.hash=r(t=>{let n=0;for(let o=0;o<t.length;o++){let i=t.charCodeAt(o);n=(n<<5)-n+i,n&=n&65535}return n},"hash")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(n=>n.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,n){return this.tokenizeStrings(t).slice(-n).join("")}takeFirstTokens(t,n){let o=this.tokenizeStrings(t).slice(0,n);return{text:o.join(""),tokens:o.map(this.hash)}}takeLastLinesTokens(t,n){let o=this.takeLastTokens(t,n);if(o.length===t.length||t[t.length-o.length-1]===`
`)return o;let i=o.indexOf(`
`);return o.substring(i+1)}};r(fc,"MockTokenizer");var lc=fc;var Ns=class Ns{constructor(t,n,o=_n().tokenLength(t+`
`),i="strict"){this.text=t;this._value=n;this._cost=o;if(t.includes(`
`)&&i!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(n<0&&i!=="none")throw new Error("LineWithValueAndCost: value is negative");if(o<0&&i!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(i=="strict"&&n>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}recost(t=n=>_n().tokenLength(n+`
`)){return this._cost=t(this.text),this}copy(){return new Ns(this.text,this.value,this.cost,"none")}};r(Ns,"LineWithValueAndCost");var yi=Ns;var Cs=class Cs{constructor(t){this.lines=[];let n=[];for(let o of t){let i=Array.isArray(o)?o[1]:1,u=Array.isArray(o)?o[0]:o;typeof u=="string"?u.split(`
`).forEach(s=>n.push(new yi(s,i))):u instanceof Cs?u.lines.forEach(s=>n.push(s.copy().adjustValue(i))):"source"in u&&"languageId"in u&&Sp(u).lines.forEach(s=>n.push(s.copy().adjustValue(i)))}this.lines=n}adjust(t){this.lines.forEach(n=>n.adjustValue(t))}recost(t=n=>_n().tokenLength(n+`
`)){this.lines.forEach(n=>n.recost(t))}makePrompt(t,n="[...]",o=!0,i="removeLeastDesirable",u=_n()){let s=this.lines.map(a=>a.copy());return qI(s,t,n,o,i,u)}};r(Cs,"ElidableText");var Cr=Cs;function qI(e,t,n,o,i,u){var g,_,v,T,P,j,L,Q,$,Y,z,re,ne;if(u.tokenLength(n+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");i==="removeLeastBangForBuck"&&e.forEach(U=>U.adjustValue(1/U.cost));let s=e.reduce((U,ie)=>Math.max(U,ie.value),0)+1,a=e.reduce((U,ie)=>Math.max(U,ie.text.length),0)+1,c=n.trim(),l=e.reduce((U,ie)=>U+ie.cost,0),m=e.length+1;for(;l>t&&m-->=-1;){let U=e.reduce((q,Z)=>Z.value<q.value?Z:q),ie=e.indexOf(U),nt=(g=e.slice(0,ie+1).reverse().find(q=>q.text.trim()!==""))!=null?g:{text:""},lt=o?Math.min((v=(_=nt.text.match(/^\s*/))==null?void 0:_[0].length)!=null?v:0,((T=e[ie-1])==null?void 0:T.text.trim())===c?(L=(j=(P=e[ie-1])==null?void 0:P.text.match(/^\s*/))==null?void 0:j[0].length)!=null?L:0:a,((Q=e[ie+1])==null?void 0:Q.text.trim())===c?(z=(Y=($=e[ie+1])==null?void 0:$.text.match(/^\s*/))==null?void 0:Y[0].length)!=null?z:0:a):0,Be=" ".repeat(lt)+n,W=new yi(Be,s,u.tokenLength(Be+`
`),"loose");e.splice(ie,1,W),((re=e[ie+1])==null?void 0:re.text.trim())===c&&e.splice(ie+1,1),((ne=e[ie-1])==null?void 0:ne.text.trim())===c&&e.splice(ie-1,1);let M=e.reduce((q,Z)=>q+Z.cost,0);M>=l&&e.every(q=>q.value===s)&&(o=!1),l=M}if(m<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return e.map(U=>U.text).join(`
`)}r(qI,"makePrompt");function yn(){}r(yn,"Diff");yn.prototype={diff:r(function(t,n){var o,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=i.callback;typeof i=="function"&&(u=i,i={});var s=this;function a(Y){return Y=s.postProcess(Y,i),u?(setTimeout(function(){u(Y)},0),!0):Y}r(a,"done"),t=this.castInput(t,i),n=this.castInput(n,i),t=this.removeEmpty(this.tokenize(t,i)),n=this.removeEmpty(this.tokenize(n,i));var c=n.length,l=t.length,m=1,g=c+l;i.maxEditLength!=null&&(g=Math.min(g,i.maxEditLength));var _=(o=i.timeout)!==null&&o!==void 0?o:1/0,v=Date.now()+_,T=[{oldPos:-1,lastComponent:void 0}],P=this.extractCommon(T[0],n,t,0,i);if(T[0].oldPos+1>=l&&P+1>=c)return a(Wp(s,T[0].lastComponent,n,t,s.useLongestToken));var j=-1/0,L=1/0;function Q(){for(var Y=Math.max(j,-m);Y<=Math.min(L,m);Y+=2){var z=void 0,re=T[Y-1],ne=T[Y+1];re&&(T[Y-1]=void 0);var U=!1;if(ne){var ie=ne.oldPos-Y;U=ne&&0<=ie&&ie<c}var nt=re&&re.oldPos+1<l;if(!U&&!nt){T[Y]=void 0;continue}if(!nt||U&&re.oldPos<ne.oldPos?z=s.addToPath(ne,!0,!1,0,i):z=s.addToPath(re,!1,!0,1,i),P=s.extractCommon(z,n,t,Y,i),z.oldPos+1>=l&&P+1>=c)return a(Wp(s,z.lastComponent,n,t,s.useLongestToken));T[Y]=z,z.oldPos+1>=l&&(L=Math.min(L,Y-1)),P+1>=c&&(j=Math.max(j,Y+1))}m++}if(r(Q,"execEditLength"),u)r(function Y(){setTimeout(function(){if(m>g||Date.now()>v)return u();Q()||Y()},0)},"exec")();else for(;m<=g&&Date.now()<=v;){var $=Q();if($)return $}},"diff"),addToPath:r(function(t,n,o,i,u){var s=t.lastComponent;return s&&!u.oneChangePerToken&&s.added===n&&s.removed===o?{oldPos:t.oldPos+i,lastComponent:{count:s.count+1,added:n,removed:o,previousComponent:s.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:n,removed:o,previousComponent:s}}},"addToPath"),extractCommon:r(function(t,n,o,i,u){for(var s=n.length,a=o.length,c=t.oldPos,l=c-i,m=0;l+1<s&&c+1<a&&this.equals(o[c+1],n[l+1],u);)l++,c++,m++,u.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return m&&!u.oneChangePerToken&&(t.lastComponent={count:m,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=c,l},"extractCommon"),equals:r(function(t,n,o){return o.comparator?o.comparator(t,n):t===n||o.ignoreCase&&t.toLowerCase()===n.toLowerCase()},"equals"),removeEmpty:r(function(t){for(var n=[],o=0;o<t.length;o++)t[o]&&n.push(t[o]);return n},"removeEmpty"),castInput:r(function(t){return t},"castInput"),tokenize:r(function(t){return Array.from(t)},"tokenize"),join:r(function(t){return t.join("")},"join"),postProcess:r(function(t){return t},"postProcess")};function Wp(e,t,n,o,i){for(var u=[],s;t;)u.push(t),s=t.previousComponent,delete t.previousComponent,t=s;u.reverse();for(var a=0,c=u.length,l=0,m=0;a<c;a++){var g=u[a];if(g.removed)g.value=e.join(o.slice(m,m+g.count)),m+=g.count;else{if(!g.added&&i){var _=n.slice(l,l+g.count);_=_.map(function(v,T){var P=o[m+T];return P.length>v.length?P:v}),g.value=e.join(_)}else g.value=e.join(n.slice(l,l+g.count));l+=g.count,g.added||(m+=g.count)}}return u}r(Wp,"buildValues");var jM=new yn;function $p(e,t){var n;for(n=0;n<e.length&&n<t.length;n++)if(e[n]!=t[n])return e.slice(0,n);return e.slice(0,n)}r($p,"longestCommonPrefix");function Vp(e,t){var n;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(n=0;n<e.length&&n<t.length;n++)if(e[e.length-(n+1)]!=t[t.length-(n+1)])return e.slice(-n);return e.slice(-n)}r(Vp,"longestCommonSuffix");function mc(e,t,n){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return n+e.slice(t.length)}r(mc,"replacePrefix");function pc(e,t,n){if(!t)return e+n;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+n}r(pc,"replaceSuffix");function bi(e,t){return mc(e,t,"")}r(bi,"removePrefix");function Ls(e,t){return pc(e,t,"")}r(Ls,"removeSuffix");function zp(e,t){return t.slice(0,BI(e,t))}r(zp,"maximumOverlap");function BI(e,t){var n=0;e.length>t.length&&(n=e.length-t.length);var o=t.length;e.length<t.length&&(o=e.length);var i=Array(o),u=0;i[0]=0;for(var s=1;s<o;s++){for(t[s]==t[u]?i[s]=i[u]:i[s]=u;u>0&&t[s]!=t[u];)u=i[u];t[s]==t[u]&&u++}u=0;for(var a=n;a<e.length;a++){for(;u>0&&e[a]!=t[u];)u=i[u];e[a]==t[u]&&u++}return u}r(BI,"overlapCount");var Os="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",WI=new RegExp("[".concat(Os,"]+|\\s+|[^").concat(Os,"]"),"ug"),Fs=new yn;Fs.equals=function(e,t,n){return n.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};Fs.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');n=Array.from(t.intlSegmenter.segment(e),function(u){return u.segment})}else n=e.match(WI)||[];var o=[],i=null;return n.forEach(function(u){/\s/.test(u)?i==null?o.push(u):o.push(o.pop()+u):/\s/.test(i)?o[o.length-1]==i?o.push(o.pop()+u):o.push(i+u):o.push(u),i=u}),o};Fs.join=function(e){return e.map(function(t,n){return n==0?t:t.replace(/^\s+/,"")}).join("")};Fs.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var n=null,o=null,i=null;return e.forEach(function(u){u.added?o=u:u.removed?i=u:((o||i)&&Gp(n,i,o,u),n=u,o=null,i=null)}),(o||i)&&Gp(n,i,o,null),e};function Gp(e,t,n,o){if(t&&n){var i=t.value.match(/^\s*/)[0],u=t.value.match(/\s*$/)[0],s=n.value.match(/^\s*/)[0],a=n.value.match(/\s*$/)[0];if(e){var c=$p(i,s);e.value=pc(e.value,s,c),t.value=bi(t.value,c),n.value=bi(n.value,c)}if(o){var l=Vp(u,a);o.value=mc(o.value,a,l),t.value=Ls(t.value,l),n.value=Ls(n.value,l)}}else if(n)e&&(n.value=n.value.replace(/^\s*/,"")),o&&(o.value=o.value.replace(/^\s*/,""));else if(e&&o){var m=o.value.match(/^\s*/)[0],g=t.value.match(/^\s*/)[0],_=t.value.match(/\s*$/)[0],v=$p(m,g);t.value=bi(t.value,v);var T=Vp(bi(m,v),_);t.value=Ls(t.value,T),o.value=mc(o.value,m,T),e.value=pc(e.value,m,m.slice(0,m.length-T.length))}else if(o){var P=o.value.match(/^\s*/)[0],j=t.value.match(/\s*$/)[0],L=zp(j,P);t.value=Ls(t.value,L)}else if(e){var Q=e.value.match(/\s*$/)[0],$=t.value.match(/^\s*/)[0],Y=zp(Q,$);t.value=bi(t.value,Y)}}r(Gp,"dedupeWhitespaceInChangeObjects");var $I=new yn;$I.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(Os,"]+|[^\\S\\n\\r]+|[^").concat(Os,"]"),"ug");return e.match(t)||[]};var yc=new yn;yc.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var n=[],o=e.split(/(\n|\r\n)/);o[o.length-1]||o.pop();for(var i=0;i<o.length;i++){var u=o[i];i%2&&!t.newlineIsToken?n[n.length-1]+=u:n.push(u)}return n};yc.equals=function(e,t,n){return n.ignoreWhitespace?((!n.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!n.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):n.ignoreNewlineAtEof&&!n.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),yn.prototype.equals.call(this,e,t,n)};var VI=new yn;VI.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var zI=new yn;zI.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}r(gc,"_typeof");var wi=new yn;wi.useLongestToken=!0;wi.tokenize=yc.tokenize;wi.castInput=function(e,t){var n=t.undefinedReplacement,o=t.stringifyReplacer,i=o===void 0?function(u,s){return typeof s>"u"?n:s}:o;return typeof e=="string"?e:JSON.stringify(hc(e,null,null,i),i,"  ")};wi.equals=function(e,t,n){return yn.prototype.equals.call(wi,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),n)};function hc(e,t,n,o,i){t=t||[],n=n||[],o&&(e=o(i,e));var u;for(u=0;u<t.length;u+=1)if(t[u]===e)return n[u];var s;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),s=new Array(e.length),n.push(s),u=0;u<e.length;u+=1)s[u]=hc(e[u],t,n,o,i);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),gc(e)==="object"&&e!==null){t.push(e),s={},n.push(s);var a=[],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&a.push(c);for(a.sort(),u=0;u<a.length;u+=1)c=a[u],s[c]=hc(e[c],t,n,o,c);t.pop(),n.pop()}else s=e;return s}r(hc,"canonicalize");var _c=new yn;_c.tokenize=function(e){return e.slice()};_c.join=_c.removeEmpty=function(e){return e};var HI={tokenizerName:"cl100k_base"};function ZI(e){return{...HI,...e}}r(ZI,"cursorContextOptions");function ao(e,t={}){let n=ZI(t),o=_n(n.tokenizerName);if(n.maxLineCount!==void 0&&n.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(n.maxTokenLength!==void 0&&n.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(n.maxLineCount===0||n.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:n.tokenizerName};let i=e.source.slice(0,e.offset);return n.maxLineCount!==void 0&&(i=i.split(`
`).slice(-n.maxLineCount).join(`
`)),n.maxTokenLength!==void 0&&(i=o.takeLastLinesTokens(i,n.maxTokenLength)),{context:i,lineCount:i.split(`
`).length,tokenLength:o.tokenLength(i),tokenizerName:n.tokenizerName}}r(ao,"getCursorContext");var vc=class vc{constructor(t){this.keys=[];this.cache={};this.size=t}put(t,n){var o;if(this.cache[t]=n,this.keys.length>this.size){this.keys.push(t);let i=(o=this.keys.shift())!=null?o:"";delete this.cache[i]}}get(t){return this.cache[t]}};r(vc,"FifoCache");var bc=vc;var Ic=class Ic{constructor(t){var n;this.stopsForLanguage=(n=YI.get(t.languageId))!=null?n:XI}tokenize(t){return new Set(QI(t).filter(n=>!this.stopsForLanguage.has(n)))}};r(Ic,"Tokenizer");var wc=Ic,Kp=new bc(20),xc=class xc{constructor(t){this.referenceDoc=t,this.tokenizer=new wc(t)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){var t;return(t=this.referenceTokensCache)!=null?t:this.referenceTokensCache=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,n="descending"){return n=="ascending"?t.sort((o,i)=>o.score>i.score?1:-1):n=="descending"?t.sort((o,i)=>o.score>i.score?-1:1):t}async retrieveAllSnippets(t,n="descending"){var l;let o=[];if(t.source.length===0||(await this.referenceTokens).size===0)return o;let i=t.source.split(`
`),u=this.id()+":"+t.source,s=(l=Kp.get(u))!=null?l:[],a=s.length==0,c=a?i.map(m=>this.tokenizer.tokenize(m),this.tokenizer):[];for(let[m,[g,_]]of this.getWindowsDelineations(i).entries()){if(a){let P=new Set;c.slice(g,_).forEach(j=>j.forEach(L=>P.add(L),P)),s.push(P)}let v=s[m],T=this.similarityScore(v,await this.referenceTokens);if(o.length&&g>0&&o[o.length-1].endLine>g){o[o.length-1].score<T&&(o[o.length-1].score=T,o[o.length-1].startLine=g,o[o.length-1].endLine=_);continue}o.push({score:T,startLine:g,endLine:_})}return a&&Kp.put(u,s),this.sortScoredSnippets(o,n)}findMatches(t,n){return this.findBestMatch(t,n)}async findBestMatch(t,n){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let o=t.source.split(`
`),i=await this.retrieveAllSnippets(t,"descending");if(i.length===0)return[];let u=[];for(let s=0;s<i.length&&s<n;s++)if(i[s].score!==0){let a=o.slice(i[s].startLine,i[s].endLine).join(`
`);u.push({snippet:a,semantics:"snippet",provider:"similar-files",...i[s]})}return u}};r(xc,"WindowedMatcher");var uo=xc;function QI(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}r(QI,"splitIntoWords");var JI=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),XI=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...JI]),YI=new Map([]);function As(e,t){let n=[],o=t.length;if(o==0)return[];if(o<e)return[[0,o]];for(let i=0;i<o-e+1;i++)n.push([i,i+e]);return n}r(As,"getBasicWindowDelineations");var vi=class vi extends uo{constructor(t,n){super(t),this.windowLength=n}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return As(this.windowLength,t)}_getCursorContextInfo(t){return ao(t,{maxLineCount:this.windowLength})}similarityScore(t,n){return ex(t,n)}};r(vi,"FixedWindowSizeJaccardMatcher"),vi.FACTORY=r(t=>({to:r(n=>new vi(n,t),"to")}),"FACTORY");var Ds=vi;function ex(e,t){let n=new Set;return e.forEach(o=>{t.has(o)&&n.add(o)}),n.size/(e.size+t.size-n.size)}r(ex,"computeScore");var Qp=require("fs"),js=Wn(require("path")),Us=Wn(Hp());var Zp={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java"};function Jp(e){if(!(e in Zp))throw new Error(`Unrecognized language: ${e}`);return Zp[e]}r(Jp,"languageIdToWasmLanguage");var Sc=new Map;async function tx(e){let t,n=js.default.resolve(js.default.extname(__filename)!==".ts"?__dirname:js.default.resolve(__dirname,"../../dist"),`tree-sitter-${e}.wasm`);try{t=await Qp.promises.readFile(n)}catch(o){throw o instanceof Error&&"code"in o&&typeof o.code=="string"&&o.name==="Error"?new rr(`Could not load tree-sitter-${e}.wasm`,o):o}return Us.default.Language.load(t)}r(tx,"loadWasmLanguage");function nx(e){let t=Jp(e);if(!Sc.has(t)){let n=tx(t);Sc.set(t,n)}return Sc.get(t)}r(nx,"getLanguage");var Ec=class Ec extends Error{constructor(n,o){super(n);this.cause=o}};r(Ec,"WrappedError");var Tc=Ec;async function Lr(e,t){await Us.default.init();let n;try{n=new Us.default}catch(u){throw u&&typeof u=="object"&&"message"in u&&typeof u.message=="string"&&u.message.includes("table index is out of bounds")?new Tc(`Could not init Parse for language <${e}>`,u):u}let o=await nx(e);n.setLanguage(o);let i=n.parse(t);return n.delete(),i}r(Lr,"parseTreeSitter");function rx(e,t){let n=[];for(let o of e){if(!o[1]){let i=t.tree.getLanguage();o[1]=i.query(o[0])}n.push(...o[1].matches(t))}return n}r(rx,"innerQuery");var ox=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function Xp(e){return rx([ox],e).length==1}r(Xp,"queryPythonIsDocstring");var ir=class ir extends uo{constructor(t,n){super(t),this.windowLength=n}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return As(this.windowLength,t)}_getCursorContextInfo(t){return ao(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=ir.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){var i;let t=(i=await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))==null?void 0:i.startIndex,n=this.referenceDoc.offset,o=t?this.referenceDoc.source.slice(t,n):ao(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(o)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,n){return ix(t,n)}async getEnclosingMemberStart(t,n){var i;let o;try{o=await Lr(this.referenceDoc.languageId,t);let u=o.rootNode.namedDescendantForIndex(n);for(;u&&!(ir.isMember(u)||ir.isBlock(u));)u=(i=u.parent)!=null?i:void 0;return u}finally{o==null||o.delete()}}static isMember(t){switch(t==null?void 0:t.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t==null?void 0:t.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};r(ir,"BlockTokenSubsetMatcher"),ir.FACTORY=r(t=>({to:r(n=>new ir(n,t),"to")}),"FACTORY");var qs=ir;function ix(e,t){let n=new Set;return t.forEach(o=>{e.has(o)&&n.add(o)}),n.size}r(ix,"computeScore");function sx(e,t){return(t.useSubsetMatching?qs.FACTORY(t.snippetLength):Ds.FACTORY(t.snippetLength)).to(e)}r(sx,"getMatcher");async function Yp(e,t,n){let o=sx(e,n);return n.maxTopSnippets===0?[]:(await t.filter(u=>u.source.length<n.maxCharPerFile&&u.source.length>0).slice(0,n.maxNumberOfFiles).reduce(async(u,s)=>(await u).concat((await o.findMatches(s,n.maxSnippetsPerFile)).map(a=>({relativePath:s.relativePath,...a}))),Promise.resolve([]))).filter(u=>u.score&&u.snippet&&u.score>n.threshold).sort((u,s)=>u.score-s.score).slice(-n.maxTopSnippets)}r(Yp,"getSimilarSnippets");var xt={};Su(xt,{HasPropertyKey:()=>Bs,IsArray:()=>et,IsAsyncIterator:()=>Pc,IsBigInt:()=>Ii,IsBoolean:()=>zn,IsDate:()=>Or,IsFunction:()=>kc,IsIterator:()=>Mc,IsNull:()=>Nc,IsNumber:()=>Zt,IsObject:()=>Re,IsRegExp:()=>xi,IsString:()=>Ne,IsSymbol:()=>Cc,IsUint8Array:()=>Gn,IsUndefined:()=>dt});function Bs(e,t){return t in e}r(Bs,"HasPropertyKey");function Pc(e){return Re(e)&&!et(e)&&!Gn(e)&&Symbol.asyncIterator in e}r(Pc,"IsAsyncIterator");function et(e){return Array.isArray(e)}r(et,"IsArray");function Ii(e){return typeof e=="bigint"}r(Ii,"IsBigInt");function zn(e){return typeof e=="boolean"}r(zn,"IsBoolean");function Or(e){return e instanceof globalThis.Date}r(Or,"IsDate");function kc(e){return typeof e=="function"}r(kc,"IsFunction");function Mc(e){return Re(e)&&!et(e)&&!Gn(e)&&Symbol.iterator in e}r(Mc,"IsIterator");function Nc(e){return e===null}r(Nc,"IsNull");function Zt(e){return typeof e=="number"}r(Zt,"IsNumber");function Re(e){return typeof e=="object"&&e!==null}r(Re,"IsObject");function xi(e){return e instanceof globalThis.RegExp}r(xi,"IsRegExp");function Ne(e){return typeof e=="string"}r(Ne,"IsString");function Cc(e){return typeof e=="symbol"}r(Cc,"IsSymbol");function Gn(e){return e instanceof globalThis.Uint8Array}r(Gn,"IsUint8Array");function dt(e){return e===void 0}r(dt,"IsUndefined");function ux(e){return e.map(t=>Ws(t))}r(ux,"ArrayType");function cx(e){return new Date(e.getTime())}r(cx,"DateType");function lx(e){return new Uint8Array(e)}r(lx,"Uint8ArrayType");function dx(e){return new RegExp(e.source,e.flags)}r(dx,"RegExpType");function fx(e){let t={};for(let n of Object.getOwnPropertyNames(e))t[n]=Ws(e[n]);for(let n of Object.getOwnPropertySymbols(e))t[n]=Ws(e[n]);return t}r(fx,"ObjectType");function Ws(e){return et(e)?ux(e):Or(e)?cx(e):Gn(e)?lx(e):xi(e)?dx(e):Re(e)?fx(e):e}r(Ws,"Visit");function De(e){return Ws(e)}r(De,"Clone");function eg(e,t){return t===void 0?De(e):De({...t,...e})}r(eg,"CloneType");function tg(e){return e!==null&&typeof e=="object"}r(tg,"IsObject");function ng(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}r(ng,"IsArray");function rg(e){return e===void 0}r(rg,"IsUndefined");function og(e){return typeof e=="number"}r(og,"IsNumber");var $s;(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(s,a){return e.ExactOptionalPropertyTypes?a in s:s[a]!==void 0}r(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function n(s){let a=tg(s);return e.AllowArrayObject?a:a&&!ng(s)}r(n,"IsObjectLike"),e.IsObjectLike=n;function o(s){return n(s)&&!(s instanceof Date)&&!(s instanceof Uint8Array)}r(o,"IsRecordLike"),e.IsRecordLike=o;function i(s){return e.AllowNaN?og(s):Number.isFinite(s)}r(i,"IsNumberLike"),e.IsNumberLike=i;function u(s){let a=rg(s);return e.AllowNullVoid?a||s===null:a}r(u,"IsVoidLike"),e.IsVoidLike=u})($s||($s={}));function mx(e){return globalThis.Object.freeze(e).map(t=>Si(t))}r(mx,"ImmutableArray");function px(e){let t={};for(let n of Object.getOwnPropertyNames(e))t[n]=Si(e[n]);for(let n of Object.getOwnPropertySymbols(e))t[n]=Si(e[n]);return globalThis.Object.freeze(t)}r(px,"ImmutableObject");function Si(e){return et(e)?mx(e):Or(e)?e:Gn(e)?e:xi(e)?e:Re(e)?px(e):e}r(Si,"Immutable");function R(e,t){let n=t!==void 0?{...t,...e}:e;switch($s.InstanceMode){case"freeze":return Si(n);case"clone":return De(n);default:return n}}r(R,"CreateType");var Lc=class Lc extends Error{constructor(t){super(t)}};r(Lc,"TypeBoxError");var mt=Lc;var _t=Symbol.for("TypeBox.Transform"),bn=Symbol.for("TypeBox.Readonly"),yt=Symbol.for("TypeBox.Optional"),Qt=Symbol.for("TypeBox.Hint"),B=Symbol.for("TypeBox.Kind");function Vs(e){return Re(e)&&e[bn]==="Readonly"}r(Vs,"IsReadonly");function Jt(e){return Re(e)&&e[yt]==="Optional"}r(Jt,"IsOptional");function Oc(e){return pe(e,"Any")}r(Oc,"IsAny");function Kn(e){return pe(e,"Array")}r(Kn,"IsArray");function Ti(e){return pe(e,"AsyncIterator")}r(Ti,"IsAsyncIterator");function Fc(e){return pe(e,"BigInt")}r(Fc,"IsBigInt");function Ac(e){return pe(e,"Boolean")}r(Ac,"IsBoolean");function Ct(e){return pe(e,"Computed")}r(Ct,"IsComputed");function Ei(e){return pe(e,"Constructor")}r(Ei,"IsConstructor");function gx(e){return pe(e,"Date")}r(gx,"IsDate");function Ri(e){return pe(e,"Function")}r(Ri,"IsFunction");function Fr(e){return pe(e,"Integer")}r(Fr,"IsInteger");function tt(e){return pe(e,"Intersect")}r(tt,"IsIntersect");function Pi(e){return pe(e,"Iterator")}r(Pi,"IsIterator");function pe(e,t){return Re(e)&&B in e&&e[B]===t}r(pe,"IsKindOf");function zs(e){return zn(e)||Zt(e)||Ne(e)}r(zs,"IsLiteralValue");function Hn(e){return pe(e,"Literal")}r(Hn,"IsLiteral");function Wt(e){return pe(e,"MappedKey")}r(Wt,"IsMappedKey");function je(e){return pe(e,"MappedResult")}r(je,"IsMappedResult");function sr(e){return pe(e,"Never")}r(sr,"IsNever");function hx(e){return pe(e,"Not")}r(hx,"IsNot");function _x(e){return pe(e,"Null")}r(_x,"IsNull");function Ar(e){return pe(e,"Number")}r(Ar,"IsNumber");function ft(e){return pe(e,"Object")}r(ft,"IsObject");function ki(e){return pe(e,"Promise")}r(ki,"IsPromise");function Dc(e){return pe(e,"Record")}r(Dc,"IsRecord");function Ge(e){return pe(e,"Ref")}r(Ge,"IsRef");function jc(e){return pe(e,"RegExp")}r(jc,"IsRegExp");function Mi(e){return pe(e,"String")}r(Mi,"IsString");function yx(e){return pe(e,"Symbol")}r(yx,"IsSymbol");function $t(e){return pe(e,"TemplateLiteral")}r($t,"IsTemplateLiteral");function bx(e){return pe(e,"This")}r(bx,"IsThis");function lo(e){return Re(e)&&_t in e}r(lo,"IsTransform");function wn(e){return pe(e,"Tuple")}r(wn,"IsTuple");function wx(e){return pe(e,"Undefined")}r(wx,"IsUndefined");function ye(e){return pe(e,"Union")}r(ye,"IsUnion");function vx(e){return pe(e,"Uint8Array")}r(vx,"IsUint8Array");function Ix(e){return pe(e,"Unknown")}r(Ix,"IsUnknown");function xx(e){return pe(e,"Unsafe")}r(xx,"IsUnsafe");function Sx(e){return pe(e,"Void")}r(Sx,"IsVoid");function Tx(e){return Re(e)&&B in e&&Ne(e[B])}r(Tx,"IsKind");function Vt(e){return Oc(e)||Kn(e)||Ac(e)||Fc(e)||Ti(e)||Ct(e)||Ei(e)||gx(e)||Ri(e)||Fr(e)||tt(e)||Pi(e)||Hn(e)||Wt(e)||je(e)||sr(e)||hx(e)||_x(e)||Ar(e)||ft(e)||ki(e)||Dc(e)||Ge(e)||jc(e)||Mi(e)||yx(e)||$t(e)||bx(e)||wn(e)||wx(e)||ye(e)||vx(e)||Ix(e)||xx(e)||Sx(e)||Tx(e)}r(Vt,"IsSchema");var I={};Su(I,{IsAny:()=>ug,IsArray:()=>cg,IsAsyncIterator:()=>lg,IsBigInt:()=>dg,IsBoolean:()=>fg,IsComputed:()=>mg,IsConstructor:()=>pg,IsDate:()=>gg,IsFunction:()=>hg,IsImport:()=>Cx,IsInteger:()=>_g,IsIntersect:()=>yg,IsIterator:()=>bg,IsKind:()=>zg,IsKindOf:()=>de,IsLiteral:()=>Ci,IsLiteralBoolean:()=>Lx,IsLiteralNumber:()=>vg,IsLiteralString:()=>wg,IsLiteralValue:()=>Ig,IsMappedKey:()=>xg,IsMappedResult:()=>Sg,IsNever:()=>Tg,IsNot:()=>Eg,IsNull:()=>Rg,IsNumber:()=>Pg,IsObject:()=>kg,IsOptional:()=>Nx,IsPromise:()=>Mg,IsProperties:()=>Gs,IsReadonly:()=>Mx,IsRecord:()=>Ng,IsRecursive:()=>Ox,IsRef:()=>Cg,IsRegExp:()=>Lg,IsSchema:()=>pt,IsString:()=>Og,IsSymbol:()=>Fg,IsTemplateLiteral:()=>Ag,IsThis:()=>Dg,IsTransform:()=>jg,IsTuple:()=>Ug,IsUint8Array:()=>Bg,IsUndefined:()=>qg,IsUnion:()=>Wc,IsUnionLiteral:()=>Fx,IsUnknown:()=>Wg,IsUnsafe:()=>$g,IsVoid:()=>Vg,TypeGuardUnknownTypeError:()=>Uc});var $c=class $c extends mt{};r($c,"TypeGuardUnknownTypeError");var Uc=$c,Rx=["Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function ig(e){try{return new RegExp(e),!0}catch{return!1}}r(ig,"IsPattern");function qc(e){if(!Ne(e))return!1;for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n>=7&&n<=13||n===27||n===127)return!1}return!0}r(qc,"IsControlCharacterFree");function sg(e){return Bc(e)||pt(e)}r(sg,"IsAdditionalProperties");function Ni(e){return dt(e)||Ii(e)}r(Ni,"IsOptionalBigInt");function Ce(e){return dt(e)||Zt(e)}r(Ce,"IsOptionalNumber");function Bc(e){return dt(e)||zn(e)}r(Bc,"IsOptionalBoolean");function Pe(e){return dt(e)||Ne(e)}r(Pe,"IsOptionalString");function Px(e){return dt(e)||Ne(e)&&qc(e)&&ig(e)}r(Px,"IsOptionalPattern");function kx(e){return dt(e)||Ne(e)&&qc(e)}r(kx,"IsOptionalFormat");function ag(e){return dt(e)||pt(e)}r(ag,"IsOptionalSchema");function Mx(e){return Re(e)&&e[bn]==="Readonly"}r(Mx,"IsReadonly");function Nx(e){return Re(e)&&e[yt]==="Optional"}r(Nx,"IsOptional");function ug(e){return de(e,"Any")&&Pe(e.$id)}r(ug,"IsAny");function cg(e){return de(e,"Array")&&e.type==="array"&&Pe(e.$id)&&pt(e.items)&&Ce(e.minItems)&&Ce(e.maxItems)&&Bc(e.uniqueItems)&&ag(e.contains)&&Ce(e.minContains)&&Ce(e.maxContains)}r(cg,"IsArray");function lg(e){return de(e,"AsyncIterator")&&e.type==="AsyncIterator"&&Pe(e.$id)&&pt(e.items)}r(lg,"IsAsyncIterator");function dg(e){return de(e,"BigInt")&&e.type==="bigint"&&Pe(e.$id)&&Ni(e.exclusiveMaximum)&&Ni(e.exclusiveMinimum)&&Ni(e.maximum)&&Ni(e.minimum)&&Ni(e.multipleOf)}r(dg,"IsBigInt");function fg(e){return de(e,"Boolean")&&e.type==="boolean"&&Pe(e.$id)}r(fg,"IsBoolean");function mg(e){return de(e,"Computed")&&Ne(e.target)&&et(e.parameters)&&e.parameters.every(t=>pt(t))}r(mg,"IsComputed");function pg(e){return de(e,"Constructor")&&e.type==="Constructor"&&Pe(e.$id)&&et(e.parameters)&&e.parameters.every(t=>pt(t))&&pt(e.returns)}r(pg,"IsConstructor");function gg(e){return de(e,"Date")&&e.type==="Date"&&Pe(e.$id)&&Ce(e.exclusiveMaximumTimestamp)&&Ce(e.exclusiveMinimumTimestamp)&&Ce(e.maximumTimestamp)&&Ce(e.minimumTimestamp)&&Ce(e.multipleOfTimestamp)}r(gg,"IsDate");function hg(e){return de(e,"Function")&&e.type==="Function"&&Pe(e.$id)&&et(e.parameters)&&e.parameters.every(t=>pt(t))&&pt(e.returns)}r(hg,"IsFunction");function Cx(e){return de(e,"Import")&&Bs(e,"$defs")&&Re(e.$defs)&&Gs(e.$defs)&&Bs(e,"$ref")&&Ne(e.$ref)&&e.$ref in e.$defs}r(Cx,"IsImport");function _g(e){return de(e,"Integer")&&e.type==="integer"&&Pe(e.$id)&&Ce(e.exclusiveMaximum)&&Ce(e.exclusiveMinimum)&&Ce(e.maximum)&&Ce(e.minimum)&&Ce(e.multipleOf)}r(_g,"IsInteger");function Gs(e){return Re(e)&&Object.entries(e).every(([t,n])=>qc(t)&&pt(n))}r(Gs,"IsProperties");function yg(e){return de(e,"Intersect")&&!(Ne(e.type)&&e.type!=="object")&&et(e.allOf)&&e.allOf.every(t=>pt(t)&&!jg(t))&&Pe(e.type)&&(Bc(e.unevaluatedProperties)||ag(e.unevaluatedProperties))&&Pe(e.$id)}r(yg,"IsIntersect");function bg(e){return de(e,"Iterator")&&e.type==="Iterator"&&Pe(e.$id)&&pt(e.items)}r(bg,"IsIterator");function de(e,t){return Re(e)&&B in e&&e[B]===t}r(de,"IsKindOf");function wg(e){return Ci(e)&&Ne(e.const)}r(wg,"IsLiteralString");function vg(e){return Ci(e)&&Zt(e.const)}r(vg,"IsLiteralNumber");function Lx(e){return Ci(e)&&zn(e.const)}r(Lx,"IsLiteralBoolean");function Ci(e){return de(e,"Literal")&&Pe(e.$id)&&Ig(e.const)}r(Ci,"IsLiteral");function Ig(e){return zn(e)||Zt(e)||Ne(e)}r(Ig,"IsLiteralValue");function xg(e){return de(e,"MappedKey")&&et(e.keys)&&e.keys.every(t=>Zt(t)||Ne(t))}r(xg,"IsMappedKey");function Sg(e){return de(e,"MappedResult")&&Gs(e.properties)}r(Sg,"IsMappedResult");function Tg(e){return de(e,"Never")&&Re(e.not)&&Object.getOwnPropertyNames(e.not).length===0}r(Tg,"IsNever");function Eg(e){return de(e,"Not")&&pt(e.not)}r(Eg,"IsNot");function Rg(e){return de(e,"Null")&&e.type==="null"&&Pe(e.$id)}r(Rg,"IsNull");function Pg(e){return de(e,"Number")&&e.type==="number"&&Pe(e.$id)&&Ce(e.exclusiveMaximum)&&Ce(e.exclusiveMinimum)&&Ce(e.maximum)&&Ce(e.minimum)&&Ce(e.multipleOf)}r(Pg,"IsNumber");function kg(e){return de(e,"Object")&&e.type==="object"&&Pe(e.$id)&&Gs(e.properties)&&sg(e.additionalProperties)&&Ce(e.minProperties)&&Ce(e.maxProperties)}r(kg,"IsObject");function Mg(e){return de(e,"Promise")&&e.type==="Promise"&&Pe(e.$id)&&pt(e.item)}r(Mg,"IsPromise");function Ng(e){return de(e,"Record")&&e.type==="object"&&Pe(e.$id)&&sg(e.additionalProperties)&&Re(e.patternProperties)&&(t=>{let n=Object.getOwnPropertyNames(t.patternProperties);return n.length===1&&ig(n[0])&&Re(t.patternProperties)&&pt(t.patternProperties[n[0]])})(e)}r(Ng,"IsRecord");function Ox(e){return Re(e)&&Qt in e&&e[Qt]==="Recursive"}r(Ox,"IsRecursive");function Cg(e){return de(e,"Ref")&&Pe(e.$id)&&Ne(e.$ref)}r(Cg,"IsRef");function Lg(e){return de(e,"RegExp")&&Pe(e.$id)&&Ne(e.source)&&Ne(e.flags)&&Ce(e.maxLength)&&Ce(e.minLength)}r(Lg,"IsRegExp");function Og(e){return de(e,"String")&&e.type==="string"&&Pe(e.$id)&&Ce(e.minLength)&&Ce(e.maxLength)&&Px(e.pattern)&&kx(e.format)}r(Og,"IsString");function Fg(e){return de(e,"Symbol")&&e.type==="symbol"&&Pe(e.$id)}r(Fg,"IsSymbol");function Ag(e){return de(e,"TemplateLiteral")&&e.type==="string"&&Ne(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}r(Ag,"IsTemplateLiteral");function Dg(e){return de(e,"This")&&Pe(e.$id)&&Ne(e.$ref)}r(Dg,"IsThis");function jg(e){return Re(e)&&_t in e}r(jg,"IsTransform");function Ug(e){return de(e,"Tuple")&&e.type==="array"&&Pe(e.$id)&&Zt(e.minItems)&&Zt(e.maxItems)&&e.minItems===e.maxItems&&(dt(e.items)&&dt(e.additionalItems)&&e.minItems===0||et(e.items)&&e.items.every(t=>pt(t)))}r(Ug,"IsTuple");function qg(e){return de(e,"Undefined")&&e.type==="undefined"&&Pe(e.$id)}r(qg,"IsUndefined");function Fx(e){return Wc(e)&&e.anyOf.every(t=>wg(t)||vg(t))}r(Fx,"IsUnionLiteral");function Wc(e){return de(e,"Union")&&Pe(e.$id)&&Re(e)&&et(e.anyOf)&&e.anyOf.every(t=>pt(t))}r(Wc,"IsUnion");function Bg(e){return de(e,"Uint8Array")&&e.type==="Uint8Array"&&Pe(e.$id)&&Ce(e.minByteLength)&&Ce(e.maxByteLength)}r(Bg,"IsUint8Array");function Wg(e){return de(e,"Unknown")&&Pe(e.$id)}r(Wg,"IsUnknown");function $g(e){return de(e,"Unsafe")}r($g,"IsUnsafe");function Vg(e){return de(e,"Void")&&e.type==="void"&&Pe(e.$id)}r(Vg,"IsVoid");function zg(e){return Re(e)&&B in e&&Ne(e[B])&&!Rx.includes(e[B])}r(zg,"IsKind");function pt(e){return Re(e)&&(ug(e)||cg(e)||fg(e)||dg(e)||lg(e)||mg(e)||pg(e)||gg(e)||hg(e)||_g(e)||yg(e)||bg(e)||Ci(e)||xg(e)||Sg(e)||Tg(e)||Eg(e)||Rg(e)||Pg(e)||kg(e)||Mg(e)||Ng(e)||Cg(e)||Lg(e)||Og(e)||Fg(e)||Ag(e)||Dg(e)||Ug(e)||qg(e)||Wc(e)||Bg(e)||Wg(e)||$g(e)||Vg(e)||zg(e))}r(pt,"IsSchema");var Vc="(true|false)",Li="(0|[1-9][0-9]*)",zc="(.*)",Ax="(?!.*)",hC=`^${Vc}$`,Dr=`^${Li}$`,jr=`^${zc}$`,Gg=`^${Ax}$`;function Kg(e,t){return e.includes(t)}r(Kg,"SetIncludes");function Hg(e){return[...new Set(e)]}r(Hg,"SetDistinct");function Dx(e,t){return e.filter(n=>t.includes(n))}r(Dx,"SetIntersect");function jx(e,t){return e.reduce((n,o)=>Dx(n,o),t)}r(jx,"SetIntersectManyResolve");function Zg(e){return e.length===1?e[0]:e.length>1?jx(e.slice(1),e[0]):[]}r(Zg,"SetIntersectMany");function Qg(e){let t=[];for(let n of e)t.push(...n);return t}r(Qg,"SetUnionMany");function ar(e){return R({[B]:"Any"},e)}r(ar,"Any");function fo(e,t){return R({[B]:"Array",type:"array",items:e},t)}r(fo,"Array");function mo(e,t){return R({[B]:"AsyncIterator",type:"AsyncIterator",items:e},t)}r(mo,"AsyncIterator");function be(e,t,n){return R({[B]:"Computed",target:e,parameters:t},n)}r(be,"Computed");function Ux(e,t){let{[t]:n,...o}=e;return o}r(Ux,"DiscardKey");function Ke(e,t){return t.reduce((n,o)=>Ux(n,o),e)}r(Ke,"Discard");function Le(e){return R({[B]:"Never",not:{}},e)}r(Le,"Never");function he(e){return R({[B]:"MappedResult",properties:e})}r(he,"MappedResult");function po(e,t,n){return R({[B]:"Constructor",type:"Constructor",parameters:e,returns:t},n)}r(po,"Constructor");function Mn(e,t,n){return R({[B]:"Function",type:"Function",parameters:e,returns:t},n)}r(Mn,"Function");function Oi(e,t){return R({[B]:"Union",anyOf:e},t)}r(Oi,"UnionCreate");function qx(e){return e.some(t=>Jt(t))}r(qx,"IsUnionOptional");function Jg(e){return e.map(t=>Jt(t)?Bx(t):t)}r(Jg,"RemoveOptionalFromRest");function Bx(e){return Ke(e,[yt])}r(Bx,"RemoveOptionalFromType");function Wx(e,t){return qx(e)?Lt(Oi(Jg(e),t)):Oi(Jg(e),t)}r(Wx,"ResolveUnion");function Nn(e,t){return e.length===1?R(e[0],t):e.length===0?Le(t):Wx(e,t)}r(Nn,"UnionEvaluated");function ve(e,t){return e.length===0?Le(t):e.length===1?R(e[0],t):Oi(e,t)}r(ve,"Union");var Kc=class Kc extends mt{};r(Kc,"TemplateLiteralParserError");var Ks=Kc;function $x(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}r($x,"Unescape");function Gc(e,t,n){return e[t]===n&&e.charCodeAt(t-1)!==92}r(Gc,"IsNonEscaped");function Zn(e,t){return Gc(e,t,"(")}r(Zn,"IsOpenParen");function Fi(e,t){return Gc(e,t,")")}r(Fi,"IsCloseParen");function Xg(e,t){return Gc(e,t,"|")}r(Xg,"IsSeparator");function Vx(e){if(!(Zn(e,0)&&Fi(e,e.length-1)))return!1;let t=0;for(let n=0;n<e.length;n++)if(Zn(e,n)&&(t+=1),Fi(e,n)&&(t-=1),t===0&&n!==e.length-1)return!1;return!0}r(Vx,"IsGroup");function zx(e){return e.slice(1,e.length-1)}r(zx,"InGroup");function Gx(e){let t=0;for(let n=0;n<e.length;n++)if(Zn(e,n)&&(t+=1),Fi(e,n)&&(t-=1),Xg(e,n)&&t===0)return!0;return!1}r(Gx,"IsPrecedenceOr");function Kx(e){for(let t=0;t<e.length;t++)if(Zn(e,t))return!0;return!1}r(Kx,"IsPrecedenceAnd");function Hx(e){let[t,n]=[0,0],o=[];for(let u=0;u<e.length;u++)if(Zn(e,u)&&(t+=1),Fi(e,u)&&(t-=1),Xg(e,u)&&t===0){let s=e.slice(n,u);s.length>0&&o.push(go(s)),n=u+1}let i=e.slice(n);return i.length>0&&o.push(go(i)),o.length===0?{type:"const",const:""}:o.length===1?o[0]:{type:"or",expr:o}}r(Hx,"Or");function Zx(e){function t(i,u){if(!Zn(i,u))throw new Ks("TemplateLiteralParser: Index must point to open parens");let s=0;for(let a=u;a<i.length;a++)if(Zn(i,a)&&(s+=1),Fi(i,a)&&(s-=1),s===0)return[u,a];throw new Ks("TemplateLiteralParser: Unclosed group parens in expression")}r(t,"Group");function n(i,u){for(let s=u;s<i.length;s++)if(Zn(i,s))return[u,s];return[u,i.length]}r(n,"Range");let o=[];for(let i=0;i<e.length;i++)if(Zn(e,i)){let[u,s]=t(e,i),a=e.slice(u,s+1);o.push(go(a)),i=s}else{let[u,s]=n(e,i),a=e.slice(u,s);a.length>0&&o.push(go(a)),i=s-1}return o.length===0?{type:"const",const:""}:o.length===1?o[0]:{type:"and",expr:o}}r(Zx,"And");function go(e){return Vx(e)?go(zx(e)):Gx(e)?Hx(e):Kx(e)?Zx(e):{type:"const",const:$x(e)}}r(go,"TemplateLiteralParse");function ho(e){return go(e.slice(1,e.length-1))}r(ho,"TemplateLiteralParseExact");var Zc=class Zc extends mt{};r(Zc,"TemplateLiteralFiniteError");var Hc=Zc;function Qx(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}r(Qx,"IsNumberExpression");function Jx(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}r(Jx,"IsBooleanExpression");function Xx(e){return e.type==="const"&&e.const===".*"}r(Xx,"IsStringExpression");function Ur(e){return Qx(e)||Xx(e)?!1:Jx(e)?!0:e.type==="and"?e.expr.every(t=>Ur(t)):e.type==="or"?e.expr.every(t=>Ur(t)):e.type==="const"?!0:(()=>{throw new Hc("Unknown expression type")})()}r(Ur,"IsTemplateLiteralExpressionFinite");function Yg(e){let t=ho(e.pattern);return Ur(t)}r(Yg,"IsTemplateLiteralFinite");var Jc=class Jc extends mt{};r(Jc,"TemplateLiteralGenerateError");var Qc=Jc;function*eh(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let n of eh(e.slice(1)))yield`${t}${n}`}r(eh,"GenerateReduce");function*Yx(e){return yield*eh(e.expr.map(t=>[...Ai(t)]))}r(Yx,"GenerateAnd");function*eS(e){for(let t of e.expr)yield*Ai(t)}r(eS,"GenerateOr");function*tS(e){return yield e.const}r(tS,"GenerateConst");function*Ai(e){return e.type==="and"?yield*Yx(e):e.type==="or"?yield*eS(e):e.type==="const"?yield*tS(e):(()=>{throw new Qc("Unknown expression")})()}r(Ai,"TemplateLiteralExpressionGenerate");function Hs(e){let t=ho(e.pattern);return Ur(t)?[...Ai(t)]:[]}r(Hs,"TemplateLiteralGenerate");function we(e,t){return R({[B]:"Literal",const:e,type:typeof e},t)}r(we,"Literal");function Zs(e){return R({[B]:"Boolean",type:"boolean"},e)}r(Zs,"Boolean");function _o(e){return R({[B]:"BigInt",type:"bigint"},e)}r(_o,"BigInt");function Cn(e){return R({[B]:"Number",type:"number"},e)}r(Cn,"Number");function ur(e){return R({[B]:"String",type:"string"},e)}r(ur,"String");function*nS(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield Zs():t==="number"?yield Cn():t==="bigint"?yield _o():t==="string"?yield ur():yield(()=>{let n=t.split("|").map(o=>we(o.trim()));return n.length===0?Le():n.length===1?n[0]:Nn(n)})()}r(nS,"FromUnion");function*rS(e){if(e[1]!=="{"){let t=we("$"),n=Xc(e.slice(1));return yield*[t,...n]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let n=nS(e.slice(2,t)),o=Xc(e.slice(t+1));return yield*[...n,...o]}yield we(e)}r(rS,"FromTerminal");function*Xc(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let n=we(e.slice(0,t)),o=rS(e.slice(t));return yield*[n,...o]}yield we(e)}r(Xc,"FromSyntax");function th(e){return[...Xc(e)]}r(th,"TemplateLiteralSyntax");var tl=class tl extends mt{};r(tl,"TemplateLiteralPatternError");var Yc=tl;function oS(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}r(oS,"Escape");function nh(e,t){return $t(e)?e.pattern.slice(1,e.pattern.length-1):ye(e)?`(${e.anyOf.map(n=>nh(n,t)).join("|")})`:Ar(e)?`${t}${Li}`:Fr(e)?`${t}${Li}`:Fc(e)?`${t}${Li}`:Mi(e)?`${t}${zc}`:Hn(e)?`${t}${oS(e.const.toString())}`:Ac(e)?`${t}${Vc}`:(()=>{throw new Yc(`Unexpected Kind '${e[B]}'`)})()}r(nh,"Visit");function el(e){return`^${e.map(t=>nh(t,"")).join("")}$`}r(el,"TemplateLiteralPattern");function qr(e){let n=Hs(e).map(o=>we(o));return Nn(n)}r(qr,"TemplateLiteralToUnion");function Qs(e,t){let n=Ne(e)?el(th(e)):el(e);return R({[B]:"TemplateLiteral",type:"string",pattern:n},t)}r(Qs,"TemplateLiteral");function iS(e){return Hs(e).map(n=>n.toString())}r(iS,"FromTemplateLiteral");function sS(e){let t=[];for(let n of e)t.push(...Ot(n));return t}r(sS,"FromUnion");function aS(e){return[e.toString()]}r(aS,"FromLiteral");function Ot(e){return[...new Set($t(e)?iS(e):ye(e)?sS(e.anyOf):Hn(e)?aS(e.const):Ar(e)?["[number]"]:Fr(e)?["[number]"]:[])]}r(Ot,"IndexPropertyKeys");function uS(e,t,n){let o={};for(let i of Object.getOwnPropertyNames(t))o[i]=cr(e,Ot(t[i]),n);return o}r(uS,"FromProperties");function cS(e,t,n){return uS(e,t.properties,n)}r(cS,"FromMappedResult");function rh(e,t,n){let o=cS(e,t,n);return he(o)}r(rh,"IndexFromMappedResult");function ih(e,t){return e.map(n=>sh(n,t))}r(ih,"FromRest");function lS(e){return e.filter(t=>!sr(t))}r(lS,"FromIntersectRest");function dS(e,t){return Js(lS(ih(e,t)))}r(dS,"FromIntersect");function fS(e){return e.some(t=>sr(t))?[]:e}r(fS,"FromUnionRest");function mS(e,t){return Nn(fS(ih(e,t)))}r(mS,"FromUnion");function pS(e,t){return t in e?e[t]:t==="[number]"?Nn(e):Le()}r(pS,"FromTuple");function gS(e,t){return t==="[number]"?e:Le()}r(gS,"FromArray");function hS(e,t){return t in e?e[t]:Le()}r(hS,"FromProperty");function sh(e,t){var n;return tt(e)?dS(e.allOf,t):ye(e)?mS(e.anyOf,t):wn(e)?pS((n=e.items)!=null?n:[],t):Kn(e)?gS(e.items,t):ft(e)?hS(e.properties,t):Le()}r(sh,"IndexFromPropertyKey");function nl(e,t){return t.map(n=>sh(e,n))}r(nl,"IndexFromPropertyKeys");function oh(e,t){return Nn(nl(e,t))}r(oh,"FromSchema");function cr(e,t,n){if(Ge(e)||Ge(t)){let o="Index types using Ref parameters require both Type and Key to be of TSchema";if(!Vt(e)||!Vt(t))throw new mt(o);return be("Index",[e,t])}return je(t)?rh(e,t,n):Wt(t)?ah(e,t,n):R(Vt(t)?oh(e,Ot(t)):oh(e,t),n)}r(cr,"Index");function _S(e,t,n){return{[t]:cr(e,[t],De(n))}}r(_S,"MappedIndexPropertyKey");function yS(e,t,n){return t.reduce((o,i)=>({...o,..._S(e,i,n)}),{})}r(yS,"MappedIndexPropertyKeys");function bS(e,t,n){return yS(e,t.keys,n)}r(bS,"MappedIndexProperties");function ah(e,t,n){let o=bS(e,t,n);return he(o)}r(ah,"IndexFromMappedKey");function yo(e,t){return R({[B]:"Iterator",type:"Iterator",items:e},t)}r(yo,"Iterator");function wS(e){let t=[];for(let n in e)Jt(e[n])||t.push(n);return t}r(wS,"RequiredKeys");function vS(e,t){let n=wS(e),o=n.length>0?{[B]:"Object",type:"object",properties:e,required:n}:{[B]:"Object",type:"object",properties:e};return R(o,t)}r(vS,"_Object");var Fe=vS;function Xs(e,t){return R({[B]:"Promise",type:"Promise",item:e},t)}r(Xs,"Promise");function IS(e){return R(Ke(e,[bn]))}r(IS,"RemoveReadonly");function xS(e){return R({...e,[bn]:"Readonly"})}r(xS,"AddReadonly");function SS(e,t){return t===!1?IS(e):xS(e)}r(SS,"ReadonlyWithFlag");function Xt(e,t){let n=t!=null?t:!0;return je(e)?uh(e,n):SS(e,n)}r(Xt,"Readonly");function TS(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=Xt(e[o],t);return n}r(TS,"FromProperties");function ES(e,t){return TS(e.properties,t)}r(ES,"FromMappedResult");function uh(e,t){let n=ES(e,t);return he(n)}r(uh,"ReadonlyFromMappedResult");function Yt(e,t){return R(e.length>0?{[B]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[B]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}r(Yt,"Tuple");function ch(e,t){return e in t?en(e,t[e]):he(t)}r(ch,"FromMappedResult");function RS(e){return{[e]:we(e)}}r(RS,"MappedKeyToKnownMappedResultProperties");function PS(e){let t={};for(let n of e)t[n]=we(n);return t}r(PS,"MappedKeyToUnknownMappedResultProperties");function kS(e,t){return Kg(t,e)?RS(e):PS(t)}r(kS,"MappedKeyToMappedResultProperties");function MS(e,t){let n=kS(e,t);return ch(e,n)}r(MS,"FromMappedKey");function Di(e,t){return t.map(n=>en(e,n))}r(Di,"FromRest");function NS(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(t))n[o]=en(e,t[o]);return n}r(NS,"FromProperties");function en(e,t){var o;let n={...t};return Jt(t)?Lt(en(e,Ke(t,[yt]))):Vs(t)?Xt(en(e,Ke(t,[bn]))):je(t)?ch(e,t.properties):Wt(t)?MS(e,t.keys):Ei(t)?po(Di(e,t.parameters),en(e,t.returns),n):Ri(t)?Mn(Di(e,t.parameters),en(e,t.returns),n):Ti(t)?mo(en(e,t.items),n):Pi(t)?yo(en(e,t.items),n):tt(t)?St(Di(e,t.allOf),n):ye(t)?ve(Di(e,t.anyOf),n):wn(t)?Yt(Di(e,(o=t.items)!=null?o:[]),n):ft(t)?Fe(NS(e,t.properties),n):Kn(t)?fo(en(e,t.items),n):ki(t)?Xs(en(e,t.item),n):t}r(en,"FromSchemaType");function CS(e,t){let n={};for(let o of e)n[o]=en(o,t);return n}r(CS,"MappedFunctionReturnType");function lh(e,t,n){let o=Vt(e)?Ot(e):e,i=t({[B]:"MappedKey",keys:o}),u=CS(o,i);return Fe(u,n)}r(lh,"Mapped");function LS(e){return R(Ke(e,[yt]))}r(LS,"RemoveOptional");function OS(e){return R({...e,[yt]:"Optional"})}r(OS,"AddOptional");function AS(e,t){return t===!1?LS(e):OS(e)}r(AS,"OptionalWithFlag");function Lt(e,t){let n=t!=null?t:!0;return je(e)?dh(e,n):AS(e,n)}r(Lt,"Optional");function DS(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=Lt(e[o],t);return n}r(DS,"FromProperties");function jS(e,t){return DS(e.properties,t)}r(jS,"FromMappedResult");function dh(e,t){let n=jS(e,t);return he(n)}r(dh,"OptionalFromMappedResult");function ji(e,t={}){let n=e.every(i=>ft(i)),o=Vt(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return R(t.unevaluatedProperties===!1||Vt(t.unevaluatedProperties)||n?{...o,[B]:"Intersect",type:"object",allOf:e}:{...o,[B]:"Intersect",allOf:e},t)}r(ji,"IntersectCreate");function US(e){return e.every(t=>Jt(t))}r(US,"IsIntersectOptional");function qS(e){return Ke(e,[yt])}r(qS,"RemoveOptionalFromType");function fh(e){return e.map(t=>Jt(t)?qS(t):t)}r(fh,"RemoveOptionalFromRest");function BS(e,t){return US(e)?Lt(ji(fh(e),t)):ji(fh(e),t)}r(BS,"ResolveIntersect");function Js(e,t={}){if(e.length===1)return R(e[0],t);if(e.length===0)return Le(t);if(e.some(n=>lo(n)))throw new Error("Cannot intersect transform types");return BS(e,t)}r(Js,"IntersectEvaluated");function St(e,t){if(e.length===1)return R(e[0],t);if(e.length===0)return Le(t);if(e.some(n=>lo(n)))throw new Error("Cannot intersect transform types");return ji(e,t)}r(St,"Intersect");function tn(...e){let[t,n]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new mt("Ref: $ref must be a string");return R({[B]:"Ref",$ref:t},n)}r(tn,"Ref");function WS(e,t){return be("Awaited",[be(e,t)])}r(WS,"FromComputed");function $S(e){return be("Awaited",[tn(e)])}r($S,"FromRef");function VS(e){return St(mh(e))}r(VS,"FromIntersect");function zS(e){return ve(mh(e))}r(zS,"FromUnion");function GS(e){return bo(e)}r(GS,"FromPromise");function mh(e){return e.map(t=>bo(t))}r(mh,"FromRest");function bo(e,t){return R(Ct(e)?WS(e.target,e.parameters):tt(e)?VS(e.allOf):ye(e)?zS(e.anyOf):ki(e)?GS(e.item):Ge(e)?$S(e.$ref):e,t)}r(bo,"Awaited");function ph(e){let t=[];for(let n of e)t.push(Ui(n));return t}r(ph,"FromRest");function KS(e){let t=ph(e);return Qg(t)}r(KS,"FromIntersect");function HS(e){let t=ph(e);return Zg(t)}r(HS,"FromUnion");function ZS(e){return e.map((t,n)=>n.toString())}r(ZS,"FromTuple");function QS(e){return["[number]"]}r(QS,"FromArray");function JS(e){return globalThis.Object.getOwnPropertyNames(e)}r(JS,"FromProperties");function XS(e){return YS?globalThis.Object.getOwnPropertyNames(e).map(n=>n[0]==="^"&&n[n.length-1]==="$"?n.slice(1,n.length-1):n):[]}r(XS,"FromPatternProperties");function Ui(e){var t;return tt(e)?KS(e.allOf):ye(e)?HS(e.anyOf):wn(e)?ZS((t=e.items)!=null?t:[]):Kn(e)?QS(e.items):ft(e)?JS(e.properties):Dc(e)?XS(e.patternProperties):[]}r(Ui,"KeyOfPropertyKeys");var YS=!1;function eT(e,t){return be("KeyOf",[be(e,t)])}r(eT,"FromComputed");function tT(e){return be("KeyOf",[tn(e)])}r(tT,"FromRef");function nT(e,t){let n=Ui(e),o=rT(n),i=Nn(o);return R(i,t)}r(nT,"KeyOfFromType");function rT(e){return e.map(t=>t==="[number]"?Cn():we(t))}r(rT,"KeyOfPropertyKeysToRest");function wo(e,t){return Ct(e)?eT(e.target,e.parameters):Ge(e)?tT(e.$ref):je(e)?gh(e,t):nT(e,t)}r(wo,"KeyOf");function oT(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=wo(e[o],De(t));return n}r(oT,"FromProperties");function iT(e,t){return oT(e.properties,t)}r(iT,"FromMappedResult");function gh(e,t){let n=iT(e,t);return he(n)}r(gh,"KeyOfFromMappedResult");function sT(e){let t=[];for(let n of e)t.push(...Ui(n));return Hg(t)}r(sT,"CompositeKeys");function aT(e){return e.filter(t=>!sr(t))}r(aT,"FilterNever");function uT(e,t){let n=[];for(let o of e)n.push(...nl(o,[t]));return aT(n)}r(uT,"CompositeProperty");function cT(e,t){let n={};for(let o of t)n[o]=Js(uT(e,o));return n}r(cT,"CompositeProperties");function hh(e,t){let n=sT(e),o=cT(e,n);return Fe(o,t)}r(hh,"Composite");function Ys(e){return R({[B]:"Date",type:"Date"},e)}r(Ys,"Date");function ea(e){return R({[B]:"Null",type:"null"},e)}r(ea,"Null");function ta(e){return R({[B]:"Symbol",type:"symbol"},e)}r(ta,"Symbol");function na(e){return R({[B]:"Undefined",type:"undefined"},e)}r(na,"Undefined");function ra(e){return R({[B]:"Uint8Array",type:"Uint8Array"},e)}r(ra,"Uint8Array");function vo(e){return R({[B]:"Unknown"},e)}r(vo,"Unknown");function lT(e){return e.map(t=>rl(t,!1))}r(lT,"FromArray");function dT(e){let t={};for(let n of globalThis.Object.getOwnPropertyNames(e))t[n]=Xt(rl(e[n],!1));return t}r(dT,"FromProperties");function oa(e,t){return t===!0?e:Xt(e)}r(oa,"ConditionalReadonly");function rl(e,t){return Pc(e)?oa(ar(),t):Mc(e)?oa(ar(),t):et(e)?Xt(Yt(lT(e))):Gn(e)?ra():Or(e)?Ys():Re(e)?oa(Fe(dT(e)),t):kc(e)?oa(Mn([],vo()),t):dt(e)?na():Nc(e)?ea():Cc(e)?ta():Ii(e)?_o():Zt(e)?we(e):zn(e)?we(e):Ne(e)?we(e):Fe({})}r(rl,"FromValue");function _h(e,t){return R(rl(e,!0),t)}r(_h,"Const");function yh(e,t){return Yt(e.parameters,t)}r(yh,"ConstructorParameters");function bh(e,t){if(dt(e))throw new Error("Enum undefined or empty");let n=globalThis.Object.getOwnPropertyNames(e).filter(u=>isNaN(u)).map(u=>e[u]),i=[...new Set(n)].map(u=>we(u));return ve(i,{...t,[Qt]:"Enum"})}r(bh,"Enum");var ll=class ll extends mt{};r(ll,"ExtendsResolverError");var il=ll,E;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(E||(E={}));function nn(e){return e===E.False?e:E.True}r(nn,"IntoBooleanResult");function Io(e){throw new il(e)}r(Io,"Throw");function it(e){return I.IsNever(e)||I.IsIntersect(e)||I.IsUnion(e)||I.IsUnknown(e)||I.IsAny(e)}r(it,"IsStructuralRight");function st(e,t){return I.IsNever(t)?Eh(e,t):I.IsIntersect(t)?ia(e,t):I.IsUnion(t)?cl(e,t):I.IsUnknown(t)?Mh(e,t):I.IsAny(t)?ul(e,t):Io("StructuralRight")}r(st,"StructuralRight");function ul(e,t){return E.True}r(ul,"FromAnyRight");function fT(e,t){return I.IsIntersect(t)?ia(e,t):I.IsUnion(t)&&t.anyOf.some(n=>I.IsAny(n)||I.IsUnknown(n))?E.True:I.IsUnion(t)?E.Union:I.IsUnknown(t)||I.IsAny(t)?E.True:E.Union}r(fT,"FromAny");function mT(e,t){return I.IsUnknown(e)?E.False:I.IsAny(e)?E.Union:I.IsNever(e)?E.True:E.False}r(mT,"FromArrayRight");function pT(e,t){return I.IsObject(t)&&sa(t)?E.True:it(t)?st(e,t):I.IsArray(t)?nn(ke(e.items,t.items)):E.False}r(pT,"FromArray");function gT(e,t){return it(t)?st(e,t):I.IsAsyncIterator(t)?nn(ke(e.items,t.items)):E.False}r(gT,"FromAsyncIterator");function hT(e,t){return it(t)?st(e,t):I.IsObject(t)?Tt(e,t):I.IsRecord(t)?rn(e,t):I.IsBigInt(t)?E.True:E.False}r(hT,"FromBigInt");function Sh(e,t){return I.IsLiteralBoolean(e)||I.IsBoolean(e)?E.True:E.False}r(Sh,"FromBooleanRight");function _T(e,t){return it(t)?st(e,t):I.IsObject(t)?Tt(e,t):I.IsRecord(t)?rn(e,t):I.IsBoolean(t)?E.True:E.False}r(_T,"FromBoolean");function yT(e,t){return it(t)?st(e,t):I.IsObject(t)?Tt(e,t):I.IsConstructor(t)?e.parameters.length>t.parameters.length?E.False:e.parameters.every((n,o)=>nn(ke(t.parameters[o],n))===E.True)?nn(ke(e.returns,t.returns)):E.False:E.False}r(yT,"FromConstructor");function bT(e,t){return it(t)?st(e,t):I.IsObject(t)?Tt(e,t):I.IsRecord(t)?rn(e,t):I.IsDate(t)?E.True:E.False}r(bT,"FromDate");function wT(e,t){return it(t)?st(e,t):I.IsObject(t)?Tt(e,t):I.IsFunction(t)?e.parameters.length>t.parameters.length?E.False:e.parameters.every((n,o)=>nn(ke(t.parameters[o],n))===E.True)?nn(ke(e.returns,t.returns)):E.False:E.False}r(wT,"FromFunction");function Th(e,t){return I.IsLiteral(e)&&xt.IsNumber(e.const)||I.IsNumber(e)||I.IsInteger(e)?E.True:E.False}r(Th,"FromIntegerRight");function vT(e,t){return I.IsInteger(t)||I.IsNumber(t)?E.True:it(t)?st(e,t):I.IsObject(t)?Tt(e,t):I.IsRecord(t)?rn(e,t):E.False}r(vT,"FromInteger");function ia(e,t){return t.allOf.every(n=>ke(e,n)===E.True)?E.True:E.False}r(ia,"FromIntersectRight");function IT(e,t){return e.allOf.some(n=>ke(n,t)===E.True)?E.True:E.False}r(IT,"FromIntersect");function xT(e,t){return it(t)?st(e,t):I.IsIterator(t)?nn(ke(e.items,t.items)):E.False}r(xT,"FromIterator");function ST(e,t){return I.IsLiteral(t)&&t.const===e.const?E.True:it(t)?st(e,t):I.IsObject(t)?Tt(e,t):I.IsRecord(t)?rn(e,t):I.IsString(t)?kh(e,t):I.IsNumber(t)?Rh(e,t):I.IsInteger(t)?Th(e,t):I.IsBoolean(t)?Sh(e,t):E.False}r(ST,"FromLiteral");function Eh(e,t){return E.False}r(Eh,"FromNeverRight");function TT(e,t){return E.True}r(TT,"FromNever");function wh(e){let[t,n]=[e,0];for(;I.IsNot(t);)t=t.not,n+=1;return n%2===0?t:vo()}r(wh,"UnwrapTNot");function ET(e,t){return I.IsNot(e)?ke(wh(e),t):I.IsNot(t)?ke(e,wh(t)):Io("Invalid fallthrough for Not")}r(ET,"FromNot");function RT(e,t){return it(t)?st(e,t):I.IsObject(t)?Tt(e,t):I.IsRecord(t)?rn(e,t):I.IsNull(t)?E.True:E.False}r(RT,"FromNull");function Rh(e,t){return I.IsLiteralNumber(e)||I.IsNumber(e)||I.IsInteger(e)?E.True:E.False}r(Rh,"FromNumberRight");function PT(e,t){return it(t)?st(e,t):I.IsObject(t)?Tt(e,t):I.IsRecord(t)?rn(e,t):I.IsInteger(t)||I.IsNumber(t)?E.True:E.False}r(PT,"FromNumber");function Ft(e,t){return Object.getOwnPropertyNames(e.properties).length===t}r(Ft,"IsObjectPropertyCount");function vh(e){return sa(e)}r(vh,"IsObjectStringLike");function Ih(e){return Ft(e,0)||Ft(e,1)&&"description"in e.properties&&I.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(I.IsString(e.properties.description.anyOf[0])&&I.IsUndefined(e.properties.description.anyOf[1])||I.IsString(e.properties.description.anyOf[1])&&I.IsUndefined(e.properties.description.anyOf[0]))}r(Ih,"IsObjectSymbolLike");function ol(e){return Ft(e,0)}r(ol,"IsObjectNumberLike");function xh(e){return Ft(e,0)}r(xh,"IsObjectBooleanLike");function kT(e){return Ft(e,0)}r(kT,"IsObjectBigIntLike");function MT(e){return Ft(e,0)}r(MT,"IsObjectDateLike");function NT(e){return sa(e)}r(NT,"IsObjectUint8ArrayLike");function CT(e){let t=Cn();return Ft(e,0)||Ft(e,1)&&"length"in e.properties&&nn(ke(e.properties.length,t))===E.True}r(CT,"IsObjectFunctionLike");function LT(e){return Ft(e,0)}r(LT,"IsObjectConstructorLike");function sa(e){let t=Cn();return Ft(e,0)||Ft(e,1)&&"length"in e.properties&&nn(ke(e.properties.length,t))===E.True}r(sa,"IsObjectArrayLike");function OT(e){let t=Mn([ar()],ar());return Ft(e,0)||Ft(e,1)&&"then"in e.properties&&nn(ke(e.properties.then,t))===E.True}r(OT,"IsObjectPromiseLike");function Ph(e,t){return ke(e,t)===E.False||I.IsOptional(e)&&!I.IsOptional(t)?E.False:E.True}r(Ph,"Property");function Tt(e,t){return I.IsUnknown(e)?E.False:I.IsAny(e)?E.Union:I.IsNever(e)||I.IsLiteralString(e)&&vh(t)||I.IsLiteralNumber(e)&&ol(t)||I.IsLiteralBoolean(e)&&xh(t)||I.IsSymbol(e)&&Ih(t)||I.IsBigInt(e)&&kT(t)||I.IsString(e)&&vh(t)||I.IsSymbol(e)&&Ih(t)||I.IsNumber(e)&&ol(t)||I.IsInteger(e)&&ol(t)||I.IsBoolean(e)&&xh(t)||I.IsUint8Array(e)&&NT(t)||I.IsDate(e)&&MT(t)||I.IsConstructor(e)&&LT(t)||I.IsFunction(e)&&CT(t)?E.True:I.IsRecord(e)&&I.IsString(sl(e))?t[Qt]==="Record"?E.True:E.False:I.IsRecord(e)&&I.IsNumber(sl(e))?Ft(t,0)?E.True:E.False:E.False}r(Tt,"FromObjectRight");function FT(e,t){return it(t)?st(e,t):I.IsRecord(t)?rn(e,t):I.IsObject(t)?(()=>{for(let n of Object.getOwnPropertyNames(t.properties)){if(!(n in e.properties)&&!I.IsOptional(t.properties[n]))return E.False;if(I.IsOptional(t.properties[n]))return E.True;if(Ph(e.properties[n],t.properties[n])===E.False)return E.False}return E.True})():E.False}r(FT,"FromObject");function AT(e,t){return it(t)?st(e,t):I.IsObject(t)&&OT(t)?E.True:I.IsPromise(t)?nn(ke(e.item,t.item)):E.False}r(AT,"FromPromise");function sl(e){return Dr in e.patternProperties?Cn():jr in e.patternProperties?ur():Io("Unknown record key pattern")}r(sl,"RecordKey");function al(e){return Dr in e.patternProperties?e.patternProperties[Dr]:jr in e.patternProperties?e.patternProperties[jr]:Io("Unable to get record value schema")}r(al,"RecordValue");function rn(e,t){let[n,o]=[sl(t),al(t)];return I.IsLiteralString(e)&&I.IsNumber(n)&&nn(ke(e,o))===E.True?E.True:I.IsUint8Array(e)&&I.IsNumber(n)||I.IsString(e)&&I.IsNumber(n)||I.IsArray(e)&&I.IsNumber(n)?ke(e,o):I.IsObject(e)?(()=>{for(let i of Object.getOwnPropertyNames(e.properties))if(Ph(o,e.properties[i])===E.False)return E.False;return E.True})():E.False}r(rn,"FromRecordRight");function DT(e,t){return it(t)?st(e,t):I.IsObject(t)?Tt(e,t):I.IsRecord(t)?ke(al(e),al(t)):E.False}r(DT,"FromRecord");function jT(e,t){let n=I.IsRegExp(e)?ur():e,o=I.IsRegExp(t)?ur():t;return ke(n,o)}r(jT,"FromRegExp");function kh(e,t){return I.IsLiteral(e)&&xt.IsString(e.const)||I.IsString(e)?E.True:E.False}r(kh,"FromStringRight");function UT(e,t){return it(t)?st(e,t):I.IsObject(t)?Tt(e,t):I.IsRecord(t)?rn(e,t):I.IsString(t)?E.True:E.False}r(UT,"FromString");function qT(e,t){return it(t)?st(e,t):I.IsObject(t)?Tt(e,t):I.IsRecord(t)?rn(e,t):I.IsSymbol(t)?E.True:E.False}r(qT,"FromSymbol");function BT(e,t){return I.IsTemplateLiteral(e)?ke(qr(e),t):I.IsTemplateLiteral(t)?ke(e,qr(t)):Io("Invalid fallthrough for TemplateLiteral")}r(BT,"FromTemplateLiteral");function WT(e,t){return I.IsArray(t)&&e.items!==void 0&&e.items.every(n=>ke(n,t.items)===E.True)}r(WT,"IsArrayOfTuple");function $T(e,t){return I.IsNever(e)?E.True:I.IsUnknown(e)?E.False:I.IsAny(e)?E.Union:E.False}r($T,"FromTupleRight");function VT(e,t){return it(t)?st(e,t):I.IsObject(t)&&sa(t)||I.IsArray(t)&&WT(e,t)?E.True:I.IsTuple(t)?xt.IsUndefined(e.items)&&!xt.IsUndefined(t.items)||!xt.IsUndefined(e.items)&&xt.IsUndefined(t.items)?E.False:xt.IsUndefined(e.items)&&!xt.IsUndefined(t.items)||e.items.every((n,o)=>ke(n,t.items[o])===E.True)?E.True:E.False:E.False}r(VT,"FromTuple");function zT(e,t){return it(t)?st(e,t):I.IsObject(t)?Tt(e,t):I.IsRecord(t)?rn(e,t):I.IsUint8Array(t)?E.True:E.False}r(zT,"FromUint8Array");function GT(e,t){return it(t)?st(e,t):I.IsObject(t)?Tt(e,t):I.IsRecord(t)?rn(e,t):I.IsVoid(t)?ZT(e,t):I.IsUndefined(t)?E.True:E.False}r(GT,"FromUndefined");function cl(e,t){return t.anyOf.some(n=>ke(e,n)===E.True)?E.True:E.False}r(cl,"FromUnionRight");function KT(e,t){return e.anyOf.every(n=>ke(n,t)===E.True)?E.True:E.False}r(KT,"FromUnion");function Mh(e,t){return E.True}r(Mh,"FromUnknownRight");function HT(e,t){return I.IsNever(t)?Eh(e,t):I.IsIntersect(t)?ia(e,t):I.IsUnion(t)?cl(e,t):I.IsAny(t)?ul(e,t):I.IsString(t)?kh(e,t):I.IsNumber(t)?Rh(e,t):I.IsInteger(t)?Th(e,t):I.IsBoolean(t)?Sh(e,t):I.IsArray(t)?mT(e,t):I.IsTuple(t)?$T(e,t):I.IsObject(t)?Tt(e,t):I.IsUnknown(t)?E.True:E.False}r(HT,"FromUnknown");function ZT(e,t){return I.IsUndefined(e)||I.IsUndefined(e)?E.True:E.False}r(ZT,"FromVoidRight");function QT(e,t){return I.IsIntersect(t)?ia(e,t):I.IsUnion(t)?cl(e,t):I.IsUnknown(t)?Mh(e,t):I.IsAny(t)?ul(e,t):I.IsObject(t)?Tt(e,t):I.IsVoid(t)?E.True:E.False}r(QT,"FromVoid");function ke(e,t){return I.IsTemplateLiteral(e)||I.IsTemplateLiteral(t)?BT(e,t):I.IsRegExp(e)||I.IsRegExp(t)?jT(e,t):I.IsNot(e)||I.IsNot(t)?ET(e,t):I.IsAny(e)?fT(e,t):I.IsArray(e)?pT(e,t):I.IsBigInt(e)?hT(e,t):I.IsBoolean(e)?_T(e,t):I.IsAsyncIterator(e)?gT(e,t):I.IsConstructor(e)?yT(e,t):I.IsDate(e)?bT(e,t):I.IsFunction(e)?wT(e,t):I.IsInteger(e)?vT(e,t):I.IsIntersect(e)?IT(e,t):I.IsIterator(e)?xT(e,t):I.IsLiteral(e)?ST(e,t):I.IsNever(e)?TT(e,t):I.IsNull(e)?RT(e,t):I.IsNumber(e)?PT(e,t):I.IsObject(e)?FT(e,t):I.IsRecord(e)?DT(e,t):I.IsString(e)?UT(e,t):I.IsSymbol(e)?qT(e,t):I.IsTuple(e)?VT(e,t):I.IsPromise(e)?AT(e,t):I.IsUint8Array(e)?zT(e,t):I.IsUndefined(e)?GT(e,t):I.IsUnion(e)?KT(e,t):I.IsUnknown(e)?HT(e,t):I.IsVoid(e)?QT(e,t):Io(`Unknown left type operand '${e[B]}'`)}r(ke,"Visit");function lr(e,t){return ke(e,t)}r(lr,"ExtendsCheck");function JT(e,t,n,o,i){let u={};for(let s of globalThis.Object.getOwnPropertyNames(e))u[s]=xo(e[s],t,n,o,De(i));return u}r(JT,"FromProperties");function XT(e,t,n,o,i){return JT(e.properties,t,n,o,i)}r(XT,"FromMappedResult");function Nh(e,t,n,o,i){let u=XT(e,t,n,o,i);return he(u)}r(Nh,"ExtendsFromMappedResult");function YT(e,t,n,o){let i=lr(e,t);return i===E.Union?ve([n,o]):i===E.True?n:o}r(YT,"ExtendsResolve");function xo(e,t,n,o,i){return je(e)?Nh(e,t,n,o,i):Wt(e)?R(Ch(e,t,n,o,i)):R(YT(e,t,n,o),i)}r(xo,"Extends");function eE(e,t,n,o,i){return{[e]:xo(we(e),t,n,o,De(i))}}r(eE,"FromPropertyKey");function tE(e,t,n,o,i){return e.reduce((u,s)=>({...u,...eE(s,t,n,o,i)}),{})}r(tE,"FromPropertyKeys");function nE(e,t,n,o,i){return tE(e.keys,t,n,o,i)}r(nE,"FromMappedKey");function Ch(e,t,n,o,i){let u=nE(e,t,n,o,i);return he(u)}r(Ch,"ExtendsFromMappedKey");function Lh(e,t){return So(qr(e),t)}r(Lh,"ExcludeFromTemplateLiteral");function rE(e,t){let n=e.filter(o=>lr(o,t)===E.False);return n.length===1?n[0]:ve(n)}r(rE,"ExcludeRest");function So(e,t,n={}){return $t(e)?R(Lh(e,t),n):je(e)?R(Oh(e,t),n):R(ye(e)?rE(e.anyOf,t):lr(e,t)!==E.False?Le():e,n)}r(So,"Exclude");function oE(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=So(e[o],t);return n}r(oE,"FromProperties");function iE(e,t){return oE(e.properties,t)}r(iE,"FromMappedResult");function Oh(e,t){let n=iE(e,t);return he(n)}r(Oh,"ExcludeFromMappedResult");function Fh(e,t){return To(qr(e),t)}r(Fh,"ExtractFromTemplateLiteral");function sE(e,t){let n=e.filter(o=>lr(o,t)!==E.False);return n.length===1?n[0]:ve(n)}r(sE,"ExtractRest");function To(e,t,n){return $t(e)?R(Fh(e,t),n):je(e)?R(Ah(e,t),n):R(ye(e)?sE(e.anyOf,t):lr(e,t)!==E.False?e:Le(),n)}r(To,"Extract");function aE(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=To(e[o],t);return n}r(aE,"FromProperties");function uE(e,t){return aE(e.properties,t)}r(uE,"FromMappedResult");function Ah(e,t){let n=uE(e,t);return he(n)}r(Ah,"ExtractFromMappedResult");function Dh(e,t){return R(e.returns,t)}r(Dh,"InstanceType");function jh(e){return R({[B]:"Integer",type:"integer"},e)}r(jh,"Integer");function cE(e,t,n){return{[e]:vn(we(e),t,De(n))}}r(cE,"MappedIntrinsicPropertyKey");function lE(e,t,n){return e.reduce((i,u)=>({...i,...cE(u,t,n)}),{})}r(lE,"MappedIntrinsicPropertyKeys");function dE(e,t,n){return lE(e.keys,t,n)}r(dE,"MappedIntrinsicProperties");function Uh(e,t,n){let o=dE(e,t,n);return he(o)}r(Uh,"IntrinsicFromMappedKey");function fE(e){let[t,n]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),n].join("")}r(fE,"ApplyUncapitalize");function mE(e){let[t,n]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),n].join("")}r(mE,"ApplyCapitalize");function pE(e){return e.toUpperCase()}r(pE,"ApplyUppercase");function gE(e){return e.toLowerCase()}r(gE,"ApplyLowercase");function hE(e,t,n){let o=ho(e.pattern);if(!Ur(o))return{...e,pattern:qh(e.pattern,t)};let s=[...Ai(o)].map(l=>we(l)),a=Bh(s,t),c=ve(a);return Qs([c],n)}r(hE,"FromTemplateLiteral");function qh(e,t){return typeof e=="string"?t==="Uncapitalize"?fE(e):t==="Capitalize"?mE(e):t==="Uppercase"?pE(e):t==="Lowercase"?gE(e):e:e.toString()}r(qh,"FromLiteralValue");function Bh(e,t){return e.map(n=>vn(n,t))}r(Bh,"FromRest");function vn(e,t,n={}){return Wt(e)?Uh(e,t,n):$t(e)?hE(e,t,n):ye(e)?ve(Bh(e.anyOf,t),n):Hn(e)?we(qh(e.const,t),n):R(e,n)}r(vn,"Intrinsic");function Wh(e,t={}){return vn(e,"Capitalize",t)}r(Wh,"Capitalize");function $h(e,t={}){return vn(e,"Lowercase",t)}r($h,"Lowercase");function Vh(e,t={}){return vn(e,"Uncapitalize",t)}r(Vh,"Uncapitalize");function zh(e,t={}){return vn(e,"Uppercase",t)}r(zh,"Uppercase");function _E(e,t,n){let o={};for(let i of globalThis.Object.getOwnPropertyNames(e))o[i]=dr(e[i],t,De(n));return o}r(_E,"FromProperties");function yE(e,t,n){return _E(e.properties,t,n)}r(yE,"FromMappedResult");function Gh(e,t,n){let o=yE(e,t,n);return he(o)}r(Gh,"OmitFromMappedResult");function bE(e,t){return e.map(n=>dl(n,t))}r(bE,"FromIntersect");function wE(e,t){return e.map(n=>dl(n,t))}r(wE,"FromUnion");function vE(e,t){let{[t]:n,...o}=e;return o}r(vE,"FromProperty");function IE(e,t){return t.reduce((n,o)=>vE(n,o),e)}r(IE,"FromProperties");function xE(e,t){let n=Ke(e,[_t,"$id","required","properties"]),o=IE(e.properties,t);return Fe(o,n)}r(xE,"FromObject");function SE(e){let t=e.reduce((n,o)=>zs(o)?[...n,we(o)]:n,[]);return ve(t)}r(SE,"UnionFromPropertyKeys");function dl(e,t){return tt(e)?St(bE(e.allOf,t)):ye(e)?ve(wE(e.anyOf,t)):ft(e)?xE(e,t):Fe({})}r(dl,"OmitResolve");function dr(e,t,n){let o=et(t)?SE(t):t,i=Vt(t)?Ot(t):t,u=Ge(e),s=Ge(t);return je(e)?Gh(e,i,n):Wt(t)?Kh(e,t,n):u&&s?be("Omit",[e,o],n):!u&&s?be("Omit",[e,o],n):u&&!s?be("Omit",[e,o],n):R({...dl(e,i),...n})}r(dr,"Omit");function TE(e,t,n){return{[t]:dr(e,[t],De(n))}}r(TE,"FromPropertyKey");function EE(e,t,n){return t.reduce((o,i)=>({...o,...TE(e,i,n)}),{})}r(EE,"FromPropertyKeys");function RE(e,t,n){return EE(e,t.keys,n)}r(RE,"FromMappedKey");function Kh(e,t,n){let o=RE(e,t,n);return he(o)}r(Kh,"OmitFromMappedKey");function PE(e,t,n){let o={};for(let i of globalThis.Object.getOwnPropertyNames(e))o[i]=fr(e[i],t,De(n));return o}r(PE,"FromProperties");function kE(e,t,n){return PE(e.properties,t,n)}r(kE,"FromMappedResult");function Hh(e,t,n){let o=kE(e,t,n);return he(o)}r(Hh,"PickFromMappedResult");function ME(e,t){return e.map(n=>fl(n,t))}r(ME,"FromIntersect");function NE(e,t){return e.map(n=>fl(n,t))}r(NE,"FromUnion");function CE(e,t){let n={};for(let o of t)o in e&&(n[o]=e[o]);return n}r(CE,"FromProperties");function LE(e,t){let n=Ke(e,[_t,"$id","required","properties"]),o=CE(e.properties,t);return Fe(o,n)}r(LE,"FromObject");function OE(e){let t=e.reduce((n,o)=>zs(o)?[...n,we(o)]:n,[]);return ve(t)}r(OE,"UnionFromPropertyKeys");function fl(e,t){return tt(e)?St(ME(e.allOf,t)):ye(e)?ve(NE(e.anyOf,t)):ft(e)?LE(e,t):Fe({})}r(fl,"PickResolve");function fr(e,t,n){let o=et(t)?OE(t):t,i=Vt(t)?Ot(t):t,u=Ge(e),s=Ge(t);return je(e)?Hh(e,i,n):Wt(t)?Zh(e,t,n):u&&s?be("Pick",[e,o],n):!u&&s?be("Pick",[e,o],n):u&&!s?be("Pick",[e,o],n):R({...fl(e,i),...n})}r(fr,"Pick");function FE(e,t,n){return{[t]:fr(e,[t],De(n))}}r(FE,"FromPropertyKey");function AE(e,t,n){return t.reduce((o,i)=>({...o,...FE(e,i,n)}),{})}r(AE,"FromPropertyKeys");function DE(e,t,n){return AE(e,t.keys,n)}r(DE,"FromMappedKey");function Zh(e,t,n){let o=DE(e,t,n);return he(o)}r(Zh,"PickFromMappedKey");function jE(e,t){return be("Partial",[be(e,t)])}r(jE,"FromComputed");function UE(e){return be("Partial",[tn(e)])}r(UE,"FromRef");function qE(e){let t={};for(let n of globalThis.Object.getOwnPropertyNames(e))t[n]=Lt(e[n]);return t}r(qE,"FromProperties");function BE(e){let t=Ke(e,[_t,"$id","required","properties"]),n=qE(e.properties);return Fe(n,t)}r(BE,"FromObject");function Qh(e){return e.map(t=>Jh(t))}r(Qh,"FromRest");function Jh(e){return Ct(e)?jE(e.target,e.parameters):Ge(e)?UE(e.$ref):tt(e)?St(Qh(e.allOf)):ye(e)?ve(Qh(e.anyOf)):ft(e)?BE(e):Fe({})}r(Jh,"PartialResolve");function Eo(e,t){return je(e)?Xh(e,t):R({...Jh(e),...t})}r(Eo,"Partial");function WE(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=Eo(e[o],De(t));return n}r(WE,"FromProperties");function $E(e,t){return WE(e.properties,t)}r($E,"FromMappedResult");function Xh(e,t){let n=$E(e,t);return he(n)}r(Xh,"PartialFromMappedResult");function Br(e,t,n){return R({[B]:"Record",type:"object",patternProperties:{[e]:t}},n)}r(Br,"RecordCreateFromPattern");function ml(e,t,n){let o={};for(let i of e)o[i]=t;return Fe(o,{...n,[Qt]:"Record"})}r(ml,"RecordCreateFromKeys");function VE(e,t,n){return Yg(e)?ml(Ot(e),t,n):Br(e.pattern,t,n)}r(VE,"FromTemplateLiteralKey");function zE(e,t,n){return ml(Ot(ve(e)),t,n)}r(zE,"FromUnionKey");function GE(e,t,n){return ml([e.toString()],t,n)}r(GE,"FromLiteralKey");function KE(e,t,n){return Br(e.source,t,n)}r(KE,"FromRegExpKey");function HE(e,t,n){let o=dt(e.pattern)?jr:e.pattern;return Br(o,t,n)}r(HE,"FromStringKey");function ZE(e,t,n){return Br(jr,t,n)}r(ZE,"FromAnyKey");function QE(e,t,n){return Br(Gg,t,n)}r(QE,"FromNeverKey");function JE(e,t,n){return Br(Dr,t,n)}r(JE,"FromIntegerKey");function XE(e,t,n){return Br(Dr,t,n)}r(XE,"FromNumberKey");function aa(e,t,n={}){return Ct(t)?be("Record",[e,be(t.target,t.parameters)],n):Ct(e)?be("Record",[be(t.target,t.parameters),t],n):Ge(e)?be("Record",[tn(e.$ref),t]):ye(e)?zE(e.anyOf,t,n):$t(e)?VE(e,t,n):Hn(e)?GE(e.const,t,n):Fr(e)?JE(e,t,n):Ar(e)?XE(e,t,n):jc(e)?KE(e,t,n):Mi(e)?HE(e,t,n):Oc(e)?ZE(e,t,n):sr(e)?QE(e,t,n):Le(n)}r(aa,"Record");function YE(e,t){return be("Required",[be(e,t)])}r(YE,"FromComputed");function eR(e){return be("Required",[tn(e)])}r(eR,"FromRef");function tR(e){let t={};for(let n of globalThis.Object.getOwnPropertyNames(e))t[n]=Ke(e[n],[yt]);return t}r(tR,"FromProperties");function nR(e){let t=Ke(e,[_t,"$id","required","properties"]),n=tR(e.properties);return Fe(n,t)}r(nR,"FromObject");function Yh(e){return e.map(t=>e_(t))}r(Yh,"FromRest");function e_(e){return Ct(e)?YE(e.target,e.parameters):Ge(e)?eR(e.$ref):tt(e)?St(Yh(e.allOf)):ye(e)?ve(Yh(e.anyOf)):ft(e)?nR(e):Fe({})}r(e_,"RequiredResolve");function Ro(e,t){return je(e)?t_(e,t):R({...e_(e),...t})}r(Ro,"Required");function rR(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=Ro(e[o],t);return n}r(rR,"FromProperties");function oR(e,t){return rR(e.properties,t)}r(oR,"FromMappedResult");function t_(e,t){let n=oR(e,t);return he(n)}r(t_,"RequiredFromMappedResult");function iR(e,t){return t.map(n=>Ge(n)?n_(e,n.$ref):on(e,n))}r(iR,"DerefParameters");function n_(e,t){return t in e?Ge(e[t])?n_(e,e[t].$ref):on(e,e[t]):Le()}r(n_,"Deref");function sR(e){return bo(e[0])}r(sR,"FromAwaited");function aR(e){return cr(e[0],e[1])}r(aR,"FromIndex");function uR(e){return wo(e[0])}r(uR,"FromKeyOf");function cR(e){return Eo(e[0])}r(cR,"FromPartial");function lR(e){return dr(e[0],e[1])}r(lR,"FromOmit");function dR(e){return fr(e[0],e[1])}r(dR,"FromPick");function fR(e){return aa(e[0],e[1])}r(fR,"FromRecord");function mR(e){return Ro(e[0])}r(mR,"FromRequired");function pR(e,t,n){let o=iR(e,n);return t==="Awaited"?sR(o):t==="Index"?aR(o):t==="KeyOf"?uR(o):t==="Partial"?cR(o):t==="Omit"?lR(o):t==="Pick"?dR(o):t==="Record"?fR(o):t==="Required"?mR(o):Le()}r(pR,"FromComputed");function gR(e,t){return Fe(globalThis.Object.keys(t).reduce((n,o)=>({...n,[o]:on(e,t[o])}),{}))}r(gR,"FromObject");function hR(e,t,n){return po(qi(e,t),on(e,n))}r(hR,"FromConstructor");function _R(e,t,n){return Mn(qi(e,t),on(e,n))}r(_R,"FromFunction");function yR(e,t){return Yt(qi(e,t))}r(yR,"FromTuple");function bR(e,t){return St(qi(e,t))}r(bR,"FromIntersect");function wR(e,t){return ve(qi(e,t))}r(wR,"FromUnion");function vR(e,t){return fo(on(e,t))}r(vR,"FromArray");function IR(e,t){return mo(on(e,t))}r(IR,"FromAsyncIterator");function xR(e,t){return yo(on(e,t))}r(xR,"FromIterator");function qi(e,t){return t.map(n=>on(e,n))}r(qi,"FromRest");function on(e,t){return Jt(t)?R(on(e,Ke(t,[yt])),t):Vs(t)?R(on(e,Ke(t,[bn])),t):Kn(t)?R(vR(e,t.items),t):Ti(t)?R(IR(e,t.items),t):Ct(t)?R(pR(e,t.target,t.parameters)):Ei(t)?R(hR(e,t.parameters,t.returns),t):Ri(t)?R(_R(e,t.parameters,t.returns),t):tt(t)?R(bR(e,t.allOf),t):Pi(t)?R(xR(e,t.items),t):ft(t)?R(gR(e,t.properties),t):wn(t)?R(yR(e,t.items||[]),t):ye(t)?R(wR(e,t.anyOf),t):t}r(on,"FromType");function SR(e,t){return t in e?on(e,e[t]):Le()}r(SR,"ComputeType");function r_(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,n)=>({...t,[n]:SR(e,n)}),{})}r(r_,"ComputeModuleProperties");var gl=class gl{constructor(t){let n=r_(t),o=this.WithIdentifiers(n);this.$defs=o}Import(t,n){let o={...this.$defs,[t]:R(this.$defs[t],n)};return R({[B]:"Import",$defs:o,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((n,o)=>({...n,[o]:{...t[o],$id:o}}),{})}};r(gl,"TModule");var pl=gl;function o_(e){return new pl(e)}r(o_,"Module");function i_(e,t){return R({[B]:"Not",not:e},t)}r(i_,"Not");function s_(e,t){return Yt(e.parameters,t)}r(s_,"Parameters");function a_(e){return Xt(Lt(e))}r(a_,"ReadonlyOptional");var TR=0;function u_(e,t={}){dt(t.$id)&&(t.$id=`T${TR++}`);let n=eg(e({[B]:"This",$ref:`${t.$id}`}));return n.$id=t.$id,R({[Qt]:"Recursive",...n},t)}r(u_,"Recursive");function c_(e,t){let n=Ne(e)?new globalThis.RegExp(e):e;return R({[B]:"RegExp",type:"RegExp",source:n.source,flags:n.flags},t)}r(c_,"RegExp");function ER(e){var t;return tt(e)?e.allOf:ye(e)?e.anyOf:wn(e)?(t=e.items)!=null?t:[]:[]}r(ER,"RestResolve");function l_(e){return ER(e)}r(l_,"Rest");function d_(e,t){return R(e.returns,t)}r(d_,"ReturnType");var yl=class yl{constructor(t){this.schema=t}Decode(t){return new _l(this.schema,t)}};r(yl,"TransformDecodeBuilder");var hl=yl,bl=class bl{constructor(t,n){this.schema=t,this.decode=n}EncodeTransform(t,n){let u={Encode:r(s=>n[_t].Encode(t(s)),"Encode"),Decode:r(s=>this.decode(n[_t].Decode(s)),"Decode")};return{...n,[_t]:u}}EncodeSchema(t,n){let o={Decode:this.decode,Encode:t};return{...n,[_t]:o}}Encode(t){return lo(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};r(bl,"TransformEncodeBuilder");var _l=bl;function f_(e){return new hl(e)}r(f_,"Transform");function m_(e={}){var t;return R({[B]:(t=e[B])!=null?t:"Unsafe"},e)}r(m_,"Unsafe");function p_(e){return R({[B]:"Void",type:"void"},e)}r(p_,"Void");var wl={};Su(wl,{Any:()=>ar,Array:()=>fo,AsyncIterator:()=>mo,Awaited:()=>bo,BigInt:()=>_o,Boolean:()=>Zs,Capitalize:()=>Wh,Composite:()=>hh,Const:()=>_h,Constructor:()=>po,ConstructorParameters:()=>yh,Date:()=>Ys,Enum:()=>bh,Exclude:()=>So,Extends:()=>xo,Extract:()=>To,Function:()=>Mn,Index:()=>cr,InstanceType:()=>Dh,Integer:()=>jh,Intersect:()=>St,Iterator:()=>yo,KeyOf:()=>wo,Literal:()=>we,Lowercase:()=>$h,Mapped:()=>lh,Module:()=>o_,Never:()=>Le,Not:()=>i_,Null:()=>ea,Number:()=>Cn,Object:()=>Fe,Omit:()=>dr,Optional:()=>Lt,Parameters:()=>s_,Partial:()=>Eo,Pick:()=>fr,Promise:()=>Xs,Readonly:()=>Xt,ReadonlyOptional:()=>a_,Record:()=>aa,Recursive:()=>u_,Ref:()=>tn,RegExp:()=>c_,Required:()=>Ro,Rest:()=>l_,ReturnType:()=>d_,String:()=>ur,Symbol:()=>ta,TemplateLiteral:()=>Qs,Transform:()=>f_,Tuple:()=>Yt,Uint8Array:()=>ra,Uncapitalize:()=>Vh,Undefined:()=>na,Union:()=>ve,Unknown:()=>vo,Unsafe:()=>m_,Uppercase:()=>zh,Void:()=>p_});var Ln=wl;var RR=500,wW=8192-RR;var PR=Ln.Object({relativePath:Ln.Optional(Ln.String()),uri:Ln.String(),source:Ln.String(),languageId:Ln.String()}),vW=Ln.Intersect([PR,Ln.Object({offset:Ln.Number()})]);var ga=Wn(require("path")),Fn=require("worker_threads");function gP(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}r(gP,"sleep");var Q_=["getSimilarSnippets","sleep"],zl=class zl{constructor(){this.nextHandlerId=0;this.handlers=new Map;this.fns=new Map;this.getSimilarSnippets=Yp;this.sleep=gP;var t;!Fn.isMainThread&&((t=Fn.workerData)!=null&&t.port)&&(Z_(),process.cwd=()=>Fn.workerData.cwd,this.configureWorkerResponse(Fn.workerData.port))}initWorker(){let{port1:t,port2:n}=new Fn.MessageChannel;this.port=t,this.worker=new Fn.Worker(ga.default.resolve(ga.default.extname(__filename)!==".ts"?__dirname:ga.default.resolve(__dirname,"../../dist"),"workerProxy.js"),{workerData:{port:n,cwd:process.cwd()},transferList:[n]}),this.port.on("message",o=>this.handleMessage(o)),this.port.on("error",o=>this.handleError(o))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of Q_)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of Q_){let n=this.fns.get(t);if(n)this[t]=n;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",n=>void this.onMessage(n))}async onMessage({id:t,fn:n,args:o}){let i=this[n];if(!i)throw new Error(`Function not found: ${n}`);try{let u=await i.apply(this,o);this.port.postMessage({id:t,res:u})}catch(u){if(!(u instanceof Error))throw u;typeof u.code=="string"?this.port.postMessage({id:t,err:u,code:u.code}):this.port.postMessage({id:t,err:u})}}handleMessage({id:t,err:n,code:o,res:i}){let u=this.handlers.get(t);u&&(this.handlers.delete(t),n?(n.code=o,u.reject(n)):u.resolve(i))}handleError(t){var o;console.log(t);let n;if(t instanceof Error){n=t,n.code==="MODULE_NOT_FOUND"&&((o=n.message)!=null&&o.endsWith("workerProxy.js'"))&&(n=new rr("Failed to load workerProxy.js"));let i=new Error().stack;n.stack&&(i!=null&&i.match(/^Error\n/))&&(n.stack+=i.replace(/^Error/,""))}else t&&typeof t=="object"&&"name"in t&&t.name==="ExitStatus"&&"status"in t&&typeof t.status=="number"?(n=new Error(`workerProxy.js exited with status ${t.status}`),n.code=`CopilotPromptWorkerExit${t.status}`):n=new Error(`Non-error thrown: ${JSON.stringify(t)}`);for(let i of this.handlers.values())i.reject(n);throw n}proxy(t){this[t]=function(...n){let o=this.nextHandlerId++;return new Promise((i,u)=>{var s;this.handlers.set(o,{resolve:i,reject:u}),(s=this.port)==null||s.postMessage({id:o,fn:t,args:n})})}}};r(zl,"WorkerProxy");var Vl=zl,hP=new Vl;var Gl=class Gl{constructor(t,n,o){this.languageId=t;this.nodeMatch=n;this.nodeTypesWithBlockOrStmtChild=o}async getNodeMatchAtPosition(t,n,o){let i=await Lr(this.languageId,t);try{let s=i.rootNode.descendantForIndex(n);for(;s;){let a=this.nodeMatch[s.type];if(a){if(!this.nodeTypesWithBlockOrStmtChild.has(s.type))break;let c=this.nodeTypesWithBlockOrStmtChild.get(s.type),l=c==""?s.namedChildren[0]:s.childForFieldName(c);if((l==null?void 0:l.type)==a)break}s=s.parent}return s?o(s):void 0}finally{i.delete()}}getNextBlockAtPosition(t,n,o){return this.getNodeMatchAtPosition(t,n,i=>{let u=i.children.reverse().find(s=>s.type==this.nodeMatch[i.type]);if(u){if(this.languageId=="python"&&u.parent){let s=u.parent.type==":"?u.parent.parent:u.parent,a=s==null?void 0:s.nextSibling;for(;a&&a.type=="comment";){let c=a.startPosition.row==u.endPosition.row&&a.startPosition.column>=u.endPosition.column,l=a.startPosition.row>s.endPosition.row&&a.startPosition.column>s.startPosition.column;if(c||l)u=a,a=a.nextSibling;else break}}if(!(u.endIndex>=u.tree.rootNode.endIndex-1&&(u.hasError()||u.parent.hasError())))return o(u)}})}async isBlockBodyFinished(t,n,o){let i=(t+n).trimEnd(),u=await this.getNextBlockAtPosition(i,o,s=>s.endIndex);if(u!==void 0&&u<i.length){let s=u-t.length;return s>0?s:void 0}}getNodeStart(t,n){let o=t.trimEnd();return this.getNodeMatchAtPosition(o,n,i=>i.startIndex)}};r(Gl,"BaseBlockParser");var ha=Gl,Kl=class Kl extends ha{constructor(n,o,i,u,s){super(n,u,s);this.blockEmptyMatch=o;this.lineMatch=i}isBlockStart(n){return this.lineMatch.test(n.trimStart())}async isBlockBodyEmpty(n,o){let i=await this.getNextBlockAtPosition(n,o,u=>{u.startIndex<o&&(o=u.startIndex);let s=n.substring(o,u.endIndex).trim();return s==""||s.replace(/\s/g,"")==this.blockEmptyMatch});return i===void 0||i}async isEmptyBlockStart(n,o){return o=X_(n,o),this.isBlockStart(yP(n,o))&&this.isBlockBodyEmpty(n,o)}};r(Kl,"RegexBasedBlockParser");var _a=Kl;function yP(e,t){let n=e.lastIndexOf(`
`,t-1),o=e.indexOf(`
`,t);return o<0&&(o=e.length),e.slice(n+1,o)}r(yP,"getLineAtOffset");function X_(e,t){let n=t;for(;n>0&&/\s/.test(e.charAt(n-1));)n--;return n}r(X_,"rewindToNearestNonWs");function J_(e,t){let n=e.startIndex,o=e.startIndex-e.startPosition.column,i=t.substring(o,n);if(/^\s*$/.test(i))return i}r(J_,"indent");function bP(e,t,n){if(t.startPosition.row<=e.startPosition.row)return!1;let o=J_(e,n),i=J_(t,n);return o!==void 0&&i!==void 0&&o.startsWith(i)}r(bP,"outdented");var Hl=class Hl extends ha{constructor(n,o,i,u,s,a,c){super(n,o,i);this.startKeywords=u;this.blockNodeType=s;this.emptyStatementType=a;this.curlyBraceLanguage=c}isBlockEmpty(n,o){var u,s;let i=n.text.trim();return this.curlyBraceLanguage&&(i.startsWith("{")&&(i=i.slice(1)),i.endsWith("}")&&(i=i.slice(0,-1)),i=i.trim()),!!(i.length==0||this.languageId=="python"&&(((u=n.parent)==null?void 0:u.type)=="class_definition"||((s=n.parent)==null?void 0:s.type)=="function_definition")&&n.children.length==1&&Xp(n.parent))}async isEmptyBlockStart(n,o){var u,s,a,c;if(o>n.length)throw new RangeError("Invalid offset");for(let l=o;l<n.length&&n.charAt(l)!=`
`;l++)if(/\S/.test(n.charAt(l)))return!1;o=X_(n,o);let i=await Lr(this.languageId,n);try{let l=i.rootNode.descendantForIndex(o-1);if(l==null||this.curlyBraceLanguage&&l.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&l.parent&&l.parent.type=="object"&&l.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let T=l;for(;T.parent;){if(T.type=="function_signature"||T.type=="method_signature"){let P=l.nextSibling;return P&&T.hasError()&&bP(T,P,n)?!0:!T.children.find(L=>L.type==";")&&T.endIndex<=o}T=T.parent}}let m=null,g=null,_=null,v=l;for(;v!=null;){if(v.type==this.blockNodeType){g=v;break}if(this.nodeMatch[v.type]){_=v;break}if(v.type=="ERROR"){m=v;break}v=v.parent}if(g!=null){if(!g.parent||!this.nodeMatch[g.parent.type])return!1;if(this.languageId=="python"){let T=g.previousSibling;if(T!=null&&T.hasError()&&(T.text.startsWith('"""')||T.text.startsWith("'''")))return!0}return this.isBlockEmpty(g,o)}if(m!=null){if(((u=m.previousSibling)==null?void 0:u.type)=="module"||((s=m.previousSibling)==null?void 0:s.type)=="internal_module"||((a=m.previousSibling)==null?void 0:a.type)=="def")return!0;let T=[...m.children].reverse(),P=T.find(L=>this.startKeywords.includes(L.type)),j=T.find(L=>L.type==this.blockNodeType);if(P){switch(this.languageId){case"python":{P.type=="try"&&l.type=="identifier"&&l.text.length>4&&(j=(c=T.find($=>$.hasError()))==null?void 0:c.children.find($=>$.type=="block"));let L,Q=0;for(let $ of m.children){if($.type==":"&&Q==0){L=$;break}$.type=="("&&(Q+=1),$.type==")"&&(Q-=1)}if(L&&P.endIndex<=L.startIndex&&L.nextSibling){if(P.type=="def"){let $=L.nextSibling;if($.type=='"'||$.type=="'"||$.type=="ERROR"&&($.text=='"""'||$.text=="'''"))return!0}return!1}break}case"javascript":{let L=T.find(Y=>Y.type=="formal_parameters");if(P.type=="class"&&L)return!0;let Q=T.find(Y=>Y.type=="{");if(Q&&Q.startIndex>P.endIndex&&Q.nextSibling!=null||T.find(Y=>Y.type=="do")&&P.type=="while"||P.type=="=>"&&P.nextSibling&&P.nextSibling.type!="{")return!1;break}case"typescript":{let L=T.find($=>$.type=="{");if(L&&L.startIndex>P.endIndex&&L.nextSibling!=null||T.find($=>$.type=="do")&&P.type=="while"||P.type=="=>"&&P.nextSibling&&P.nextSibling.type!="{")return!1;break}}return j&&j.startIndex>P.endIndex?this.isBlockEmpty(j,o):!0}}if(_!=null){let T=this.nodeMatch[_.type],P=_.children.slice().reverse().find(j=>j.type==T);if(P)return this.isBlockEmpty(P,o);if(this.nodeTypesWithBlockOrStmtChild.has(_.type)){let j=this.nodeTypesWithBlockOrStmtChild.get(_.type),L=j==""?_.children[0]:_.childForFieldName(j);if(L&&L.type!=this.blockNodeType&&L.type!=this.emptyStatementType)return!1}return!0}return!1}finally{i.delete()}}};r(Hl,"TreeSitterBasedBlockParser");var gr=Hl,U3={python:new gr("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new gr("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new gr("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new gr("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new _a("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new _a("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new gr("csharp",{},new Map([]),[],"block",null,!0),java:new gr("java",{},new Map([]),[],"block",null,!0)};function Gr(e){switch(e){case 0:case 2:case 7:case 8:case 11:case 12:case 13:case 14:return!0;default:return!1}}r(Gr,"isTypeDefinition");var Lo=class Lo{constructor(t,n){this.start=t,this.length=n}static fromBounds(t,n){return new Lo(t,n-t)}get end(){return this.start+this.length}contains(t){return this.start<=t&&this.end>=t}containsRange(t){return this.start<=t.start&&this.end>=t.end}equals(t){return this.start===t.start&&this.length===t.length}getText(t){return t.slice(this.start,this.end)}getTextWithIndentation(t,n){let o=[],i=this.start;for(i=ey(t,t.length,i),Y_(o,n);i<this.end;)t[i]!=="\r"&&t[i]!==`
`?o.push(t[i++]):t[i]==="\r"&&i<t.length&&t[i+1]!==`
`||t[i]===`
`?(o.push(`
`),i=ey(t,t.length,++i),Y_(o,n)):i++;return o.join("")}};r(Lo,"TextRange"),Lo.empty=new Lo(0,0);var an=Lo;function Y_(e,t){for(let n=0;n<t;n++)e.push(" ")}r(Y_,"appendIndent");function ey(e,t,n){for(;n<t&&(e[n]===" "||e[n]==="	");)n++;return n}r(ey,"consumeIndent");var Zl=class Zl{constructor(t,n,o,i,u,s,a,c,l){this.fileName=t;this.fullyQualifiedName=n;this.unqualifiedName=o;this.commentRange=i;this.nameRange=u;this.bodyRange=s;this.extentRange=a;this.kind=c;this.refKind=l;if(t.indexOf("\\")!==-1)throw new Error("fileName must be normalized to use forward slashes as path separators")}equals(t){return this.fileName===t.fileName&&this.fullyQualifiedName===t.fullyQualifiedName&&this.unqualifiedName===t.unqualifiedName&&this.commentRange.equals(t.commentRange)&&this.nameRange.equals(t.nameRange)&&this.bodyRange.equals(t.bodyRange)&&this.extentRange.equals(t.extentRange)&&this.kind===t.kind&&this.refKind===t.refKind}};r(Zl,"SymbolRange");var Oo=Zl,Ki=class Ki{constructor(){this.queriesCache=new Map}async executeQuery(t,n,o){let i;try{i=await Lr(this.languageId,n);let u=i.getLanguage(),a=this.getOrCreateQuery(u,o).matches(i.rootNode),c=new vs,l=[];for(let m of a){let g=this.createSymbolRange(c,t,n,m.captures);g&&l.push(g)}return l}finally{i==null||i.delete()}}getOrCreateQuery(t,n){let o=this.queriesCache.get(n);return o||(o=t.query(n),this.queriesCache.set(n,o)),o}createSymbolRange(t,n,o,i){let u=0,s=0,a=0,c=0,l=0,m=0,g=0,_=0,v=null,T=null;for(let L=0;L<i.length;L++){let Q=i[L].name;Q==="name"?(l=i[L].node.startIndex,m=i[L].node.endIndex):Q==="reference"?(l=i[L].node.startIndex,m=i[L].node.endIndex,a=i[L].node.startIndex,c=i[L].node.endIndex,v=Q):Q==="body"?(g=i[L].node.startIndex,_=i[L].node.endIndex):Q==="comment"?(u=u===0?i[L].node.startIndex:Math.min(u,i[L].node.startIndex),s=Math.max(s,i[L].node.endIndex)):Q==="receiver"?T=an.fromBounds(i[L].node.startIndex,i[L].node.endIndex).getText(o):(a=i[L].node.startIndex,c=i[L].node.endIndex,v=Q)}v==="definition.module.filescoped"&&(_=o.length,c=_);let P=an.fromBounds(a,c),j=a>0||c>0||l>0||m>0?new Oo(n,"","",an.fromBounds(u,s),an.fromBounds(l,m),an.fromBounds(g,_),P,Ki.kindFromString(v),0):null;if(j){Ki.updateScopesForSymbol(t,j);let L=j.nameRange.getText(o),Q=this.createNameFromScopes(o,t.toArray());return Q=T?`${T}.${Q}`:Q,new Oo(n,Q,L.substring(L.lastIndexOf(".")+1),j.commentRange,j.nameRange,j.bodyRange,j.extentRange,j.kind,0)}return null}static updateScopesForSymbol(t,n){var o;for(;t.tryPeek()&&!((o=t.peek())!=null&&o.extentRange.containsRange(n.extentRange));)t.pop();t.push(n)}static kindFromString(t){switch(t){case"definition.class":return 0;case"definition.constant":return 1;case"definition.enum_variant":return 3;case"definition.enum":return 2;case"definition.field":return 4;case"definition.function":return 5;case"definition.implementation":return 6;case"definition.interface":return 7;case"definition.macro":return 8;case"definition.method":return 9;case"definition.module":case"definition.module.filescoped":return 10;case"definition.struct":return 11;case"definition.trait":return 12;case"definition.type":return 13;case"definition.union":return 14;case"reference":return 16;default:throw new Error("NotSupportedException")}}};r(Ki,"SymbolExtractorBase");var xn=Ki;var Ql=class Ql extends xn{get languageId(){return"go"}extractSymbols(t,n){return this.executeQuery(t,n,wP)}createNameFromScopes(t,n){return n.map(o=>o.nameRange.getText(t)).join(".")}};r(Ql,"GoSymbolExtractor");var ya=Ql,Jl=class Jl extends xn{get languageId(){return"go"}createNameFromScopes(t,n){return n.length>0?n[n.length-1].nameRange.getText(t):""}extractReferences(t,n){return this.executeQuery(t,n,vP)}async extractLocalReferences(t,n,o){let i=await this.executeQuery(t,n,IP),u=i.filter(c=>c.kind!==9),s=i.filter(c=>c.kind===9&&c.extentRange.containsRange(o)),a=[];for(let c of s)a.push(...u.filter(l=>c.extentRange.containsRange(l.extentRange)));return a}};r(Jl,"GoReferenceExtractor");var ba=Jl,wP=`
(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (struct_type (field_declaration_list) @body))) @definition.struct
)

(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (interface_type (_)) @body)) @definition.interface
)

(
    ((comment)* @comment)
    .
    (method_declaration receiver: (parameter_list (parameter_declaration type: [(type_identifier) @receiver (pointer_type (type_identifier) @receiver)] )) name: (_) @name body: (_) @body) @definition.method
)

(
    ((comment)* @comment)
    .
    (method_elem name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (function_declaration name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (field_declaration name: (_) @name) @definition.field
)
`,vP=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`,IP=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`;var Xl=class Xl extends xn{get languageId(){return"java"}extractSymbols(t,n){return this.executeQuery(t,n,xP)}createNameFromScopes(t,n){return n.map(o=>o.nameRange.getText(t)).join(".")}};r(Xl,"JavaSymbolExtractor");var wa=Xl,Yl=class Yl extends xn{get languageId(){return"java"}createNameFromScopes(t,n){return n.length>0?n[n.length-1].nameRange.getText(t):""}extractReferences(t,n){return this.executeQuery(t,n,SP)}async extractLocalReferences(t,n,o){let i=await this.executeQuery(t,n,TP),u=i.filter(c=>c.kind!==9),s=i.filter(c=>c.kind===9&&c.extentRange.containsRange(o)),a=[];for(let c of s)a.push(...u.filter(l=>c.extentRange.containsRange(l.extentRange)));return a}};r(Yl,"JavaReferenceExtractor");var va=Yl,xP=`
(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (class_declaration name: (identifier) @name body: (class_body) @body) @definition.class
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (constructor_declaration name: (identifier) @name body: (constructor_body) @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (method_declaration name: (identifier) @name body: (block)? @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (interface_declaration name: (identifier) @name body: (interface_body) @body) @definition.interface
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (field_declaration declarator: (variable_declarator name: (identifier) @name)) @definition.field
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_declaration name: (_) @name body: (_) @body) @definition.enum
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_constant name: (identifier) @name) @definition.enum_variant
)
`,SP=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`,TP=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`;var EP=new Set(["int","str","float","bool","list","dict","tuple","set"]),ed=class ed extends xn{get languageId(){return"python"}extractSymbols(t,n){return this.executeQuery(t,n,RP)}createNameFromScopes(t,n){return n.map(o=>o.nameRange.getText(t)).join(".")}};r(ed,"PythonSymbolExtractor");var Ia=ed,td=class td extends xn{get languageId(){return"python"}createNameFromScopes(t,n){return n.length>0?n[n.length-1].nameRange.getText(t):""}async extractReferences(t,n){return(await this.executeQuery(t,n,PP)).filter(i=>!EP.has(i.unqualifiedName))}async extractLocalReferences(t,n,o){let i=await this.executeQuery(t,n,kP),u=i.filter(c=>c.kind!==9),s=i.filter(c=>c.kind===9&&c.extentRange.containsRange(o)),a=[];for(let c of s)a.push(...u.filter(l=>c.extentRange.containsRange(l.extentRange)));return a}};r(td,"PythonReferenceExtractor");var xa=td,RP=`
(
    ((comment)* @comment)
    .
    (class_definition name: (_) @name body: (_) @body) @definition.class
)

(
    ((comment)* @comment)
    .
    (function_definition name: (_) @name body: (_) @body) @definition.method
)
`,PP=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
]) @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`,kP=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
])  @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`;var nd=[{symbolExtractor:new wa,referenceExtractor:new va,languageId:"java"},{symbolExtractor:new ya,referenceExtractor:new ba,languageId:"go"},{symbolExtractor:new Ia,referenceExtractor:new xa,languageId:"python"}];var ny=nd.map(e=>e.referenceExtractor),ry=nd.map(e=>e.symbolExtractor),VV=nd.map(e=>Er[e.languageId].extensions).flat();var oy=require("fs");async function iy(e,t,n,o,i){let u=new Map,s=0;for(let g of e){let _=g.node.fileName.toLowerCase(),v=u.get(_);v?v.symbols.push(g):u.set(_,{symbols:[g],topRank:s}),s++}if(u.delete(n.toLowerCase()),u.size===0)return[];let a=t,c=t/Math.min(4,u.size),l=[],m=Array.from(u.keys());m.sort((g,_)=>{let v=u.get(g).topRank,T=u.get(_).topRank;return v-T});for(let g of m){let _=u.get(g).symbols;if(_.length===0)continue;let v=_[0].node.fileName,T=_.reduce((P,j)=>P+j.node.extentRange.length,0);for(let P of _){if(a<=5)return l;$n(i);let j=P.node.extentRange.length/T,L=Math.min(a,j*c),Q=(await MP([P])).makePrompt(L);a-=o.tokenLength(Q),l.push({uri:v,value:Q})}}return l}r(iy,"symbolRangesToCodeSnippets");async function MP(e){if(e.length===0)return new Cr([]);let t=e[0].node.fileName,n=[],o=Rr(t).fsPath,i=(await oy.promises.readFile(o)).toString();for(let u of e)sy(u,i).forEach(s=>n.push(s));return new Cr(n)}r(MP,"sameFileSymbolRangeToElidableText");function sy(e,t){let o=[],i=e.node,u=t.substring(rd(t,i.commentRange.start),i.commentRange.end);o.push([od(u),1-3e-4]);let s=rd(t,i.bodyRange.start),a=rd(t,i.extentRange.start),c=i.bodyRange.length===0?t.substring(a,i.extentRange.end):t.substring(i.commentRange.length===0?a:i.commentRange.end,s);if(Gr(i.kind)&&(c="BEGIN "+c.trimStart()),o.push([od(c),1-1e-4]),e.children.length>0)for(let l of e.children)o.push(...sy(l,t));else{let l=1-(Gr(e.node.kind)?3e-4:4e-4),m=t.substring(s,i.bodyRange.end);o.push([od(m),l])}return Gr(i.kind)&&o.push(["END "+c.substring(6),1-1e-4]),o.filter(l=>l[0].length>0)}r(sy,"prepareForElidableText");function rd(e,t){for(;t-1>=0&&(e[t-1]==="	"||e[t-1]===" ");)t--;return t}r(rd,"shiftLeftToNearestLineEndingOrAlphanumeric");function od(e){let t=0;for(;t<e.length&&(e[t]==="\r"||e[t]===`
`);)t++;let n=e.length-1;for(;n>=0&&(e[n]==="\r"||e[n]===`
`||e[n]===" "||e[n]==="	");)n--;return e.substring(t,n+1)}r(od,"trimLineEndingsAndTrailingWhitespace");var sd=class sd{constructor(t,n){this.referenceExtractors=new Map;this.index=t;for(let o of n)this.referenceExtractors.set(o.languageId,o)}};r(sd,"ContextRetrievalStrategy");var id=sd,ad=class ad extends id{constructor(t,n,o,i){super(t,n),this.caseSensitive=o,this.typesOnly=i}async getContextAtPositionAsync(t,n,o,i,u){let s=this.referenceExtractors.get(i);if(!s)return[];$n(u);let a=await s.extractReferences(t,n);$n(u);let c=Array.from(a);c.sort((_,v)=>this.compareSymbolRangesByProximityToCaret(_,v,o));let l=[],m=new Set,g=await this.findDefinitionsViaUnqualifiedNames(c,u);this.typesOnly&&(g=g.filter(_=>Gr(_.kind)));for(let _ of g)m.has(JSON.stringify(_))||(m.add(JSON.stringify(_)),l.push(await this.makeSymbolRangeNodeFromDefinition(_,u)));return l}async findDefinitionsViaUnqualifiedNames(t,n){var m;let o=Array.from(new Set(t.map(g=>g.unqualifiedName))),i=!this.caseSensitive,u=await this.index.findPotentialDefinitionsAsync(o,i,n),s=r(g=>i?g.toLowerCase():g,"lowercaseIfCaseInsensitive"),a=r(g=>s(g.unqualifiedName),"getSymbolKey"),c=new Map;for(let g of u){let _=a(g),v=(m=c.get(_))!=null?m:[];c.set(_,[...v,g])}let l=[];for(let g of o){let _=c.get(s(g));!_||_.length>20||l.push(..._)}return l}async makeSymbolRangeNodeFromDefinition(t,n){if($n(n),Gr(t.kind)){let o=await this.index.findSymbolsByFullyQualifiedNamePrefix(t.fileName,t.fullyQualifiedName+".",n),i=await Promise.all(o.map(u=>this.makeSymbolRangeNodeFromDefinition(u,n)));return{node:t,children:i}}else return{node:t,children:[]}}compareSymbolRangesByProximityToCaret(t,n,o){let i=t.extentRange.end<=o,u=n.extentRange.end<=o;if(i&&!u)return-1;if(!i&&u)return 1;let s=Math.abs(t.extentRange.start-o),a=Math.abs(n.extentRange.start-o);return s-a}};r(ad,"DynamicallyTypedRetrievalStrategy");var Hi=ad,ud=class ud{constructor(t,n){this.strategies=new Map;this.strategies.set("java",new Hi(t,n,!0,!0)),this.strategies.set("go",new Hi(t,n,!0,!0)),this.strategies.set("python",new Hi(t,n,!1,!1))}async getStringifiedContextAtPositionAsync(t,n,o,i,u,s){let a=await this.getContextAtPositionAsync(t,n,o,i,s);$n(s);let c=_n();return iy(a,u,t,c,s)}async getContextAtPositionAsync(t,n,o,i,u){return this.strategies.has(i)?this.strategies.get(i).getContextAtPositionAsync(t,n,o,i,u):[]}};r(ud,"SyntaxAwareContextRetrieval");var Sa=ud;var Kr={Id:"id"},Gt={FilePath:"filePath",LastWriteTimeUtc:"lastWriteTimeUtc"},fe={DocumentId:"documentId",FullyQualifiedName:"fullyQualifiedName",UnqualifiedName:"unqualifiedName",CommentStart:"commentStart",CommentLength:"commentLength",NameStart:"nameStart",NameLength:"nameLength",BodyStart:"bodyStart",BodyLength:"bodyLength",ExtentStart:"extentStart",ExtentLength:"extentLength",SymbolKind:"symbolKind",RefKind:"refKind"};var ld=class ld{constructor(t,n,o){this.tableName=t;this.createOptimizations=n;this.extraCreateDeclarations=o;this.primaryKey=new cd(Kr.Id)}createTableQueries(){var t;return(t=this.createTableString)!=null||(this.createTableString=this.generateCreateTableString()),[this.createTableString,...this.createOptimizations]}generateCreateTableString(){let t=this.fields.map(n=>n.initColumnString());return this.extraCreateDeclarations&&t.push(this.extraCreateDeclarations),t.push(),[`CREATE TABLE IF NOT EXISTS ${this.tableName} (`,`    ${this.primaryKey.initColumnString()},`,`    ${t.join(`,
`)}`,")"].join(`
`)}insertQuery(t,n){var i;(i=this.cachedInsertQueryStrings)!=null||(this.cachedInsertQueryStrings=this.generateInsertQueryStrings());let o=[this.cachedInsertQueryStrings.prefix,Array(n).fill(this.cachedInsertQueryStrings.valuesTemplate).join(`,
`)];return t&&o.push("ON CONFLICT DO NOTHING"),o.join(`
`)}generateInsertQueryStrings(){return{prefix:`INSERT INTO ${this.tableName} (${this.fields.map(t=>t.name).join(", ")})
VALUES`,valuesTemplate:`(${Array(this.fields.length).fill("?").join(", ")})`}}};r(ld,"SQLTableQueryGenerator");var Ta=ld,Fo=class Fo extends Ta{constructor(){super(Fo.tableName,[`CREATE UNIQUE INDEX IF NOT EXISTS 'IX_Document_FilePath' ON '${Fo.tableName}' ('${Gt.FilePath}');`]);this.fields=[new Xi(Gt.FilePath,{notNull:!0,collate:!0,noCase:!0,unique:!0}),new At(Gt.LastWriteTimeUtc,{notNull:!0})]}};r(Fo,"DocumentQueryGenerator"),Fo.tableName="Document";var Zi=Fo,Hr=class Hr extends Ta{constructor(){super(Hr.tableName,[`CREATE INDEX IF NOT EXISTS 'IX_Symbol_DocumentId' ON '${Hr.tableName}' ('${fe.DocumentId}', '${fe.ExtentStart}', '${fe.ExtentLength}');`,`CREATE INDEX IF NOT EXISTS 'IX_Symbol_UnqualifiedName' ON '${Hr.tableName}' ('${fe.UnqualifiedName}');`],`FOREIGN KEY(${fe.DocumentId}) REFERENCES Document(${Kr.Id}) ON DELETE CASCADE`);this.fields=[new At(fe.DocumentId),new Xi(fe.FullyQualifiedName,{notNull:!0}),new Xi(fe.UnqualifiedName,{notNull:!0}),new At(fe.CommentStart,{notNull:!0}),new At(fe.CommentLength,{notNull:!0}),new At(fe.NameStart,{notNull:!0}),new At(fe.NameLength,{notNull:!0}),new At(fe.BodyStart,{notNull:!0}),new At(fe.BodyLength,{notNull:!0}),new At(fe.ExtentStart,{notNull:!0}),new At(fe.ExtentLength,{notNull:!0}),new At(fe.SymbolKind,{notNull:!0}),new At(fe.RefKind,{notNull:!0})]}};r(Hr,"SymbolQueryGenerator"),Hr.tableName="Symbol";var Qi=Hr,dd=class dd{constructor(t,n){this.name=t;var o;this.notNull=(o=n==null?void 0:n.notNull)!=null?o:!1}};r(dd,"SQLField");var Ji=dd,fd=class fd extends Ji{constructor(t,n){var o,i,u;super(t,{notNull:n==null?void 0:n.notNull}),this.collate=(o=n==null?void 0:n.collate)!=null?o:!1,this.noCase=(i=n==null?void 0:n.noCase)!=null?i:!1,this.unique=(u=n==null?void 0:n.unique)!=null?u:!1}initColumnString(){let t=this.collate?"COLLATE":void 0,n=this.noCase?"NOCASE":void 0,o=this.notNull?"NOT NULL":void 0,i=this.unique?"UNIQUE":void 0,u=[t,n,o,i].filter(s=>s).join(" ");return`'${this.name}' VARCHAR(500) ${u}`}};r(fd,"StringColumn");var Xi=fd,md=class md extends Ji{initColumnString(){return`'${this.name}' INTEGER${this.notNull?" NOT NULL":""}`}};r(md,"NumberColumn");var At=md,pd=class pd extends Ji{initColumnString(){return`'${this.name}' INTEGER PRIMARY KEY AUTOINCREMENT${this.notNull?" NOT NULL":""}`}};r(pd,"NumberPrimaryKeyColumn");var cd=pd;var gd=class gd{constructor(t){this.queryGenerator=this.createQueryGenerator(),this.init=this.doInit(t)}async doInit(t){let n=await t;return await this.create(n),n}async create(t){let n=r(i=>new Promise((u,s)=>{t.run(i,a=>{a?s(a):u()})}),"runQuery"),o=this.queryGenerator.createTableQueries();for(let i of o)await n(i)}async insert(t,n){let o=await this.init;return new Promise((i,u)=>{let s=this.queryGenerator.insertQuery(n,t.length);o.run(s,t.map(a=>Object.values(a)).flat(),function(a){a?u(a):i(this)})})}async getAllRows(){let t=await this.init;return un(t,`SELECT * FROM ${this.queryGenerator.tableName}`,[])}async deleteRow(t){let n=await this.init;return un(n,`DELETE FROM ${this.queryGenerator.tableName} WHERE ${Kr.Id} = ?`,[t])}};r(gd,"SQLTable");var Ea=gd,Ao=class Ao extends Ea{createQueryGenerator(){return new Zi}async updateTimestamp(t,n){let o=await this.init;await un(o,`UPDATE ${Ao.tableName} SET ${Gt.LastWriteTimeUtc} = ? WHERE ${Gt.FilePath} = ?`,[n,t])}async deleteAllWithPath(t){let n=await this.init;await un(n,`DELETE FROM ${Ao.tableName} WHERE ${Gt.FilePath} = ?`,[t])}async getDocumentByFilePath(t){let n=await this.init;return un(n,`SELECT * FROM ${this.queryGenerator.tableName} WHERE ${Gt.FilePath} = ?`,[t])}};r(Ao,"DocumentTable"),Ao.tableName=Zi.tableName;var Jn=Ao,Yi=class Yi extends Ea{createQueryGenerator(){return new Qi}async clearAllSymbolsFromDocument(t){let n=await this.init;return un(n,`DELETE FROM ${Yi.tableName} WHERE ${fe.DocumentId} = ?`,[t])}};r(Yi,"SymbolTable"),Yi.tableName=Qi.tableName;var ut=Yi;async function un(e,t,n){return new Promise((o,i)=>e.all(t,n,(u,s)=>{u&&i(u),o(s)}))}r(un,"runPromisifiedDBQuery");var wy=Wn(by());var wd=class wd{constructor(t){this.databaseFileName=t;this.innerJoinStatement=`INNER JOIN ${Jn.tableName} ON ${ut.tableName}.${fe.DocumentId} = ${Jn.tableName}.${Kr.Id}`;this.db=this.initDb(t),this.documentTable=new Jn(this.db),this.symbolTable=new ut(this.db)}async initDb(t){let n=await new Promise((o,i)=>{let u=new wy.Database(t,s=>{s?(console.error("Error opening database",s),i(s)):o(u)})});return await un(n,"pragma journal_mode=wal",[]),await un(n,"pragma synchronous=normal",[]),await un(n,"pragma optimize=0x10002",[]),await un(n,"pragma foreign_keys = ON",[]),n}async close(){let t=await this.db;return await this.documentTable.init,await this.symbolTable.init,new Promise((n,o)=>{t.close(i=>i?o(i):n())})}async querySymbolsFuzzilyUsingUnqualifiedName(t,n){return await this.query([`SELECT * FROM ${ut.tableName}`,this.innerJoinStatement,`WHERE ${fe.UnqualifiedName} BETWEEN ? AND (? || '~')`,`ORDER BY ${fe.UnqualifiedName}`,"LIMIT ?"].join(`
`),[t,t,n])}async querySymbolsUsingUnqualifiedNames(t,n){let o=t.map(()=>"?").join(", "),i=n?"COLLATE NOCASE ":"";return await this.query([`SELECT * FROM ${ut.tableName}`,this.innerJoinStatement,`WHERE ${fe.UnqualifiedName} ${i}IN (${o})`].join(`
`),t)}async querySymbolsUsingFullyQualifiedName(t){return this.query([`SELECT * FROM ${ut.tableName}`,this.innerJoinStatement,`WHERE ${fe.FullyQualifiedName} = ?`].join(`
`),[t])}async querySymbolsContainingPosition(t,n){return this.query([`SELECT * FROM ${ut.tableName}`,this.innerJoinStatement,`WHERE ${Jn.tableName}.${Gt.FilePath} = ? AND ${ut.tableName}.${fe.ExtentStart} <= ? AND (${ut.tableName}.${fe.ExtentStart} + ${ut.tableName}.${fe.ExtentLength}) >= ?`].join(`
`),[t,n,n])}async querySymbolsContainedByRange(t,n,o){return this.query([`SELECT * FROM ${ut.tableName}`,this.innerJoinStatement,`WHERE ${Jn.tableName}.${Gt.FilePath} = ? AND ${ut.tableName}.${fe.ExtentStart} >= ? AND (${ut.tableName}.${fe.ExtentStart} + ${ut.tableName}.${fe.ExtentLength}) <= ?`,`ORDER BY ${ut.tableName}.${fe.ExtentStart}`].join(`
`),[t,n,o])}async querySymbolsByQualifiedNamePrefix(t,n){return this.query([`SELECT * FROM ${ut.tableName}`,this.innerJoinStatement,`WHERE ${Jn.tableName}.${Gt.FilePath} = ? AND ${ut.tableName}.${fe.FullyQualifiedName} LIKE ?`,`ORDER BY ${ut.tableName}.${fe.ExtentStart}`].join(`
`),[t,`${n}%`])}async insertSymbols(t){return await this.symbolTable.insert(t,!1)}async insertDocument(t,n,o=!1){return await this.documentTable.insert([{filePath:t,lastWriteTimeUtc:n}],o)}async clearAllSymbolsFromDocument(t){return this.symbolTable.clearAllSymbolsFromDocument(t)}async updateDocumentTimestamp(t,n){return this.documentTable.updateTimestamp(t,n)}async deleteAllDocumentsWithPath(t){return this.documentTable.deleteAllWithPath(t)}async getAllDocuments(){return this.documentTable.getAllRows()}getDocument(t){return this.documentTable.getDocumentByFilePath(t)}async query(t,n){let o=await this.db;return await this.documentTable.init,await this.symbolTable.init,un(o,t,n)}};r(wd,"DocumentSymbolDatabase");var ka=wd;var vd=class vd{constructor(t){this.database=new ka(t)}async close(){await this.database.close()}async insertOrReplaceDocumentSymbolsAsync(t,n,o){let i=await this.getOrCreateDocumentAsync(t,n);await this.database.clearAllSymbolsFromDocument(i.id),o.length>0&&await this.database.insertSymbols(o.map(u=>({documentId:i.id,fullyQualifiedName:u.fullyQualifiedName,unqualifiedName:u.unqualifiedName,commentStart:u.commentRange.start,commentLength:u.commentRange.length,nameStart:u.nameRange.start,nameLength:u.nameRange.length,bodyStart:u.bodyRange.start,bodyLength:u.bodyRange.length,extentStart:u.extentRange.start,extentLength:u.extentRange.length,symbolKind:u.kind,refKind:u.refKind}))),await this.database.updateDocumentTimestamp(t,n)}async addDocumentsAsync(t){for(let n of t)n=n.toLowerCase(),await this.database.insertDocument(n,Date.now(),!0)}async deleteDocumentAsync(t){return await this.database.deleteAllDocumentsWithPath(t.toLowerCase())}async updateDocumentTimestampAsync(t,n){return await this.database.updateDocumentTimestamp(t.toLowerCase(),n)}async fuzzyMatchSymbolsAsync(t,n){return Uo(await this.database.querySymbolsFuzzilyUsingUnqualifiedName(t,n))}async findPotentialDefinitionsAsync(t,n,o){let i=[],s=0;for(;s<t.length;){let a=t.slice(s,s+500);s+=500;let c=await this.database.querySymbolsUsingUnqualifiedNames(a,n);i.push(...c),$n(o)}return Uo(i)}async getDefinitionsAsync(t){return Uo(await this.database.querySymbolsUsingFullyQualifiedName(t))}async findSymbolsContainingPositionAsync(t,n){let o=await this.database.querySymbolsContainingPosition(t.toLowerCase(),n);return Uo(o)}async findSymbolsContainedByRangeAsync(t,n,o){return Uo(await this.database.querySymbolsContainedByRange(t.toLowerCase(),n,o))}async findSymbolsByFullyQualifiedNamePrefix(t,n){return Uo(await this.database.querySymbolsByQualifiedNamePrefix(t.toLowerCase(),n))}async getDocumentsAsync(){return this.database.getAllDocuments()}async getDocumentAsync(t){let n=await this.database.getDocument(t);if(n!=null&&n.at(0))return n[0]}async getOrCreateDocumentAsync(t,n){let o=await this.database.getDocument(t);if(o!=null&&o.at(0))return o[0];await this.database.insertDocument(t,n,!0);let i=await this.database.getDocument(t);if(!i)throw Error("Unable to insert document");return i[0]}};r(vd,"SQLStorageReaderWriter");var Ma=vd;function Uo(e){return e.map(t=>new Oo(t.filePath,t.fullyQualifiedName,t.unqualifiedName,new an(t.commentStart,t.commentLength),new an(t.nameStart,t.nameLength),new an(t.bodyStart,t.bodyLength),new an(t.extentStart,t.extentLength),t.symbolKind,t.refKind))}r(Uo,"symbolsToSymbolRanges");var Ca=Wn(require("fs/promises"));var Id=class Id{constructor(t,n){this.storage=new Ma(t),this.symbolExtractors=n}dispose(){return this.storage.close()}get reader(){return this.storage}async indexFile(t,n){let o=mp(Rr(t));if(!o)throw Error(`Cannot resolve a readable file path from ${t}`);let i;try{i=await Ca.stat(o)}catch{await this.storage.deleteDocumentAsync(t);return}let u=i.mtimeMs,s=await this.storage.getDocumentAsync(t);if(s&&s.lastWriteTimeUtc>=u)return;let a=this.symbolExtractors.find(m=>m.languageId==n);if(!a)return;let c=(await Ca.readFile(o)).toString(),l=await a.extractSymbols(t,c);await this.storage.insertOrReplaceDocumentSymbolsAsync(t,u,l)}async getDocumentFilePaths(){return(await this.storage.getDocumentsAsync()).map(n=>n.filePath)}};r(Id,"Index");var Na=Id;function vy(e){let t=e;return typeof(t==null?void 0:t.cwd)=="string"&&Array.isArray(t==null?void 0:t.indexWorkspaceRoots)&&t.indexWorkspaceRoots.every(n=>DP(n))}r(vy,"isIndexWorkerData");var Sd=class Sd{constructor(t){this.operation=t}};r(Sd,"IndexNotification");var xd=Sd;var Xn={CreateIndex:"createIndex",AddOrInvalidated:"addOrInvalidated",GetContext:"getContext",Exit:"exit",Response:"response",RemoveIndex:"removeIndex",Cancel:"cancel",GetAllDocumentsInWorkspace:"getAllDocumentsInWorkspace"};var Td=class Td extends xd{constructor(n,o,i){super(Xn.Response);this.id=n;this.error=o;this.data=i}};r(Td,"ResponseMessage");var ln=Td;function DP(e){return"databaseFilePath"in e&&"rootPath"in e}r(DP,"isIndexableWorkspaceFolder");var eo=Wn(require("path")),Xv=Wn(Jv()),si=require("worker_threads");var tp=class tp{constructor(t){this.index=new Na(t,ry),this.contextRetreival=new Sa(this.index.reader,ny)}};r(tp,"IndexInfo");var xu=tp,mn=class mn{constructor(t,n){this.indices=new Map;this.cancellationTokens=new Map;for(let o of n)this.indices.set(eo.default.normalize(o.rootPath),new xu(o.databaseFilePath));t.on("message",o=>void mn.dispatchMessage(o,this.indices,this.cancellationTokens))}static async dispatchMessage(t,n,o){var i,u;try{let s=new Xv.CancellationTokenSource;o.set(t.id,s);let a;switch(t.operation){case Xn.AddOrInvalidated:a=await mn.dispatchAddOrInvalidate(t,n,s.token);break;case Xn.GetContext:a=await mn.dispatchGetContext(t,n,s.token);break;case Xn.Cancel:(i=o.get(t.id))==null||i.cancel(),a=new ln(t.id,void 0,void 0);break;case Xn.Exit:a=await mn.dispatchExit(t,n,s.token);break;case Xn.CreateIndex:a=await mn.dispatchCreateIndex(t,n,s.token);break;case Xn.RemoveIndex:a=await mn.dispatchRemoveIndex(t,n,s.token);break;case Xn.GetAllDocumentsInWorkspace:a=await mn.GetAllDocumentsInWorkspaceRequest(t,n,s.token);break;default:vt==null||vt.postMessage(new Error(`Unknown operation: ${t.operation}`))}a&&(vt==null||vt.postMessage(a)),(u=o.get(t.id))==null||u.dispose(),o.delete(t.id)}catch(s){if(!(s instanceof Error))throw s;vt==null||vt.postMessage(new ln(t.id,s,void 0))}}static async GetAllDocumentsInWorkspaceRequest(t,n,o){let i=eo.default.normalize(t.baseWorkspaceFolderPath),u,s;return n.has(i)?s=await n.get(i).index.getDocumentFilePaths():u=new Error(`Index not found for ${t.baseWorkspaceFolderPath}`),new ln(t.id,u,s)}static async dispatchAddOrInvalidate(t,n,o){var s;let i=(s=mn.getIndexInfo(t.filePath,n))==null?void 0:s.index,u;return i?await i.indexFile(t.filePath,t.languageId):u=new Error(`Index not found for ${t.filePath}`),new ln(t.id,u,void 0)}static async dispatchGetContext(t,n,o){var a;if(Rr(t.filePath).scheme!=="file")return new ln(t.id,void 0,[]);let i=(a=mn.getIndexInfo(t.filePath,n))==null?void 0:a.contextRetreival,u,s;return i?s=await i.getStringifiedContextAtPositionAsync(t.filePath,t.code,t.offset,t.languageId,8e3,o):u=new Error(`ContextRetrieval not found for ${t.filePath}`),new ln(t.id,u,s)}static async dispatchExit(t,n,o){for(let i of n.values())await i.index.dispose();n.clear(),vt==null||vt.postMessage(new ln(t.id,void 0,void 0)),vt==null||vt.close()}static async dispatchCreateIndex(t,n,o){return n.has(eo.default.normalize(t.baseWorkspaceFolderPath))||n.set(eo.default.normalize(t.baseWorkspaceFolderPath),new xu(t.databaseFilePath)),new ln(t.id,void 0,void 0)}static async dispatchRemoveIndex(t,n,o){let i=eo.default.normalize(t.baseWorkspaceFolderPath);if(n.has(i)){let u=n.get(i);u&&await u.index.dispose(),n.delete(i)}return new ln(t.id,void 0,void 0)}static getIndexInfo(t,n){for(let[o,i]of n)if(eo.default.normalize(t).startsWith(o))return i}};r(mn,"IndexWorker");var ep=mn,vt=si.parentPort;if(!vt)throw new Error("This module should only be used in a worker thread.");if(!vy(si.workerData))throw new Error("Worker data must provide a valid database path.");var B0=si.workerData.cwd;process.cwd=()=>B0;new ep(vt,si.workerData.indexWorkspaceRoots);
//# sourceMappingURL=indexWorker.js.map
